/**
 * MILKA DE/AT/NL
 * env: production
 * version: 1.13.2
 * date: 9/2/2022 11:43:40
 */

!function(e){var t={};function n(i){if(t[i])return t[i].exports;var r=t[i]={i:i,l:!1,exports:{}};return e[i].call(r.exports,r,r.exports,n),r.l=!0,r.exports}n.m=e,n.c=t,n.d=function(e,t,i){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)n.d(i,r,function(t){return e[t]}.bind(null,r));return i},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=24)}([function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var i=["/"],r={trim:function(e){return e.replace(/\s/g,"")},replace:function(e,t,n){return e.replace(t,n)},replaceSpecialChar:function(e){for(var t=e,n=0;n<i.length;n++){var r=i[n];t=t.replace(r,"-")}return t},cleanFilterCategory:function(e){return r.replaceSpecialChar(r.trim(e)).toLowerCase()},toDataSelector:function(e){var t=r.cleanFilterCategory(e),n=t[0].toUpperCase();if(r.findChar("-",t)){var i=t.indexOf("-"),o=i+1,a=t[o].toUpperCase();t=t.slice(0,i)+a+t.slice(o+1,t.length)}return"selected"+(t=n+t.slice(1,t.length))},findChar:function(e,t){try{if(t&&"string"==typeof t&&t.indexOf(e)>-1)return!0}catch(e){console.error(e),console.error(t)}return!1},testRegex:function(e,t){var n=!1;return new RegExp(t).test(e)&&(n=!0),n}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var i={push:function(e){var t=e.event,n=void 0===t?"info-click":t,i=e.category,r=void 0===i?"Informational Click":i,o=e.action,a=void 0===o?"Click":o,c=e.label,s=void 0===c?document.title:c,l=e.customEvent,u=void 0!==l&&l,d=e.data;window.google_tag_manager&&(u?dataLayer.push(d):dataLayer.push({event:n,category:r,action:a,label:s}))},getImpressions:function(){try{return dataLayer[2].ecommerce.impressions}catch(e){return null}}}},function(e,t,n){"use strict";function i(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}n.d(t,"a",(function(){return r}));var r=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.isScrolling=!1}var t,n,r;return t=e,(n=[{key:"disableScroll",value:function(){document.querySelector("body").style.overflow="hidden"}},{key:"enableScroll",value:function(){document.querySelector("body").style.overflow=""}},{key:"scrollTop",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"slow",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=$(e).length>0?$(e).offset().top+n:null,r=$("html, body");r.on("scroll mousedown wheel DOMMouseScroll mousewheel keyup touchmove",(function(){r.stop()})),null!==i&&!0!==this.isScrolling&&(this.isScrolling=!0,r.animate({scrollTop:i},t,(function(){
//! executed on function animate complete
r.off("scroll mousedown wheel DOMMouseScroll mousewheel keyup touchmove"),this.isScrolling=!1})),this.isScrolling=!1)}}])&&i(t.prototype,n),r&&i(t,r),e}()},function(e,t,n){"use strict";n.d(t,"b",(function(){return a})),n.d(t,"a",(function(){return c}));var i=n(2);function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var a=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};r(this,e),this.display=!1,this.scroll=new i.a,this.container=t.loaderSelector&&document.querySelector(t.loaderSelector)?document.querySelector(t.loaderSelector):document.querySelector(".js-loader"),this.loader=null!==this.container?this.container.querySelector("#simple"):null}var t,n,a;return t=e,(n=[{key:"showLoader",value:function(){!this.display&&this.loader&&(this.scroll.disableScroll(),this.loader.style.display="block"),this.display=!0}},{key:"hideLoader",value:function(){!0===this.display&&null!==this.loader&&(this.scroll.enableScroll(),this.loader.removeAttribute("style")),this.display=!1}},{key:"updateLoader",value:function(){this.loader=null!==this.container?this.container.querySelector("#simple"):null}},{key:"addClass",value:function(e){this.loader.classList.add(e)}},{key:"removeClass",value:function(e){this.loader.classList.remove(e)}}])&&o(t.prototype,n),a&&o(t,a),e}(),c=new a({})},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var i={create:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:7,i=new Date,r=i;r.setDate(r.getDate()+n),document.cookie="".concat(e,"=").concat(t,"; expires=").concat(r)},delete:function(e){var t=new Date;t.setDate(t.getDate()-100),document.cookie="".concat(e,'=""; expires=').concat(t)},get:function(e){var t=document.cookie.match(RegExp("(?:^|;\\s*)"+e+"=([^;]*)"));return t?t[1]:null},getObject:function(e){var t=document.cookie.match(RegExp("(?:^|;\\s*)"+e+"=([^;]*)")),n=t?t[1]:null;if(null!==n){for(var i=n.split("&"),r=[],o=0;o<i.length;o++){var a=i[o].split("=");r[a[0]]=a[1]}return r}}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var i="/api/account",r={login:"".concat(i,"/login"),register:"".concat(i,"/register"),forgotPassword:"".concat(i,"/forgotPassword"),resetPassword:"".concat(i,"/resetPassword"),updateUserDetails:"".concat(i,"/updateUser"),changePassword:"".concat(i,"/changePassword"),changeEmail:"".concat(i,"/changeEmail"),createShipping:"".concat(i,"/createShippingAddress"),updateShipping:"".concat(i,"/updateShippingAddress"),deleteShipping:"".concat(i,"/deleteShippingAddress"),getUserInfo:"".concat(i,"/getUserInformation"),deleteUser:"".concat(i,"/deleteUser"),logout:"".concat(i,"/logout")}},,function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var i=n(2);function r(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var o=function(){function e(t){var n=this;if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.onClose=t.onClose?t.onClose:null,this.container=null!==t.container||void 0!==t.container||" "!==t.container?document.querySelector(t.container):document.querySelector("section.js-overlay"),this.overlay=null!==this.container?this.container.querySelector(t.selector):null,this.containerModifier=t.containerModifier||null,this.timeout=t.timeout||0,this.trigger=document.querySelector(t.trigger),this.close=document.querySelectorAll(t.close),this.scroll=new i.a,this.containsForm=null!=this.container&&null!=this.container.querySelector("form"),null!==this.trigger&&this.trigger.addEventListener("click",(function(e){e.preventDefault(),setTimeout((function(){n.openOverlay()}),n.timeout)})),null!==this.close)for(var r=0;r<this.close.length;r++){this.close[r].addEventListener("click",(function(e){e.preventDefault(),n.closeOverlay()}))}null!=this.container&&this.container.addEventListener("click",(function(e){e.preventDefault(),e.target==n.container&&n.closeOverlay()}))}var t,n,o;return t=e,(n=[{key:"openOverlay",value:function(){null!==this.container&&null!==this.overlay&&(this.scroll.disableScroll(),this.container.style.display="",null!==this.containerModifier&&this.container.classList.add(this.containerModifier),this.overlay.style.cssText="")}},{key:"closeOverlay",value:function(){this.onClose&&this.onClose(),null!==this.container&&null!==this.overlay&&(this.scroll.enableScroll(),this.container.style.cssText="display: none",null!==this.containerModifier&&this.container.classList.remove(this.containerModifier),this.overlay.style.cssText="display: none",this.containsForm&&this.resetForm())}},{key:"resetForm",value:function(){for(var e=this.container.querySelector("form"),t=e.querySelectorAll('input[type]:not([type="submit"]), textarea'),n=(this.container.querySelectorAll('input[type="checkbox"]'),0);n<t.length;n++){var i=t[n],r=i.getAttribute("type");if(!i.classList.contains("js-reset-exception")){if(i.value="","hidden"===r&&i.dispatchEvent(new Event("change")),"number"===r&&i.parentNode.querySelectorAll(".js-review-item").length>0)for(var o=i.parentNode.querySelectorAll(".js-review-item"),a=0;a<o.length;a++)o[a].classList.remove("product-review--active");"checkbox"===r&&(i.checked=!1,i.parentElement.classList.remove("active")),null!==i.parentNode&&i.parentNode.classList.remove("notvalid")}}null!==e.querySelector(".form-input__error--global")&&e.querySelector(".form-input__error--global").classList.remove("show")}}])&&r(t.prototype,n),o&&r(t,o),e}()},function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}n.d(t,"a",(function(){return r}));var r=function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};i(this,e),this.id=t.id,this.url=t.url,this.method=t.method,this.disableSubmit=t.disableSubmit||!1,this.redirection=t.redirection,this.resetForm=!1!==t.resetForm||t.resetForm,this.redirect=!1!==t.redirect||t.redirect,this.dataModifier="function"==typeof t.dataModifier?t.dataModifier:null,this.dataLayerPush="function"==typeof t.dataLayerPush?t.dataLayerPush:null,this.btnClickPush="function"==typeof t.btnClickPush?t.btnClickPush:null,this.successHandler="function"==typeof t.successHandler?t.successHandler:null,this.requestDataModifier="function"==typeof t.requestDataModifier?t.requestDataModifier:null}},,,,function(e,t,n){"use strict";function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function r(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var o=function(){function e(t){var n=this;if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.Expanded=!1,this.container="object"==i(t.container)?t.container:document.querySelector(t.container),this.trigger=this.container?this.container.querySelector(t.trigger):null,this.content=this.container?this.container.querySelector(t.content):null,this.icon=this.container?this.container.querySelector(t.icon):null,this.iconModifier=t.iconModifier,this.contentModifier=t.contentModifier,this.multipleTrigger=!!t.multipleTrigger&&t.multipleTrigger,this.multipleContent=this.container?this.container.querySelectorAll(t.multipleContent):null,this.multipleContentModifier=t.multipleContentModifier,this.onOpen=t.onOpen&&"function"==typeof t.onOpen?t.onOpen:null,this.onClose=t.onClose&&"function"==typeof t.onClose?t.onClose:null,this.multipleTrigger&&this.trigger){this.trigger=this.container.querySelectorAll(t.trigger);for(var r=function(e){var t=n.trigger[e];t.addEventListener("click",(function(e){e.preventDefault(),n.toggleAccordion(t)}))},o=0;o<this.trigger.length;o++)r(o)}this.multipleTrigger||null==this.trigger||this.trigger.addEventListener("click",(function(e){e.preventDefault(),n.toggleAccordion()}))}var t,n,o;return t=e,(n=[{key:"toggleAccordion",value:function(e){if(null!==this.content||this.multipleContent.length>0)switch(this.Expanded){case!0:this.closeAccordion(e);break;default:this.openAccordion(e)}}},{key:"openAccordion",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;this.onOpen&&e&&this.onOpen(e),null!=this.icon&&this.icon.classList.add(this.iconModifier);for(var t=0;t<this.multipleContent.length;t++)this.multipleContent[t].classList.add(this.multipleContentModifier);this.content.classList.add(this.contentModifier),this.Expanded=!0}},{key:"closeAccordion",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;null!=this.icon&&this.icon.classList.remove(this.iconModifier),this.onClose&&this.onClose(this.content,e);for(var t=0;t<this.multipleContent.length;t++)this.multipleContent[t].classList.remove(this.multipleContentModifier);this.content.classList.remove(this.contentModifier),this.Expanded=!1}}])&&r(t.prototype,n),o&&r(t,o),e}();function a(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}n.d(t,"a",(function(){return c}));var c=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.container=document.querySelectorAll(t.container),this.trigger=t.trigger,this.content=t.content,this.icon=t.icon,this.iconModifier=t.iconModifier,this.contentModifier=t.contentModifier,this.multipleTrigger=t.multipleTrigger,this.multipleContent=t.multipleContent,this.multipleContentModifier=t.multipleContentModifier,this.onOpen=t.onOpen,this.onClose=t.onClose,".js-footer-accordion"!==this.trigger?this.createAccordion():window.outerWidth<=1024&&this.createAccordion()}var t,n,i;return t=e,(n=[{key:"createAccordion",value:function(){for(var e=0;e<this.container.length;e++)new o({container:this.container[e],trigger:this.trigger,content:this.content,icon:this.icon,iconModifier:this.iconModifier,contentModifier:this.contentModifier,multipleTrigger:this.multipleTrigger,multipleContent:this.multipleContent,multipleContentModifier:this.multipleContentModifier,onOpen:this.onOpen,onClose:this.onClose})}}])&&a(t.prototype,n),i&&a(t,i),e}()},,function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var i={timeStamp:function(){var e=new Date,t=e.getDate(),n=e.getMonth()+1,i=e.getFullYear(),r=e.getHours(),o=e.getMinutes(),a=e.getSeconds();return"".concat(t,"/").concat(n,"/").concat(i," ").concat(r,":").concat(o,":").concat(a)}}},,,,,,function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var i=n(8),r=n(5),o=n(0),a=n(3);function c(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var l=function(){function e(){var t=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new i.a({id:"login-form",url:r.a.login,method:"POST",resetForm:!0});c(this,e),this.formId=n.id,this.submitUrl=n.url,this.submitMethod=n.method,this.successHandler=n.successHandler,this.dataModifier=n.dataModifier,this.resetForm=n.resetForm,this.redirect=n.redirect,this.disableSubmit=n.disableSubmit,this.gaPush=n.dataLayerPush,this.btnPush=n.btnClickPush,this.requestDataModifier=n.requestDataModifier,this.redirection=n.redirection,this.hasCaptcha=!1,this._captchaDetails={},this.RequestData=null,this.SubmitCta=null,this.data={},this.form=null,this.submit=!1,this.loader=new a.b,this.init(),window.addEventListener("load",(function(e){if(t.hasCaptcha)try{grecaptcha.render("recaptcha",{sitekey:t._captchaDetails.id,hl:t._captchaDetails.lang,size:t._captchaDetails.size,badge:t._captchaDetails.badge,callback:function(e){t.RequestData.data._captcha=e,t.loader.showLoader(),t.SubmitCta.setAttribute("disabled",!0),t.SubmitCta.classList.add("notvalid"),t._submitRequest(t.RequestData,t.SubmitCta)}})}catch(e){console.log(e)}}))}var t,n,l;return t=e,(n=[{key:"init",value:function(){var e=document.querySelector('[data-form-identification="'.concat(this.formId,'"] form')),t=document.querySelector(".form-input__button.".concat(this.formId));e&&(this.form=e,this._initDataCollection(e,t),this.form.addEventListener("submit",(function(e){e.preventDefault()})),t&&(this.disableSubmit&&(t.setAttribute("disabled",!0),t.classList.add("notvalid")),this._initSendData(t)))}},{key:"_initDataCollection",value:function(e,t){var n=this,i=e.querySelectorAll("input[data-sc-field-name], textarea[data-sc-field-name], select[data-sc-field-name]"),r=e.querySelector("#recaptcha");r&&(this.hasCaptcha=!0,this._captchaDetails={id:r.getAttribute("data-sitekey"),lang:r.getAttribute("data-lang"),size:r.getAttribute("data-size"),badge:r.getAttribute("data-badge")});for(var o=function(e){var r=i[e];r.addEventListener("change",(function(e){var i;null===(i=document.getElementById("".concat(n.formId,"-global-error")))||void 0===i||i.remove(),n.assignValue(r),n.disableSubmit&&(t.removeAttribute("disabled"),t.classList.remove("notvalid"))})),n.assignValue(r,"data-default")},a=0;a<i.length;a++)o(a);this.dataModifier&&this.dataModifier()}},{key:"assignValue",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=e.getAttribute("data-sc-field-name"),i=e.getAttribute("type"),r=0===t&&e.value&&e.value.length>0?e.value:e.getAttribute(t);if("hidden"!=i)switch(i){case"checkbox":"sign-in-header"===n&&(n="KeepSignIn"),this.data[n]=e.checked;break;default:"address_mail"===n&&(n="Email"),-1==e.classList.contains("js-form-input")||o.a.findChar("Confirm",n)||(this.data[n]=r||"",null===e.getAttribute(t)&&(this.data[n]=e.value))}}},{key:"_initSendData",value:function(e){var t=this;e.addEventListener("click",(function(n){t.btnPush&&t.btnPush(),Object.keys(t.data).length>0&&!t.submit&&t._formRequest(e)}))}},{key:"_formRequest",value:function(e){var t=this;this.submit=!0,this.requestDataModifier&&this.requestDataModifier();var n={cache:!1,url:this.submitUrl,method:this.submitMethod,dataType:"json",data:this.data},i=function(){t.loader.showLoader(),e.setAttribute("disabled",!0),e.classList.add("notvalid"),t._submitRequest(n,e)};this.hasCaptcha?grecaptcha.getResponse()?(i(),grecaptcha.reset()):(grecaptcha.execute(),this.RequestData=n,this.SubmitCta=e):i()}},{key:"_submitRequest",value:function(e,t){var n=this;$.ajax(e).success((function(e){var i=e;if(n.successHandler)n.successHandler(i,n.loader);else if(n.requestSuccessHandler(i,t),n.requestDataModifier){n.data={};for(var r=n.form.querySelectorAll("input[data-sc-field-name], select[data-sc-field-name]"),o=0;o<r.length;o++){var a=r[o];n.assignValue(a)}}n.form&&n.resetForm&&n.form.reset(),n.submit=!1})).error((function(){n.loader.hideLoader(),n.submit=!1,t.removeAttribute("data-submitted"),t.removeAttribute("disabled"),t.classList.remove("notvalid")})).complete((function(){n.loader.hideLoader()}))}},{key:"requestSuccessHandler",value:function(e,t){var n=e.success,i=e.redirection;this.redirection=this.redirection?this.redirection:i,n?(t.setAttribute("data-submitted",!0),this.gaPush&&this.gaPush(e),this.redirection&&this.redirect?window.location.href=this.redirection:this.redirect?window.location.reload():(this.loader.hideLoader(),this.displaySuccess(e),t.removeAttribute("disabled",!0),t.classList.remove("notvalid"))):(this.displayError(e),t.removeAttribute("data-submitted"),t.removeAttribute("disabled"),t.classList.remove("notvalid"))}},{key:"displayError",value:function(e){var t=document.getElementById("".concat(this.formId,"-global-error")),n=e.errorMessage,i=void 0===n?"Server Error":n,r=document.querySelector('[data-form-identification="'.concat(this.formId,'"]')),o=document.createElement("p");t&&t.remove(),o.classList.add("error"),o.setAttribute("id","".concat(this.formId,"-global-error")),o.innerText=i,r.appendChild(o),this.loader.hideLoader()}},{key:"displaySuccess",value:function(e){var t=this,n=document.getElementById("".concat(this.formId,"-global-success")),i=e.successMessage,r=document.querySelector('[data-form-identification="'.concat(this.formId,'"]')),o=document.createElement("p");n&&n.remove(),i&&(o.classList.add("success"),o.setAttribute("id","".concat(this.formId,"-global-success")),o.innerText=i,r.prepend(o),this.loader.hideLoader(),setTimeout((function(){var e=document.getElementById("".concat(t.formId,"-global-success"));e&&e.remove()}),1e4))}}])&&s(t.prototype,n),l&&s(t,l),e}()},,,,function(e,t,n){e.exports=n(40)},,,,,,,,,,,,,,,,function(e,t,n){"use strict";n.r(t);var i=n(20),r=n(5),o=n(3);function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var s=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{id:"my-info",url:r.a.getUserInfo};a(this,e),this.formId=t.id,this.form=document.querySelector('[data-form-identification="'.concat(this.formId,'"] form')),this.resourceUrl=t.url,this.loader=new o.b,this.data={}}var t,n,i;return t=e,(n=[{key:"retrieveData",value:function(){var e=this,t={cache:!1,url:this.resourceUrl,method:"GET",dataType:"json"};return this.form?(this.loader.showLoader(),$.ajax(t).success((function(t){var n=t.success,i=t.data;n&&e.prefillForm(i),e.loader.hideLoader()})).error((function(){e.loader.hideLoader()}))):Promise.resolve()}},{key:"prefillForm",value:function(e){var t=this;e&&Object.keys(e).map((function(n,i){var r=t.form.querySelector('[data-sc-field-name="'.concat(n,'"]'));r&&(r.value=e[n],r.setAttribute("data-default",e[n]))}))}}])&&c(t.prototype,n),i&&c(t,i),e}();function l(e){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var u={init:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=new s;t.retrieveData().then((function(){try{document.querySelector("[data-form-identification='update-delivery-0']")&&u.prefillDelivery()}catch(e){console.error("ERROR OCCURED"),console.error(e)}if("object"===l(e)&&e.length)for(var t=0;t<e.length;t++){var n=e[t];document.querySelector('[data-form-identification="'.concat(n.id,'"]'))&&new i.a(n)}}))},prefillDelivery:function(){for(var e=addresses||[],t=function(t){var n=e[t];Object.keys(n).map((function(e){var i=document.querySelector('[data-form-identification="'.concat("update-delivery","-").concat(t,'"] [data-sc-field-name="').concat(e,'"]'));i&&(i.value=n[e],i.setAttribute("data-default",n[e]))}))},n=0;n<e.length;n++)t(n)}},d=n(1),f=(n(4),n(14)),h=n(8);function m(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function p(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?m(Object(n),!0).forEach((function(t){v(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):m(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function v(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function g(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}var y="PUT",b="POST",S=[],w={getForm:function(){return w.findRegistrationForm(),w.findMyInfoForm(),w.findLoginForms(),w.findLoginDetails(),w.findDeliveryForm(),w.findResetForms(),S},findRegistrationForm:function(){document.querySelector("[data-form-identification='".concat("registration-form","']"))&&S.push(new h.a({id:"registration-form",url:r.a.register,method:b,successHandler:null,resetForm:!1,btnClickPush:function(){d.a.push({action:"Registration",category:"Click action",event:"button-click",label:"Submit-Registration"})},dataLayerPush:function(e){d.a.push({action:"Registered",category:"Click action",event:"button-click",label:"".concat(f.a.timeStamp())})},requestDataModifier:function(){k(this.data,"registration-form")}}))},findLoginForms:function(){document.querySelector("[data-form-identification='".concat("login-form","']"))&&S.push(new h.a({id:"login-form",url:r.a.login,method:b,successHandler:null,resetForm:!1,dataLayerPush:function(e){var t=e.data;d.a.push({action:"Login",category:"Click action",event:"button-click",label:"".concat(f.a.timeStamp()," / ").concat(t||"UID-ZZZ-ZZZ")})},requestDataModifier:function(){k(this.data,"login-form")}}))},findMyInfoForm:function(){document.querySelector("[data-form-identification='".concat("my-info","']"))&&S.push(new h.a({id:"my-info",url:r.a.updateUserDetails,method:y,successHandler:null,resetForm:!1,redirect:!1,disableSubmit:!0,requestDataModifier:function(){k(this.data,"my-info")}}))},findLoginDetails:function(){document.querySelector("[data-form-identification='".concat("change-email","']"))&&S.push(new h.a({id:"change-email",url:r.a.changeEmail,method:y,successHandler:null,redirect:!0,disableSubmit:!0,dataModifier:function(){var e=this,t=document.querySelector(".js-current-email"),n=document.createElement("strong");if(t){this.loader.showLoader();var i={cache:!1,url:r.a.getUserInfo,method:"GET",dataType:"json"};$.ajax(i).success((function(i){var r=i.success,o=i.data;if(r){var a=o.Email;n.innerText=a?" ".concat(a):" generic@email.com",t.appendChild(n)}e.loader.hideLoader()})).error((function(){n.innerText=" generic.error@email.com",t.appendChild(n),console.error("AN ERROR OCCURED"),console.error(e.data),e.loader.hideLoader()}))}},requestDataModifier:function(){k(this.data,"change-email")}})),document.querySelector("[data-form-identification='".concat("change-password","']"))&&S.push(new h.a({id:"change-password",url:r.a.changePassword,method:y,successHandler:null,redirect:!1,disableSubmit:!0,requestDataModifier:function(){k(this.data,"change-password")}}))},findResetForms:function(){var e="forget-password-form",t="reset-password-form";document.querySelector('[data-form-identification="'.concat(e,'"]'))&&S.push(new h.a({id:e,url:r.a.forgotPassword,method:b,successHandler:null,resetForm:!0,redirect:!1,requestDataModifier:function(){k(this.data,e)}})),document.querySelector('[data-form-identification="'.concat(t,'"]'))&&S.push(new h.a({id:t,url:r.a.resetPassword,method:b,successHandler:null,redirection:document.querySelector('[data-form-identification="'.concat(t,'"]')).getAttribute("data-page-redirection-link"),redirect:!0,resetForm:!0,dataModifier:function(){var e=decodeURIComponent(window.location.href),t=JSON.parse(e.split("#")[1]),n=t.token,i=t.email;i&&n&&(this.data.Email=i.replace(/\u200B/g,""),this.data.Token=n.replace(/\u200B/g,""))},requestDataModifier:function(){k(this.data,t)}}))},findDeliveryForm:function(){if(document.querySelector("[data-form-identification='update-delivery-0']"))for(var e=document.querySelectorAll("main [data-form-identification]"),t=function(t){var n=e[t].getAttribute("data-form-identification");0===n.indexOf("".concat("update-delivery"))&&S.push(new h.a({id:"".concat(n),url:r.a.updateShipping,method:b,resetForm:!1,disableSubmit:!0,requestDataModifier:function(){this.data=q(this.data,t),k(this.data,n)}}))},n=0;n<e.length;n++)t(n);document.querySelector('[data-form-identification="'.concat("add-delivery-address",'"]'))&&S.push(new h.a({id:"add-delivery-address",url:r.a.createShipping,method:b,resetForm:!1,successHandler:null,requestDataModifier:function(){this.data=q(this.data),k(this.data,"add-delivery-address")}}))}};function k(e,t){var n=document.querySelector('[data-form-identification="'.concat(t,'"] input[name="__RequestVerificationToken"]'));n&&(e.__RequestVerificationToken=n.value)}function q(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1,n=0,i=[],r={ShippingAddressesList:[]};try{i=g(addresses)||[{},{},{}]}catch(e){console.error(e)}if(-1===t)n=i.length;else for(n=t;i.length<3;)i.push({FirstName:"-"});if(r.ShippingAddressesList=i,n<3&&(r.ShippingAddressesList[n]=p({},e)),-1===t)for(var o=n+1;o<3;o++)r.ShippingAddressesList[o]=null;return p({},r)}function C(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function L(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var A=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.loader=new o.b,this._init()}var t,n,i;return t=e,(n=[{key:"_init",value:function(){this._initMenuAnalytics(),this._initDeleteAccount(),this._initLogout(),this._initDeleteShipping()}},{key:"_initMenuAnalytics",value:function(){for(var e=document.querySelectorAll(".acc-comp__menu a"),t=function(t){var n=e[t];n.addEventListener("click",(function(e){var t=n.getAttribute("title");d.a.push({event:"info-Click",category:"Informational Action",action:"Navigation",label:t})}))},n=0;n<e.length;n++)t(n)}},{key:"_initDeleteAccount",value:function(){var e=this,t=document.querySelector(".js-delete-account");t&&t.addEventListener("click",(function(t){t.preventDefault();var n={cache:!1,url:r.a.deleteUser,method:"DELETE",dataType:"json"};e.deleteAccountRequest(n)}))}},{key:"_initLogout",value:function(){var e=this,t=document.querySelector(".js-sign-out");t&&t.addEventListener("click",(function(t){t.preventDefault();var n={method:"GET",url:r.a.logout,dataType:"json"};e.logoutRequest(n)}))}},{key:"_initDeleteShipping",value:function(){for(var e=this,t=document.querySelectorAll(".js-delete-address"),n=document.querySelectorAll(".acc-comp__section--left .js-account-accordion"),i=function(i){t[i].addEventListener("click",(function(t){t.preventDefault(),n.length>0&&n[i]&&e.deleteShippingRequest(n[i],i)}))},r=0;r<t.length;r++)i(r)}},{key:"initCloseShippingOverlay",value:function(e){var t=document.querySelector("[data-form-identification='add-delivery-address'] .acc-comp__footer button.btn__container");t&&t.addEventListener("click",(function(t){e.closeOverlay()}))}},{key:"deleteAccountRequest",value:function(e){var t=this;this.loader.showLoader(),$.ajax(e).success((function(e){d.a.push({action:"Delete Account",category:"Click action",event:"button-click",label:"".concat(f.a.timeStamp()," / #{user-ID}")}),t.successHandler(e)})).error((function(){t.loader.hideLoader()}))}},{key:"deleteShippingRequest",value:function(e,t){var n=this,i=[];try{for((i=C(addresses)).splice(t,1);i.length<3;)i.push({FirstName:"-"})}catch(e){console.error(e)}var o={cache:!1,url:r.a.deleteShipping,method:"POST",data:{ShippingAddressesList:i},dataType:"json"};this.loader.showLoader(),$.ajax(o).success((function(t){t.success?(e.remove(),window.location.reload()):(n.loader.hideLoader(),n.displayMessage({message:t.errorMessage},"error"))})).error((function(){n.loader.hideLoader()}))}},{key:"logoutRequest",value:function(e){var t=this;this.loader.showLoader(),$.ajax(e).success((function(e){d.a.push({action:"Logout",category:"Click action",event:"button-click",label:"".concat(f.a.timeStamp()," / #{user-ID}")}),t.successHandler(e)})).error((function(){t.loader.hideLoader()}))}},{key:"successHandler",value:function(e){var t=e.success,n=e.redirection;t?n&&(window.location.href=n):this.loader.hideLoader()}},{key:"displayMessage",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"success",n=document.getElementById("delete-global-msg"),i=e.message,r=document.querySelector("main .acc-comp--center"),o=document.createElement("p");n&&n.remove(),i&&r&&(o.classList.add(t),o.setAttribute("id","delete-global-msg"),o.innerText=i,r.prepend(o),this.loader.hideLoader(),setTimeout((function(){var e=document.getElementById("delete-global-msg");e&&e.remove()}),1e4))}}])&&L(t.prototype,n),i&&L(t,i),e}(),M=n(12),D=n(7),O=null,j={init:function(){j._initAccordion(),j._initOverlay(),j._initAccountCta()},_initAccordion:function(){new M.a({container:".js-account-accordion",trigger:".js-account-accordion-trigger",content:".js-account-accordion-content",multipleContent:".js-account-accordion-multiple-content",icon:".js-account-accordion-icon",iconModifier:"invisible",multipleTrigger:!0,contentModifier:"product-accordion--opened",multipleContentModifier:"product-accordion--opened",onOpen:function(e){if(e&&e.hasAttribute("data-open")){var t=e.querySelector("span"),n=e.querySelector(".icon-down");n&&n.classList.add("icon-up"),t.innerText=e.getAttribute("data-open"),this.icon=null}},onClose:function(e,t){if(t&&t.hasAttribute("data-close")){var n=t.querySelector("span"),i=t.querySelector(".icon-down");i&&i.classList.remove("icon-up"),n.innerText=t.getAttribute("data-close"),this.icon=null}}})},_initOverlay:function(){O=new D.a({container:".js-overlay",selector:"#delivery-overlay",trigger:".js-new-delivery",close:".overlay__close"})},_initAccountCta:function(){(new A).initCloseShippingOverlay(O)}};document.addEventListener("DOMContentLoaded",(function(e){var t=w.getForm();u.init(t),j.init()}))}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vLy4vc3JjL1NDUklQVFMvdXRpbHMvc3RyaW5nLXV0aWxzLmpzIiwid2VicGFjazovLy8uL3NyYy9TQ1JJUFRTL3V0aWxzL2FuYWx5dGljcy9kYXRhbGF5ZXIuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL1NDUklQVFMvdXRpbHMvZG9jdW1lbnRTY3JvbGwuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL1NDUklQVFMvdmlldy9jb21wb25lbnRzL3NpbXBsZS1sb2FkZXIuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL1NDUklQVFMvdXRpbHMvY29va2llLXV0aWxzLmpzIiwid2VicGFjazovLy8uL3NyYy9TQ1JJUFRTL21vZGVsL2FjY291bnQvZW5kcG9pbnQuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL1NDUklQVFMvdmlldy9jb21wb25lbnRzL3BvcHVwLmpzIiwid2VicGFjazovLy8uL3NyYy9TQ1JJUFRTL21vZGVsL2FjY291bnQvQWNjb3VudEZvcm0uanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL1NDUklQVFMvdmlldy9jb21wb25lbnRzL2FjY29yZGlvbi5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvU0NSSVBUUy92aWV3L2FjY29yZGlvbi1mYWN0b3J5LmpzIiwid2VicGFjazovLy8uL3NyYy9TQ1JJUFRTL3V0aWxzL2RhdGUtdXRpbHMuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL1NDUklQVFMvY29udHJvbGxlci9hY2NvdW50L0FjY291bnRGb3JtQ29udHJvbGxlci5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvU0NSSVBUUy9jb250cm9sbGVyL2FjY291bnQvQWNjb3VudEZvcm1QcmVmaWxsLmpzIiwid2VicGFjazovLy8uL3NyYy9TQ1JJUFRTL2NvbnRyb2xsZXIvYWNjb3VudC9BY2NvdW50Rm9ybUZhY3RvcnkuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL1NDUklQVFMvbW9kZWwvYWNjb3VudC9mb3JtLWRldGFpbHMuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL1NDUklQVFMvY29udHJvbGxlci9hY2NvdW50L0FjY291bnRDdGEuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL1NDUklQVFMvdmlldy9hY2NvdW50L2FjY291bnQtZGV0YWlscy5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvU0NSSVBUUy9hcHAvYWNjb3VudC5qcyJdLCJuYW1lcyI6WyJpbnN0YWxsZWRNb2R1bGVzIiwiX193ZWJwYWNrX3JlcXVpcmVfXyIsIm1vZHVsZUlkIiwiZXhwb3J0cyIsIm1vZHVsZSIsImkiLCJsIiwibW9kdWxlcyIsImNhbGwiLCJtIiwiYyIsImQiLCJuYW1lIiwiZ2V0dGVyIiwibyIsIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwiZW51bWVyYWJsZSIsImdldCIsInIiLCJTeW1ib2wiLCJ0b1N0cmluZ1RhZyIsInZhbHVlIiwidCIsIm1vZGUiLCJfX2VzTW9kdWxlIiwibnMiLCJjcmVhdGUiLCJrZXkiLCJiaW5kIiwibiIsIm9iamVjdCIsInByb3BlcnR5IiwicHJvdG90eXBlIiwiaGFzT3duUHJvcGVydHkiLCJwIiwicyIsInNwZWNpYWxDaGFyYWN0ZXJzIiwiU3RyaW5nVXRpbHMiLCJ0cmltIiwic3RyaW5nIiwicmVwbGFjZSIsInRvUmVwbGFjZSIsInJlcGxhY2VXaXRoIiwicmVwbGFjZVNwZWNpYWxDaGFyIiwibmV3U3RyaW5nIiwibGVuZ3RoIiwiY2hhciIsImNsZWFuRmlsdGVyQ2F0ZWdvcnkiLCJ0b0xvd2VyQ2FzZSIsInRvRGF0YVNlbGVjdG9yIiwiZmlyc3RDaGFyIiwidG9VcHBlckNhc2UiLCJmaW5kQ2hhciIsInNwZWNpYWxJbmRleCIsImluZGV4T2YiLCJuZXh0Q2hhckluZGV4IiwibmV4dENoYXIiLCJzbGljZSIsImUiLCJjb25zb2xlIiwiZXJyb3IiLCJ0ZXN0UmVnZXgiLCJyZWdleCIsInZhbGlkIiwiUmVnRXhwIiwidGVzdCIsIl9ETCIsInB1c2giLCJldmVudCIsImNhdGVnb3J5IiwiYWN0aW9uIiwibGFiZWwiLCJkb2N1bWVudCIsInRpdGxlIiwiY3VzdG9tRXZlbnQiLCJkYXRhIiwid2luZG93IiwiZGF0YUxheWVyIiwiZ2V0SW1wcmVzc2lvbnMiLCJlY29tbWVyY2UiLCJpbXByZXNzaW9ucyIsImV4Iiwic2Nyb2xsIiwidGhpcyIsImlzU2Nyb2xsaW5nIiwicXVlcnlTZWxlY3RvciIsInN0eWxlIiwib3ZlcmZsb3ciLCJzZWN0aW9uIiwiZHVyYXRpb24iLCJvZmZzZXQiLCJzY3JvbGxQb3N0aW9uIiwiJCIsInRvcCIsIiRwYWdlIiwib24iLCJzdG9wIiwiYW5pbWF0ZSIsInNjcm9sbFRvcCIsIm9mZiIsInNpbXBsZUxvYWRlciIsIm9wdGlvbnMiLCJkaXNwbGF5IiwiY29udGFpbmVyIiwibG9hZGVyU2VsZWN0b3IiLCJsb2FkZXIiLCJkaXNhYmxlU2Nyb2xsIiwiZW5hYmxlU2Nyb2xsIiwicmVtb3ZlQXR0cmlidXRlIiwiY2xhc3NlIiwiY2xhc3NMaXN0IiwiYWRkIiwicmVtb3ZlIiwiR2xvYmFsTG9hZGVyIiwiQ29va2llVXRpbHMiLCJleHBpcnkiLCJ0b2RheSIsIkRhdGUiLCJleHBpcnlEYXRlIiwic2V0RGF0ZSIsImdldERhdGUiLCJjb29raWUiLCJkZWxldGUiLCJtYXRjaHMiLCJtYXRjaCIsImdldE9iamVjdCIsImNvbnRlbnQiLCJjb250ZW50VGFiIiwic3BsaXQiLCJyZXNwb25zZSIsImNvbnRUYWIiLCJiYXNlIiwiX19BQ0NfQVBJIiwibG9naW4iLCJyZWdpc3RlciIsImZvcmdvdFBhc3N3b3JkIiwicmVzZXRQYXNzd29yZCIsInVwZGF0ZVVzZXJEZXRhaWxzIiwiY2hhbmdlUGFzc3dvcmQiLCJjaGFuZ2VFbWFpbCIsImNyZWF0ZVNoaXBwaW5nIiwidXBkYXRlU2hpcHBpbmciLCJkZWxldGVTaGlwcGluZyIsImdldFVzZXJJbmZvIiwiZGVsZXRlVXNlciIsImxvZ291dCIsInBvcHVwIiwib25DbG9zZSIsInVuZGVmaW5lZCIsIm92ZXJsYXkiLCJzZWxlY3RvciIsImNvbnRhaW5lck1vZGlmaWVyIiwidGltZW91dCIsInRyaWdnZXIiLCJjbG9zZSIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJjb250YWluc0Zvcm0iLCJhZGRFdmVudExpc3RlbmVyIiwicHJldmVudERlZmF1bHQiLCJzZXRUaW1lb3V0Iiwib3Blbk92ZXJsYXkiLCJjbG9zZU92ZXJsYXkiLCJ0YXJnZXQiLCJjc3NUZXh0IiwicmVzZXRGb3JtIiwiZm9ybSIsImlucHV0cyIsImlucHV0IiwidHlwZSIsImdldEF0dHJpYnV0ZSIsImNvbnRhaW5zIiwiZGlzcGF0Y2hFdmVudCIsIkV2ZW50IiwicGFyZW50Tm9kZSIsInJldmlld0l0ZW1zIiwiaiIsImNoZWNrZWQiLCJwYXJlbnRFbGVtZW50IiwiQWNjb3VudEZvcm0iLCJpZCIsInVybCIsIm1ldGhvZCIsImRpc2FibGVTdWJtaXQiLCJyZWRpcmVjdGlvbiIsInJlZGlyZWN0IiwiZGF0YU1vZGlmaWVyIiwiZGF0YUxheWVyUHVzaCIsImJ0bkNsaWNrUHVzaCIsInN1Y2Nlc3NIYW5kbGVyIiwicmVxdWVzdERhdGFNb2RpZmllciIsImFjY29yZGlvbiIsIkV4cGFuZGVkIiwiaWNvbiIsImljb25Nb2RpZmllciIsImNvbnRlbnRNb2RpZmllciIsIm11bHRpcGxlVHJpZ2dlciIsIm11bHRpcGxlQ29udGVudCIsIm11bHRpcGxlQ29udGVudE1vZGlmaWVyIiwib25PcGVuIiwidG9nZ2xlQWNjb3JkaW9uIiwiY2xvc2VBY2NvcmRpb24iLCJvcGVuQWNjb3JkaW9uIiwiYWNjb3JkaW9uRmFjdG9yeSIsImNyZWF0ZUFjY29yZGlvbiIsIm91dGVyV2lkdGgiLCJfREFURSIsInRpbWVTdGFtcCIsImN1cnJlbnREYXRlIiwiZGF0ZSIsIm1vbnRoIiwiZ2V0TW9udGgiLCJ5ZWFyIiwiZ2V0RnVsbFllYXIiLCJob3VyIiwiZ2V0SG91cnMiLCJtaW51dGUiLCJnZXRNaW51dGVzIiwic2VjIiwiZ2V0U2Vjb25kcyIsIkFjY291bnRGb3JtQ29udHJvbGxlciIsImZvcm1JZCIsInN1Ym1pdFVybCIsInN1Ym1pdE1ldGhvZCIsImdhUHVzaCIsImJ0blB1c2giLCJoYXNDYXB0Y2hhIiwiX2NhcHRjaGFEZXRhaWxzIiwiUmVxdWVzdERhdGEiLCJTdWJtaXRDdGEiLCJzdWJtaXQiLCJpbml0IiwiZ3JlY2FwdGNoYSIsInJlbmRlciIsInNpdGVrZXkiLCJobCIsImxhbmciLCJzaXplIiwiYmFkZ2UiLCJjYWxsYmFjayIsInRva2VuIiwic2hvd0xvYWRlciIsInNldEF0dHJpYnV0ZSIsIl9zdWJtaXRSZXF1ZXN0IiwibG9nIiwic3VibWl0QnRuIiwiX2luaXREYXRhQ29sbGVjdGlvbiIsIl9pbml0U2VuZERhdGEiLCJidXR0b24iLCJmaWVsZHMiLCJyZWNhcHRjaGEiLCJpbmRleCIsImZpZWxkIiwiZ2V0RWxlbWVudEJ5SWQiLCJhc3NpZ25WYWx1ZSIsImJ0biIsImtleXMiLCJfZm9ybVJlcXVlc3QiLCJjdGEiLCJjYWNoZSIsImRhdGFUeXBlIiwiX2ZpbmFsU3RlcCIsImdldFJlc3BvbnNlIiwicmVzZXQiLCJleGVjdXRlIiwiYWpheCIsInN1Y2Nlc3MiLCJfZGF0YSIsInJlcXVlc3RTdWNjZXNzSGFuZGxlciIsImhpZGVMb2FkZXIiLCJjb21wbGV0ZSIsImxvY2F0aW9uIiwiaHJlZiIsInJlbG9hZCIsImRpc3BsYXlTdWNjZXNzIiwiZGlzcGxheUVycm9yIiwiY3VycmVudEVycm9yIiwiZXJyb3JNZXNzYWdlIiwiY3JlYXRlRWxlbWVudCIsImlubmVyVGV4dCIsImFwcGVuZENoaWxkIiwiY3VycmVudFN1Y2Nlc3MiLCJzdWNjZXNzTWVzc2FnZSIsInByZXBlbmQiLCJBY2NvdW50RnJvbVByZWZpbGxlciIsInJlc291cmNlVXJsIiwicHJlZmlsbEZvcm0iLCJQcm9taXNlIiwicmVzb2x2ZSIsIm1hcCIsIkFjY291bnRGb3JtRmFjdG9yeSIsImZvcm1zIiwidXNlckRldGFpbHNGb3JtIiwicmV0cmlldmVEYXRhIiwidGhlbiIsInByZWZpbGxEZWxpdmVyeSIsImFkZHJlc3NlcyIsImFkZHJlc3MiLCJnZW5lcmljRm9ybXMiLCJfX0FDQ19GT1JNIiwiZ2V0Rm9ybSIsImZpbmRSZWdpc3RyYXRpb25Gb3JtIiwiZmluZE15SW5mb0Zvcm0iLCJmaW5kTG9naW5Gb3JtcyIsImZpbmRMb2dpbkRldGFpbHMiLCJmaW5kRGVsaXZlcnlGb3JtIiwiZmluZFJlc2V0Rm9ybXMiLCJnZXRUb2tlbiIsInJlc3AiLCJjb25zdW1lcklEIiwiZW1haWxEb20iLCJzdHJvbmciLCJFbWFpbCIsImZvcmdldElkIiwicmVzZXRJZCIsImRlY29kZVVSSUNvbXBvbmVudCIsImpzb25PYmplY3QiLCJKU09OIiwicGFyc2UiLCJlbWFpbCIsIkdlbmVyYXRlU2hpcHBpbmdMaXN0IiwidG9rZW5JbnB1dCIsImFkZHJlc3NJbmRleCIsImFkZHJlc3Nlc0xpc3QiLCJyZXFPYmplY3QiLCJTaGlwcGluZ0FkZHJlc3Nlc0xpc3QiLCJ4IiwiQWNjb3V0Q3RhIiwiX2luaXQiLCJfaW5pdE1lbnVBbmFseXRpY3MiLCJfaW5pdERlbGV0ZUFjY291bnQiLCJfaW5pdExvZ291dCIsIl9pbml0RGVsZXRlU2hpcHBpbmciLCJtZW51Q3RhcyIsImN0YURlbGV0ZSIsInJlcXVlc3REYXRhIiwiZGVsZXRlQWNjb3VudFJlcXVlc3QiLCJsb2dvdXRDdGEiLCJsb2dvdXRSZXF1ZXN0IiwiZGVsZXRlQ3RhcyIsInNoaXBwaW5nQWNjb3JkaW9uIiwiZGVsZXRlU2hpcHBpbmdSZXF1ZXN0IiwicmVxIiwiZGVsZXRlRE9NIiwic2hpcHBpbmdBZGRyZXNzZXMiLCJzcGxpY2UiLCJkaXNwbGF5TWVzc2FnZSIsIm1lc3NhZ2UiLCJyZXMiLCJtb2RpZmllciIsIkRFTF9PVkVSTEFZIiwiQWNjb3VudERldGFpbHMiLCJfaW5pdEFjY29yZGlvbiIsIl9pbml0T3ZlcmxheSIsIl9pbml0QWNjb3VudEN0YSIsImhhc0F0dHJpYnV0ZSIsInNwYW4iLCJpY29uRG93biIsImluaXRDbG9zZVNoaXBwaW5nT3ZlcmxheSIsIl9hY2NvdW50Rm9ybXMiXSwibWFwcGluZ3MiOiJhQUNFLElBQUlBLEVBQW1CLEdBR3ZCLFNB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RUFBSzdFLFVBQVk3SCxFQUFRZ0IsYUFBYSxjQUV0Q3RGLEtBQUs2RyxLQUFPLFVBV2hDZ0ssYUFBYyxXQUNWSCxFQUFjLElBQUkzTSxJQUFPLENBQ3JCM0MsVUFBVyxjQUNYK0MsU0FBVSxvQkFDVkcsUUFBUyxtQkFDVEMsTUFBTyxxQkFHZnVNLGdCQUFpQixZQUNJLElBQUkzQixHQUVWK0IseUJBQXlCUixLQ3JFNUNyUixTQUFTcUYsaUJBQWlCLG9CQUFvQixTQUFTbkcsR0FDckQsSUFBTTRTLEVBQWdCNUQsRUFBV0MsVUFDakNWLEVBQW1CM0QsS0FBS2dJLEdBQ3hCUixFQUFleEgiLCJmaWxlIjoiYWNjb3VudC5qcyIsInNvdXJjZXNDb250ZW50IjpbIiBcdC8vIFRoZSBtb2R1bGUgY2FjaGVcbiBcdHZhciBpbnN0YWxsZWRNb2R1bGVzID0ge307XG5cbiBcdC8vIFRoZSByZXF1aXJlIGZ1bmN0aW9uXG4gXHRmdW5jdGlvbiBfX3dlYnBhY2tfcmVxdWlyZV9fKG1vZHVsZUlkKSB7XG5cbiBcdFx0Ly8gQ2hlY2sgaWYgbW9kdWxlIGlzIGluIGNhY2hlXG4gXHRcdGlmKGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdKSB7XG4gXHRcdFx0cmV0dXJuIGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdLmV4cG9ydHM7XG4gXHRcdH1cbiBcdFx0Ly8gQ3JlYXRlIGEgbmV3IG1vZHVsZSAoYW5kIHB1dCBpdCBpbnRvIHRoZSBjYWNoZSlcbiBcdFx0dmFyIG1vZHVsZSA9IGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdID0ge1xuIFx0XHRcdGk6IG1vZHVsZUlkLFxuIFx0XHRcdGw6IGZhbHNlLFxuIFx0XHRcdGV4cG9ydHM6IHt9XG4gXHRcdH07XG5cbiBcdFx0Ly8gRXhlY3V0ZSB0aGUgbW9kdWxlIGZ1bmN0aW9uXG4gXHRcdG1vZHVsZXNbbW9kdWxlSWRdLmNhbGwobW9kdWxlLmV4cG9ydHMsIG1vZHVsZSwgbW9kdWxlLmV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pO1xuXG4gXHRcdC8vIEZsYWcgdGhlIG1vZHVsZSBhcyBsb2FkZWRcbiBcdFx0bW9kdWxlLmwgPSB0cnVlO1xuXG4gXHRcdC8vIFJldHVybiB0aGUgZXhwb3J0cyBvZiB0aGUgbW9kdWxlXG4gXHRcdHJldHVybiBtb2R1bGUuZXhwb3J0cztcbiBcdH1cblxuXG4gXHQvLyBleHBvc2UgdGhlIG1vZHVsZXMgb2JqZWN0IChfX3dlYnBhY2tfbW9kdWxlc19fKVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5tID0gbW9kdWxlcztcblxuIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGUgY2FjaGVcbiBcdF9fd2VicGFja19yZXF1aXJlX18uYyA9IGluc3RhbGxlZE1vZHVsZXM7XG5cbiBcdC8vIGRlZmluZSBnZXR0ZXIgZnVuY3Rpb24gZm9yIGhhcm1vbnkgZXhwb3J0c1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5kID0gZnVuY3Rpb24oZXhwb3J0cywgbmFtZSwgZ2V0dGVyKSB7XG4gXHRcdGlmKCFfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZXhwb3J0cywgbmFtZSkpIHtcbiBcdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgbmFtZSwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGdldHRlciB9KTtcbiBcdFx0fVxuIFx0fTtcblxuIFx0Ly8gZGVmaW5lIF9fZXNNb2R1bGUgb24gZXhwb3J0c1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5yID0gZnVuY3Rpb24oZXhwb3J0cykge1xuIFx0XHRpZih0eXBlb2YgU3ltYm9sICE9PSAndW5kZWZpbmVkJyAmJiBTeW1ib2wudG9TdHJpbmdUYWcpIHtcbiBcdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgU3ltYm9sLnRvU3RyaW5nVGFnLCB7IHZhbHVlOiAnTW9kdWxlJyB9KTtcbiBcdFx0fVxuIFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ19fZXNNb2R1bGUnLCB7IHZhbHVlOiB0cnVlIH0pO1xuIFx0fTtcblxuIFx0Ly8gY3JlYXRlIGEgZmFrZSBuYW1lc3BhY2Ugb2JqZWN0XG4gXHQvLyBtb2RlICYgMTogdmFsdWUgaXMgYSBtb2R1bGUgaWQsIHJlcXVpcmUgaXRcbiBcdC8vIG1vZGUgJiAyOiBtZXJnZSBhbGwgcHJvcGVydGllcyBvZiB2YWx1ZSBpbnRvIHRoZSBuc1xuIFx0Ly8gbW9kZSAmIDQ6IHJldHVybiB2YWx1ZSB3aGVuIGFscmVhZHkgbnMgb2JqZWN0XG4gXHQvLyBtb2RlICYgOHwxOiBiZWhhdmUgbGlrZSByZXF1aXJlXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnQgPSBmdW5jdGlvbih2YWx1ZSwgbW9kZSkge1xuIFx0XHRpZihtb2RlICYgMSkgdmFsdWUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKHZhbHVlKTtcbiBcdFx0aWYobW9kZSAmIDgpIHJldHVybiB2YWx1ZTtcbiBcdFx0aWYoKG1vZGUgJiA0KSAmJiB0eXBlb2YgdmFsdWUgPT09ICdvYmplY3QnICYmIHZhbHVlICYmIHZhbHVlLl9fZXNNb2R1bGUpIHJldHVybiB2YWx1ZTtcbiBcdFx0dmFyIG5zID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcbiBcdFx0X193ZWJwYWNrX3JlcXVpcmVfXy5yKG5zKTtcbiBcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KG5zLCAnZGVmYXVsdCcsIHsgZW51bWVyYWJsZTogdHJ1ZSwgdmFsdWU6IHZhbHVlIH0pO1xuIFx0XHRpZihtb2RlICYgMiAmJiB0eXBlb2YgdmFsdWUgIT0gJ3N0cmluZycpIGZvcih2YXIga2V5IGluIHZhbHVlKSBfX3dlYnBhY2tfcmVxdWlyZV9fLmQobnMsIGtleSwgZnVuY3Rpb24oa2V5KSB7IHJldHVybiB2YWx1ZVtrZXldOyB9LmJpbmQobnVsbCwga2V5KSk7XG4gXHRcdHJldHVybiBucztcbiBcdH07XG5cbiBcdC8vIGdldERlZmF1bHRFeHBvcnQgZnVuY3Rpb24gZm9yIGNvbXBhdGliaWxpdHkgd2l0aCBub24taGFybW9ueSBtb2R1bGVzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm4gPSBmdW5jdGlvbihtb2R1bGUpIHtcbiBcdFx0dmFyIGdldHRlciA9IG1vZHVsZSAmJiBtb2R1bGUuX19lc01vZHVsZSA/XG4gXHRcdFx0ZnVuY3Rpb24gZ2V0RGVmYXVsdCgpIHsgcmV0dXJuIG1vZHVsZVsnZGVmYXVsdCddOyB9IDpcbiBcdFx0XHRmdW5jdGlvbiBnZXRNb2R1bGVFeHBvcnRzKCkgeyByZXR1cm4gbW9kdWxlOyB9O1xuIFx0XHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQoZ2V0dGVyLCAnYScsIGdldHRlcik7XG4gXHRcdHJldHVybiBnZXR0ZXI7XG4gXHR9O1xuXG4gXHQvLyBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGxcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubyA9IGZ1bmN0aW9uKG9iamVjdCwgcHJvcGVydHkpIHsgcmV0dXJuIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmplY3QsIHByb3BlcnR5KTsgfTtcblxuIFx0Ly8gX193ZWJwYWNrX3B1YmxpY19wYXRoX19cbiBcdF9fd2VicGFja19yZXF1aXJlX18ucCA9IFwiXCI7XG5cblxuIFx0Ly8gTG9hZCBlbnRyeSBtb2R1bGUgYW5kIHJldHVybiBleHBvcnRzXG4gXHRyZXR1cm4gX193ZWJwYWNrX3JlcXVpcmVfXyhfX3dlYnBhY2tfcmVxdWlyZV9fLnMgPSAyNCk7XG4iLCJjb25zdCBzcGVjaWFsQ2hhcmFjdGVycyA9IFsnLyddO1xyXG5cclxuZXhwb3J0IGNvbnN0IFN0cmluZ1V0aWxzID0ge1xyXG4gICAgdHJpbTogKHN0cmluZykgPT4ge1xyXG4gICAgICAgIGxldCBuZXdTdHJpbmcgPSBzdHJpbmcucmVwbGFjZSgvXFxzL2csIFwiXCIpO1xyXG5cclxuICAgICAgICByZXR1cm4gbmV3U3RyaW5nOyBcclxuICAgIH0sXHJcblxyXG4gICAgcmVwbGFjZTogKHN0cmluZywgdG9SZXBsYWNlLCByZXBsYWNlV2l0aCkgPT4ge1xyXG4gICAgICAgIGxldCBuZXdTdHJpbmcgPSBzdHJpbmcucmVwbGFjZSh0b1JlcGxhY2UsIHJlcGxhY2VXaXRoKTtcclxuXHJcbiAgICAgICAgcmV0dXJuIG5ld1N0cmluZzsgXHJcbiAgICB9LFxyXG5cclxuICAgIHJlcGxhY2VTcGVjaWFsQ2hhcjogKHN0cmluZykgPT4ge1xyXG4gICAgICAgIGxldCBuZXdTdHJpbmcgPSBzdHJpbmc7XHJcblxyXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgc3BlY2lhbENoYXJhY3RlcnMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgY29uc3QgY2hhciA9IHNwZWNpYWxDaGFyYWN0ZXJzW2ldO1xyXG4gICAgICAgICAgICBuZXdTdHJpbmcgPSBuZXdTdHJpbmcucmVwbGFjZShjaGFyLCBcIi1cIik7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBuZXdTdHJpbmc7XHJcbiAgICB9LFxyXG5cclxuICAgIGNsZWFuRmlsdGVyQ2F0ZWdvcnk6IChzdHJpbmcpID0+IHtcclxuICAgICAgICByZXR1cm4gU3RyaW5nVXRpbHMucmVwbGFjZVNwZWNpYWxDaGFyKFN0cmluZ1V0aWxzLnRyaW0oc3RyaW5nKSkudG9Mb3dlckNhc2UoKTtcclxuICAgIH0sXHJcblxyXG4gICAgdG9EYXRhU2VsZWN0b3I6IChzdHJpbmcpID0+IHtcclxuICAgICAgICBsZXQgbmV3U3RyaW5nID0gU3RyaW5nVXRpbHMuY2xlYW5GaWx0ZXJDYXRlZ29yeShzdHJpbmcpLFxyXG4gICAgICAgICAgICBmaXJzdENoYXIgPSBuZXdTdHJpbmdbMF0udG9VcHBlckNhc2UoKSxcclxuICAgICAgICAgICAgcHJlZml4ID0gJ3NlbGVjdGVkJztcclxuXHJcbiAgICAgICAgaWYoU3RyaW5nVXRpbHMuZmluZENoYXIoJy0nLCBuZXdTdHJpbmcpKXtcclxuICAgICAgICAgICAgbGV0IHNwZWNpYWxJbmRleCA9IG5ld1N0cmluZy5pbmRleE9mKCctJyksXHJcbiAgICAgICAgICAgICAgICBuZXh0Q2hhckluZGV4ID0gc3BlY2lhbEluZGV4ICsgMSxcclxuICAgICAgICAgICAgICAgIG5leHRDaGFyID0gbmV3U3RyaW5nW25leHRDaGFySW5kZXhdLnRvVXBwZXJDYXNlKCk7XHJcbiAgICAgICAgICAgIFxyXG4gICAgICAgICAgICBuZXdTdHJpbmcgPSBuZXdTdHJpbmcuc2xpY2UoMCwgc3BlY2lhbEluZGV4KSArIG5leHRDaGFyICsgbmV3U3RyaW5nLnNsaWNlKG5leHRDaGFySW5kZXggKyAxLCBuZXdTdHJpbmcubGVuZ3RoKVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgbmV3U3RyaW5nID0gZmlyc3RDaGFyICsgbmV3U3RyaW5nLnNsaWNlKDEsIG5ld1N0cmluZy5sZW5ndGgpO1xyXG5cclxuICAgICAgICByZXR1cm4gcHJlZml4ICsgbmV3U3RyaW5nO1xyXG4gICAgfSxcclxuXHJcbiAgICBmaW5kQ2hhcjogKGNoYXIsIHN0cmluZykgPT4ge1xyXG4gICAgICAgIHRyeXtcclxuICAgICAgICAgICAgaWYoISFzdHJpbmcgJiYgdHlwZW9mIHN0cmluZyA9PSBcInN0cmluZ1wiICYmIHN0cmluZy5pbmRleE9mKGNoYXIpID4gLTEpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSBjYXRjaCAoZSkge1xyXG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKGUpO1xyXG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKHN0cmluZyk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICB9LFxyXG5cclxuICAgIHRlc3RSZWdleDogKHN0cmluZywgcmVnZXgpID0+IHtcclxuICAgICAgICBsZXQgdmFsaWQgPSBmYWxzZSxcclxuICAgICAgICAgICAgZXhwcmVzc2lvbiA9IG5ldyBSZWdFeHAocmVnZXgpO1xyXG5cclxuICAgICAgICBpZihleHByZXNzaW9uLnRlc3Qoc3RyaW5nKSkge1xyXG4gICAgICAgICAgICB2YWxpZCA9IHRydWU7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICByZXR1cm4gdmFsaWQ7XHJcbiAgICB9XHJcbiAgICBcclxufSIsIi8qKlxyXG4gKiBHQSBEYXRhTGF5ZXIgdXRpbHMgXHJcbiAqL1xyXG5cclxuZXhwb3J0IGNvbnN0IF9ETCA9IHtcclxuICAgIHB1c2g6ICh7IFxyXG4gICAgICAgIGV2ZW50ID0gXCJpbmZvLWNsaWNrXCIsIFxyXG4gICAgICAgIGNhdGVnb3J5ID0gXCJJbmZvcm1hdGlvbmFsIENsaWNrXCIsIFxyXG4gICAgICAgIGFjdGlvbiA9IFwiQ2xpY2tcIiwgXHJcbiAgICAgICAgbGFiZWwgPSBkb2N1bWVudC50aXRsZSwgXHJcbiAgICAgICAgY3VzdG9tRXZlbnQgPSBmYWxzZSxcclxuICAgICAgICBkYXRhIH0pID0+IHtcclxuICAgICAgICAgICAgLy8gRW5zdXJlcyB0aGF0IEdUTSBpcyBsb2FkZWRcclxuICAgICAgICAgICAgaWYod2luZG93Wydnb29nbGVfdGFnX21hbmFnZXInXSkge1xyXG4gICAgICAgICAgICAgICAgaWYoY3VzdG9tRXZlbnQpIHtcclxuICAgICAgICAgICAgICAgICAgICBkYXRhTGF5ZXIucHVzaCggZGF0YSApXHJcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIGRhdGFMYXllci5wdXNoKHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZXZlbnQ6IGV2ZW50LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBjYXRlZ29yeTogY2F0ZWdvcnksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGFjdGlvbjogYWN0aW9uLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBsYWJlbDogbGFiZWxcclxuICAgICAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICB9LFxyXG4gICAgZ2V0SW1wcmVzc2lvbnM6ICgpID0+IHtcclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICByZXR1cm4gZGF0YUxheWVyWzJdLmVjb21tZXJjZS5pbXByZXNzaW9ucztcclxuICAgICAgICB9IGNhdGNoKGV4KSB7XHJcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxufSIsImV4cG9ydCBjbGFzcyBzY3JvbGwge1xyXG4gICAgY29uc3RydWN0b3IoKXtcclxuICAgICAgICB0aGlzLmlzU2Nyb2xsaW5nID0gZmFsc2U7XHJcbiAgICB9XHJcblxyXG4gICAgZGlzYWJsZVNjcm9sbCgpe1xyXG4gICAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ2JvZHknKS5zdHlsZS5vdmVyZmxvdyA9IFwiaGlkZGVuXCI7XHJcbiAgICB9XHJcblxyXG4gICAgZW5hYmxlU2Nyb2xsKCl7XHJcbiAgICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignYm9keScpLnN0eWxlLm92ZXJmbG93ID0gXCJcIjtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIFxyXG4gICAgKiBAcGFyYW0ge0RPTX0gc2VjdGlvbiBET00gZWxlbWVudCBhY3QgYXMgdGFnZXQgZm9yIHNjcm9sbCB0b3BcclxuICAgICAqIEBwYXJhbSB7U3RyaW5nfEludGVnZXJ9IGR1cmF0aW9uIFRoZSBEdXJhdGlvbiBvZiBhbmltYXRpb24gKG1pbGlzZWNvZHMgb3Igc3RyaW5nKSBbZGVmYXVsdCAnc2xvdyddXHJcbiAgICAgKiBAcGFyYW0ge0ludGVnZXJ9IE9mZnNldCBBbW91bnQgdG8gb2Zmc2V0IG9uIERPTSB0b3AgW2RlZmF1bHQgMF1cclxuICAgICAqL1xyXG4gICAgc2Nyb2xsVG9wKHNlY3Rpb24sIGR1cmF0aW9uID0gJ3Nsb3cnLCBvZmZzZXQgPSAwKSB7XHJcbiAgICAgICAgY29uc3QgICBzY3JvbGxQb3N0aW9uID0gJChzZWN0aW9uKS5sZW5ndGggPiAwID8gJChzZWN0aW9uKS5vZmZzZXQoKS50b3AgKyBvZmZzZXQgOiBudWxsLFxyXG4gICAgICAgICAgICAgICAgJHBhZ2UgPSAkKFwiaHRtbCwgYm9keVwiKTtcclxuXHJcbiAgICAgICAgLy8gKiBzdG9wIGFuaW1hdGlvbiBpZiBzY3JvbGwgaXMgdHJpZ2dlcmVkIGJ5IHVzZXJcclxuICAgICAgICAkcGFnZS5vbihcInNjcm9sbCBtb3VzZWRvd24gd2hlZWwgRE9NTW91c2VTY3JvbGwgbW91c2V3aGVlbCBrZXl1cCB0b3VjaG1vdmVcIiwgZnVuY3Rpb24oKXtcclxuICAgICAgICAgICAgJHBhZ2Uuc3RvcCgpO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICAvLyAqIEFuaW1hdGUgc2Nyb2xsXHJcbiAgICAgICAgaWYoc2Nyb2xsUG9zdGlvbiAhPT0gbnVsbCAmJiB0aGlzLmlzU2Nyb2xsaW5nICE9PSB0cnVlKSB7XHJcbiAgICAgICAgICAgIHRoaXMuaXNTY3JvbGxpbmcgPSB0cnVlO1xyXG5cclxuICAgICAgICAgICAgJHBhZ2UuYW5pbWF0ZSh7XHJcbiAgICAgICAgICAgICAgICAgICAgc2Nyb2xsVG9wOiBzY3JvbGxQb3N0aW9uXHJcbiAgICAgICAgICAgICAgICB9LCBcclxuICAgICAgICAgICAgICAgICAgICBkdXJhdGlvbixcclxuICAgICAgICAgICAgICAgICAgICBmdW5jdGlvbigpeyAvLyEgZXhlY3V0ZWQgb24gZnVuY3Rpb24gYW5pbWF0ZSBjb21wbGV0ZVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAkcGFnZS5vZmYoXCJzY3JvbGwgbW91c2Vkb3duIHdoZWVsIERPTU1vdXNlU2Nyb2xsIG1vdXNld2hlZWwga2V5dXAgdG91Y2htb3ZlXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmlzU2Nyb2xsaW5nID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICApO1xyXG4gICAgICAgICAgICB0aGlzLmlzU2Nyb2xsaW5nID0gZmFsc2U7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59IiwiaW1wb3J0IHsgc2Nyb2xsIH0gZnJvbSAnLi4vLi4vdXRpbHMvZG9jdW1lbnRTY3JvbGwnO1xyXG5cclxuY29uc3QgU0lNUExFX0xPQURFUl9JRCA9IFwiI3NpbXBsZVwiO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3Mgc2ltcGxlTG9hZGVyIHtcclxuICAgIGNvbnN0cnVjdG9yKG9wdGlvbnMgPSB7fSkge1xyXG4gICAgICAgIHRoaXMuZGlzcGxheSA9IGZhbHNlO1xyXG4gICAgICAgIHRoaXMuc2Nyb2xsID0gbmV3IHNjcm9sbCgpO1xyXG4gICAgICAgIHRoaXMuY29udGFpbmVyID0gISFvcHRpb25zLmxvYWRlclNlbGVjdG9yICYmICEhZG9jdW1lbnQucXVlcnlTZWxlY3RvcihvcHRpb25zLmxvYWRlclNlbGVjdG9yKSA/IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3Iob3B0aW9ucy5sb2FkZXJTZWxlY3RvcikgOiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuanMtbG9hZGVyJyk7XHJcbiAgICAgICAgdGhpcy5sb2FkZXIgPSAodGhpcy5jb250YWluZXIgIT09IG51bGwpID8gIHRoaXMuY29udGFpbmVyLnF1ZXJ5U2VsZWN0b3IoU0lNUExFX0xPQURFUl9JRCk6IG51bGw7XHJcbiAgICB9XHJcblxyXG4gICAgc2hvd0xvYWRlcigpIHtcclxuICAgICAgICBpZighdGhpcy5kaXNwbGF5XHJcbiAgICAgICAgICAgICYmICEhdGhpcy5sb2FkZXIpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuc2Nyb2xsLmRpc2FibGVTY3JvbGwoKTtcclxuICAgICAgICAgICAgICAgIHRoaXMubG9hZGVyLnN0eWxlLmRpc3BsYXkgPSBcImJsb2NrXCI7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMuZGlzcGxheSA9IHRydWU7XHJcbiAgICB9XHJcblxyXG4gICAgaGlkZUxvYWRlcigpIHtcclxuICAgICAgICBpZih0aGlzLmRpc3BsYXkgPT09IHRydWUgJiYgdGhpcy5sb2FkZXIgIT09IG51bGwpIHtcclxuICAgICAgICAgICAgdGhpcy5zY3JvbGwuZW5hYmxlU2Nyb2xsKCk7XHJcbiAgICAgICAgICAgIHRoaXMubG9hZGVyLnJlbW92ZUF0dHJpYnV0ZSgnc3R5bGUnKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5kaXNwbGF5ID0gZmFsc2U7XHJcbiAgICB9XHJcblxyXG4gICAgdXBkYXRlTG9hZGVyKCkge1xyXG4gICAgICAgIHRoaXMubG9hZGVyID0gKHRoaXMuY29udGFpbmVyICE9PSBudWxsKSA/ICB0aGlzLmNvbnRhaW5lci5xdWVyeVNlbGVjdG9yKFNJTVBMRV9MT0FERVJfSUQpOiBudWxsO1xyXG4gICAgfVxyXG5cclxuICAgIGFkZENsYXNzKGNsYXNzZSkge1xyXG4gICAgICAgIHRoaXMubG9hZGVyLmNsYXNzTGlzdC5hZGQoY2xhc3NlKTtcclxuICAgIH1cclxuICAgIHJlbW92ZUNsYXNzKGNsYXNzZSkge1xyXG4gICAgICAgIHRoaXMubG9hZGVyLmNsYXNzTGlzdC5yZW1vdmUoY2xhc3NlKTtcclxuICAgIH0gICAgXHJcbn1cclxuXHJcbmV4cG9ydCBjb25zdCBHbG9iYWxMb2FkZXIgPSBuZXcgc2ltcGxlTG9hZGVyICh7fSkiLCJleHBvcnQgY29uc3QgQ29va2llVXRpbHMgPSB7XHJcbiAgICBjcmVhdGU6IChuYW1lLCB2YWx1ZSwgZXhwaXJ5ID0gNykgPT4ge1xyXG4gICAgICAgIGxldCB0b2RheSA9IG5ldyBEYXRlKCksXHJcbiAgICAgICAgICAgIGV4cGlyeURhdGUgPSB0b2RheTtcclxuXHJcbiAgICAgICAgZXhwaXJ5RGF0ZS5zZXREYXRlKGV4cGlyeURhdGUuZ2V0RGF0ZSgpICsgZXhwaXJ5KTtcclxuXHJcbiAgICAgICAgZG9jdW1lbnQuY29va2llID0gYCR7bmFtZX09JHt2YWx1ZX07IGV4cGlyZXM9JHtleHBpcnlEYXRlfWA7XHJcbiAgICB9LFxyXG5cclxuICAgIGRlbGV0ZTogKG5hbWUpID0+IHtcclxuICAgICAgICBsZXQgdG9kYXkgPSBuZXcgRGF0ZSgpLFxyXG4gICAgICAgICAgICBleHBpcnlEYXRlID0gdG9kYXk7XHJcblxyXG4gICAgICAgIGV4cGlyeURhdGUuc2V0RGF0ZShleHBpcnlEYXRlLmdldERhdGUoKSAtIDEwMCk7XHJcblxyXG4gICAgICAgIGRvY3VtZW50LmNvb2tpZSA9IGAke25hbWV9PVwiXCI7IGV4cGlyZXM9JHtleHBpcnlEYXRlfWA7XHJcbiAgICB9LFxyXG5cclxuICAgIGdldDogKG5hbWUpID0+IHtcclxuICAgICAgICBsZXQgbWF0Y2hzID0gZG9jdW1lbnQuY29va2llLm1hdGNoKFJlZ0V4cCgnKD86Xnw7XFxcXHMqKScgKyBuYW1lICsgJz0oW147XSopJykpO1xyXG5cdFx0cmV0dXJuIG1hdGNocyA/IG1hdGNoc1sxXSA6IG51bGw7XHJcbiAgICB9LFxyXG5cclxuICAgIGdldE9iamVjdDogKG5hbWUpID0+IHtcclxuICAgICAgICBsZXQgdmFsdWUgPSBkb2N1bWVudC5jb29raWUubWF0Y2goUmVnRXhwKCcoPzpefDtcXFxccyopJyArIG5hbWUgKyAnPShbXjtdKiknKSk7XHJcbiAgICAgICAgY29uc3QgY29udGVudCA9IHZhbHVlID8gdmFsdWVbMV0gOiBudWxsO1xyXG4gICAgICAgIGlmKGNvbnRlbnQgIT09IG51bGwpIHtcclxuICAgICAgICAgICAgY29uc3QgY29udGVudFRhYiA9IGNvbnRlbnQuc3BsaXQoJyYnKTtcclxuICAgICAgICAgICAgbGV0IHJlc3BvbnNlID0gW107XHJcbiAgICAgICAgICAgIGZvcih2YXIgaT0wO2k8Y29udGVudFRhYi5sZW5ndGg7aSsrKXtcclxuICAgICAgICAgICAgICAgIGxldCBjb250ID0gY29udGVudFRhYltpXTtcclxuICAgICAgICAgICAgICAgIGNvbnN0IGNvbnRUYWIgPSBjb250LnNwbGl0KFwiPVwiKTtcclxuICAgICAgICAgICAgICAgIHJlc3BvbnNlW2NvbnRUYWJbMF1dID0gY29udFRhYlsxXTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICByZXR1cm4gcmVzcG9uc2U7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59IiwiXHJcbmNvbnN0IGJhc2UgPSBcIi9hcGkvYWNjb3VudFwiXHJcbmV4cG9ydCBjb25zdCBfX0FDQ19BUEkgPSB7XHJcbiAgICBsb2dpbjogYCR7YmFzZX0vbG9naW5gLFxyXG4gICAgcmVnaXN0ZXI6IGAke2Jhc2V9L3JlZ2lzdGVyYCxcclxuICAgIGZvcmdvdFBhc3N3b3JkOiBgJHtiYXNlfS9mb3Jnb3RQYXNzd29yZGAsXHJcbiAgICByZXNldFBhc3N3b3JkOiBgJHtiYXNlfS9yZXNldFBhc3N3b3JkYCxcclxuICAgIHVwZGF0ZVVzZXJEZXRhaWxzOiBgJHtiYXNlfS91cGRhdGVVc2VyYCxcclxuICAgIGNoYW5nZVBhc3N3b3JkOiBgJHtiYXNlfS9jaGFuZ2VQYXNzd29yZGAsXHJcbiAgICBjaGFuZ2VFbWFpbDogYCR7YmFzZX0vY2hhbmdlRW1haWxgLFxyXG4gICAgY3JlYXRlU2hpcHBpbmc6IGAke2Jhc2V9L2NyZWF0ZVNoaXBwaW5nQWRkcmVzc2AsXHJcbiAgICB1cGRhdGVTaGlwcGluZzogYCR7YmFzZX0vdXBkYXRlU2hpcHBpbmdBZGRyZXNzYCxcclxuICAgIGRlbGV0ZVNoaXBwaW5nOiBgJHtiYXNlfS9kZWxldGVTaGlwcGluZ0FkZHJlc3NgLFxyXG4gICAgZ2V0VXNlckluZm86IGAke2Jhc2V9L2dldFVzZXJJbmZvcm1hdGlvbmAsXHJcbiAgICBkZWxldGVVc2VyOiBgJHtiYXNlfS9kZWxldGVVc2VyYCxcclxuICAgIGxvZ291dDogYCR7YmFzZX0vbG9nb3V0YFxyXG59IiwiaW1wb3J0IHsgc2Nyb2xsIH0gZnJvbSBcIi4uLy4uL3V0aWxzL2RvY3VtZW50U2Nyb2xsXCI7XHJcblxyXG4vKipcclxuICogVGhlIG92ZXJsYXkgY2xhc3Mgd2l0aCBkZWZpbml0aW9uIG9mIG9wZW5PdmVybGF5IGFuZCBjbG9zZU92ZXJsYXlcclxuICovXHJcbmV4cG9ydCBjbGFzcyBwb3B1cCB7XHJcbiAgICAvKipcclxuICAgICogQHBhcmFtIGNvbnRhaW5lciAtIE92ZXJsYXkgQ29udGFpbmVyXHJcbiAgICAqIEBwYXJhbSBvdmVybGF5IC0gT3ZlcmxheSBzZWxlY3RvciAoSUQgd291bGQgYmUgaWRlYWwpXHJcbiAgICAqIEBwYXJhbSB0cmlnZ2VyIC0gVHJpZ2dlciB0byBvcGVuIFBvcHVwXHJcbiAgICAqIEBwYXJhbSBjbG9zZSAtIFRyaWdnZXIgdG8gY2xvc2UgUG9wdXBcclxuICAgICovXHJcbiAgICBjb25zdHJ1Y3RvcihvcHRpb25zKSB7XHJcbiAgICAgICAgdGhpcy5vbkNsb3NlID0gKCEhb3B0aW9ucy5vbkNsb3NlKSA/IG9wdGlvbnMub25DbG9zZSA6IG51bGw7XHJcbiAgICAgICAgdGhpcy5jb250YWluZXIgPSAob3B0aW9ucy5jb250YWluZXIgIT09IG51bGwgfHwgb3B0aW9ucy5jb250YWluZXIgIT09IHVuZGVmaW5lZCB8fCBvcHRpb25zLmNvbnRhaW5lciAhPT0gJyAnICkgPyBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKG9wdGlvbnMuY29udGFpbmVyKSA6IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ3NlY3Rpb24uanMtb3ZlcmxheScpO1xyXG4gICAgICAgIHRoaXMub3ZlcmxheSA9ICh0aGlzLmNvbnRhaW5lciAhPT0gbnVsbCkgPyB0aGlzLmNvbnRhaW5lci5xdWVyeVNlbGVjdG9yKG9wdGlvbnMuc2VsZWN0b3IpIDogbnVsbDtcclxuICAgICAgICB0aGlzLmNvbnRhaW5lck1vZGlmaWVyID0gb3B0aW9ucy5jb250YWluZXJNb2RpZmllciB8fCBudWxsO1xyXG4gICAgICAgIHRoaXMudGltZW91dCA9IG9wdGlvbnMudGltZW91dCB8fCAwO1xyXG5cclxuICAgICAgICB0aGlzLnRyaWdnZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKG9wdGlvbnMudHJpZ2dlcik7XHJcbiAgICAgICAgdGhpcy5jbG9zZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwob3B0aW9ucy5jbG9zZSk7XHJcblxyXG4gICAgICAgIHRoaXMuc2Nyb2xsID0gbmV3IHNjcm9sbCgpO1xyXG5cclxuICAgICAgICB0aGlzLmNvbnRhaW5zRm9ybSA9ICh0aGlzLmNvbnRhaW5lciAhPSBudWxsICYmIHRoaXMuY29udGFpbmVyLnF1ZXJ5U2VsZWN0b3IoJ2Zvcm0nKSAhPSBudWxsKSA/IHRydWUgOiBmYWxzZTtcclxuXHJcbiAgICAgICAgaWYodGhpcy50cmlnZ2VyICE9PSBudWxsKSB7XHJcbiAgICAgICAgICAgIHRoaXMudHJpZ2dlci5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChldmVudCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoKCk9PntcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLm9wZW5PdmVybGF5KCk7XHJcbiAgICAgICAgICAgICAgICB9LCB0aGlzLnRpbWVvdXQpXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH0gXHJcblxyXG4gICAgICAgIGlmKHRoaXMuY2xvc2UgIT09IG51bGwpIHtcclxuICAgICAgICAgICAgZm9yKGxldCBpPTA7IGkgPCB0aGlzLmNsb3NlLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICBsZXQgY2wgPSB0aGlzLmNsb3NlW2ldO1xyXG4gICAgICAgICAgICAgICAgY2wuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoZXZlbnQpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuY2xvc2VPdmVybGF5KCk7XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0gXHJcblxyXG4gICAgICAgIGlmKHRoaXMuY29udGFpbmVyICE9IG51bGwpIHtcclxuICAgICAgICAgICAgdGhpcy5jb250YWluZXIuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoZSkgPT4ge1xyXG4gICAgICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICAgICAgICAgICAgaWYoZS50YXJnZXQgPT0gdGhpcy5jb250YWluZXIpIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmNsb3NlT3ZlcmxheSgpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIEBwYXJhbSB7RXZlbnR9IGVcclxuICAgICAqL1xyXG4gICAgb3Blbk92ZXJsYXkoKXtcclxuICAgICAgICBpZih0aGlzLmNvbnRhaW5lciAhPT0gbnVsbCAmJiB0aGlzLm92ZXJsYXkgIT09IG51bGwpIHtcclxuICAgICAgICAgICAgdGhpcy5zY3JvbGwuZGlzYWJsZVNjcm9sbCgpO1xyXG5cclxuICAgICAgICAgICAgdGhpcy5jb250YWluZXIuc3R5bGUuZGlzcGxheSA9IFwiXCI7XHJcblxyXG4gICAgICAgICAgICBpZih0aGlzLmNvbnRhaW5lck1vZGlmaWVyICE9PSBudWxsKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmNvbnRhaW5lci5jbGFzc0xpc3QuYWRkKHRoaXMuY29udGFpbmVyTW9kaWZpZXIpO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICB0aGlzLm92ZXJsYXkuc3R5bGUuY3NzVGV4dCA9IFwiXCI7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogQHBhcmFtIHtFdmVudH0gZVxyXG4gICAgICovXHJcbiAgICBjbG9zZU92ZXJsYXkoKXtcclxuICAgICAgICBpZighIXRoaXMub25DbG9zZSkge1xyXG4gICAgICAgICAgICB0aGlzLm9uQ2xvc2UoKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYodGhpcy5jb250YWluZXIgIT09IG51bGwgJiYgdGhpcy5vdmVybGF5ICE9PSBudWxsKSB7XHJcbiAgICAgICAgICAgIHRoaXMuc2Nyb2xsLmVuYWJsZVNjcm9sbCgpO1xyXG5cclxuICAgICAgICAgICAgdGhpcy5jb250YWluZXIuc3R5bGUuY3NzVGV4dCA9ICdkaXNwbGF5OiBub25lJztcclxuXHJcbiAgICAgICAgICAgIGlmKHRoaXMuY29udGFpbmVyTW9kaWZpZXIgIT09IG51bGwpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuY29udGFpbmVyLmNsYXNzTGlzdC5yZW1vdmUodGhpcy5jb250YWluZXJNb2RpZmllcik7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIHRoaXMub3ZlcmxheS5zdHlsZS5jc3NUZXh0ID0gJ2Rpc3BsYXk6IG5vbmUnO1xyXG5cclxuICAgICAgICAgICAgaWYodGhpcy5jb250YWluc0Zvcm0pIHtcclxuICAgICAgICAgICAgICAgIHRoaXMucmVzZXRGb3JtKCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcmVzZXRGb3JtKCkge1xyXG4gICAgICAgIHZhciBmb3JtID0gdGhpcy5jb250YWluZXIucXVlcnlTZWxlY3RvcignZm9ybScpLFxyXG4gICAgICAgICAgICBpbnB1dHMgPSBmb3JtLnF1ZXJ5U2VsZWN0b3JBbGwoJ2lucHV0W3R5cGVdOm5vdChbdHlwZT1cInN1Ym1pdFwiXSksIHRleHRhcmVhJyksXHJcbiAgICAgICAgICAgIGNoZWNrQm94ZXMgPSB0aGlzLmNvbnRhaW5lci5xdWVyeVNlbGVjdG9yQWxsKCdpbnB1dFt0eXBlPVwiY2hlY2tib3hcIl0nKVxyXG5cclxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGlucHV0cy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICBjb25zdCAgIGlucHV0ID0gaW5wdXRzW2ldLFxyXG4gICAgICAgICAgICAgICAgICAgIHR5cGUgPSBpbnB1dC5nZXRBdHRyaWJ1dGUoJ3R5cGUnKTtcclxuICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICBpZighaW5wdXQuY2xhc3NMaXN0LmNvbnRhaW5zKFwianMtcmVzZXQtZXhjZXB0aW9uXCIpKSB7XHJcbiAgICAgICAgICAgICAgICBpbnB1dC52YWx1ZSA9IFwiXCI7XHJcbiAgICAgICAgICAgICAgICBpZih0eXBlID09PSAnaGlkZGVuJykge1xyXG4gICAgICAgICAgICAgICAgICAgIGlucHV0LmRpc3BhdGNoRXZlbnQobmV3IEV2ZW50KFwiY2hhbmdlXCIpKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGlmKHR5cGUgPT09ICdudW1iZXInKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYoaW5wdXQucGFyZW50Tm9kZS5xdWVyeVNlbGVjdG9yQWxsKFwiLmpzLXJldmlldy1pdGVtXCIpLmxlbmd0aCA+IDApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgcmV2aWV3SXRlbXMgPSBpbnB1dC5wYXJlbnROb2RlLnF1ZXJ5U2VsZWN0b3JBbGwoXCIuanMtcmV2aWV3LWl0ZW1cIik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvcih2YXIgaj0wOyBqIDwgcmV2aWV3SXRlbXMubGVuZ3RoOyBqKyspIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldmlld0l0ZW1zW2pdLmNsYXNzTGlzdC5yZW1vdmUoXCJwcm9kdWN0LXJldmlldy0tYWN0aXZlXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgaWYodHlwZSA9PT0gJ2NoZWNrYm94Jykge1xyXG4gICAgICAgICAgICAgICAgICAgIGlucHV0LmNoZWNrZWQgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICBpbnB1dC5wYXJlbnRFbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUoXCJhY3RpdmVcIik7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBpZihpbnB1dC5wYXJlbnROb2RlICE9PSBudWxsKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaW5wdXQucGFyZW50Tm9kZS5jbGFzc0xpc3QucmVtb3ZlKFwibm90dmFsaWRcIik7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmKGZvcm0ucXVlcnlTZWxlY3RvcignLmZvcm0taW5wdXRfX2Vycm9yLS1nbG9iYWwnKSAhPT0gbnVsbCkge1xyXG4gICAgICAgICAgICBmb3JtLnF1ZXJ5U2VsZWN0b3IoJy5mb3JtLWlucHV0X19lcnJvci0tZ2xvYmFsJykuY2xhc3NMaXN0LnJlbW92ZShcInNob3dcIik7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59IiwiLyoqXHJcbiAqIEBpZCB1bmlxdWUgaWRlbnRpZmllciBmb3IgdGhlIGZvcm0gaXRlbVxyXG4gKiBAdXJsIEFQSSB1cmwgaGFuZGxlciBvZiB0aGUgY3VycmVudCBmb3JtXHJcbiAqIEBtZXRob2QgQVBJIG1ldGhvZCBcclxuICogQGRpc2FibGVTdWJtaXQgRm9ybSBzdWJtaXRpb24gd2lsbCBiZSBpbml0aWFsbHkgZGlzYWJsZWQgaWYgc2V0IHRvIHRydWVcclxuICogQHJlc2V0Rm9ybSBGb3JtIGlzIHJlc2V0IGFmdGVyIEFQSSBjYWxscyBpZiBzZXQgdG8gdHJ1ZVxyXG4gKiBAcmVkaXJlY3QgSWYgc2V0IHRvIHRydWUgd2lsbCB1c2UgcmVkaXJlY3Rpb24gVVJMIGZyb20gQVBJIGFmdGVyIGNhbGwgb3IgcmVsb2FkcyBwYWdlIGlmIG5vIHJlZGlyZWN0aW9uIFVSTCBpcyByZWNlaXZlZFxyXG4gKiBAZGF0YU1vZGlmaWVyIEEgZnVuY3Rpb24gZXhlY3V0ZWQgd2hlbiBkYXRhIGNvbGxlY3Rpb24gaXMgaW5pdGlhbGl6ZWQsIHVzZWQgdG8gaW5jbHVkZSBkYXRhIG90aGVyIHRoYXQgd2hhdCBjYW4gYmUgY29sbGVjdGVkIGluIHRoZSBmb3JtXHJcbiAqIEBkYXRhTGF5ZXJQdXNoIEdBIGZ1bmN0aW9uIGV4ZWN1dGVkIG9uIHBvc2l0aXZlIHN1Y2Nlc3Mgb25seVxyXG4gKiBAc3VjY2Vzc0hhbmRsZXIgQ3VzdG9tIHN1Y2Nlc3MgaGFuZGxlclxyXG4gKi9cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgQWNjb3VudEZvcm0ge1xyXG4gICAgY29uc3RydWN0b3Iob3B0aW9ucyA9IHt9KSB7XHJcbiAgICAgICAgdGhpcy5pZCA9IG9wdGlvbnMuaWQ7XHJcbiAgICAgICAgdGhpcy51cmwgPSBvcHRpb25zLnVybDtcclxuICAgICAgICB0aGlzLm1ldGhvZCA9IG9wdGlvbnMubWV0aG9kO1xyXG5cclxuICAgICAgICB0aGlzLmRpc2FibGVTdWJtaXQgPSBvcHRpb25zLmRpc2FibGVTdWJtaXQgfHwgZmFsc2U7XHJcblxyXG4gICAgICAgIHRoaXMucmVkaXJlY3Rpb24gPSBvcHRpb25zLnJlZGlyZWN0aW9uO1xyXG4gICAgICAgIHRoaXMucmVzZXRGb3JtID0gb3B0aW9ucy5yZXNldEZvcm0gID09PSBmYWxzZSA/IG9wdGlvbnMucmVzZXRGb3JtIDogdHJ1ZTtcclxuICAgICAgICB0aGlzLnJlZGlyZWN0ID0gb3B0aW9ucy5yZWRpcmVjdCA9PT0gZmFsc2UgPyBvcHRpb25zLnJlZGlyZWN0IDogdHJ1ZTtcclxuXHJcbiAgICAgICAgdGhpcy5kYXRhTW9kaWZpZXIgPSB0eXBlb2Ygb3B0aW9ucy5kYXRhTW9kaWZpZXIgPT09IFwiZnVuY3Rpb25cIiA/IG9wdGlvbnMuZGF0YU1vZGlmaWVyIDogbnVsbDtcclxuICAgICAgICB0aGlzLmRhdGFMYXllclB1c2ggPSB0eXBlb2Ygb3B0aW9ucy5kYXRhTGF5ZXJQdXNoID09PSBcImZ1bmN0aW9uXCIgPyBvcHRpb25zLmRhdGFMYXllclB1c2ggOiBudWxsO1xyXG4gICAgICAgIHRoaXMuYnRuQ2xpY2tQdXNoID0gdHlwZW9mIG9wdGlvbnMuYnRuQ2xpY2tQdXNoID09PSBcImZ1bmN0aW9uXCIgPyBvcHRpb25zLmJ0bkNsaWNrUHVzaCA6IG51bGw7XHJcbiAgICAgICAgdGhpcy5zdWNjZXNzSGFuZGxlciA9IHR5cGVvZiBvcHRpb25zLnN1Y2Nlc3NIYW5kbGVyID09PSBcImZ1bmN0aW9uXCIgPyBvcHRpb25zLnN1Y2Nlc3NIYW5kbGVyIDogbnVsbDtcclxuICAgICAgICB0aGlzLnJlcXVlc3REYXRhTW9kaWZpZXIgPSB0eXBlb2Ygb3B0aW9ucy5yZXF1ZXN0RGF0YU1vZGlmaWVyID09PSBcImZ1bmN0aW9uXCIgPyBvcHRpb25zLnJlcXVlc3REYXRhTW9kaWZpZXIgOiBudWxsO1xyXG4gICAgfVxyXG59IiwiZXhwb3J0IGNsYXNzIGFjY29yZGlvbiB7XHJcbiAgICBjb25zdHJ1Y3RvcihvcHRpb25zKSB7XHJcbiAgICAgICAgdGhpcy5FeHBhbmRlZCA9IGZhbHNlO1xyXG4gICAgICAgIHRoaXMuY29udGFpbmVyID0gKHR5cGVvZiBvcHRpb25zLmNvbnRhaW5lciA9PSBcIm9iamVjdFwiKSA/IG9wdGlvbnMuY29udGFpbmVyIDogZG9jdW1lbnQucXVlcnlTZWxlY3RvcihvcHRpb25zLmNvbnRhaW5lcik7XHJcbiAgICAgICAgdGhpcy50cmlnZ2VyID0gISF0aGlzLmNvbnRhaW5lciA/IHRoaXMuY29udGFpbmVyLnF1ZXJ5U2VsZWN0b3Iob3B0aW9ucy50cmlnZ2VyKSA6IG51bGw7XHJcbiAgICAgICAgdGhpcy5jb250ZW50ID0gISF0aGlzLmNvbnRhaW5lciA/IHRoaXMuY29udGFpbmVyLnF1ZXJ5U2VsZWN0b3Iob3B0aW9ucy5jb250ZW50KSA6IG51bGw7XHJcblxyXG4gICAgICAgIHRoaXMuaWNvbiA9ICEhdGhpcy5jb250YWluZXIgPyB0aGlzLmNvbnRhaW5lci5xdWVyeVNlbGVjdG9yKG9wdGlvbnMuaWNvbikgOiBudWxsO1xyXG4gICAgICAgIHRoaXMuaWNvbk1vZGlmaWVyID0gb3B0aW9ucy5pY29uTW9kaWZpZXI7XHJcbiAgICAgICAgdGhpcy5jb250ZW50TW9kaWZpZXIgPSBvcHRpb25zLmNvbnRlbnRNb2RpZmllcjtcclxuICAgICAgICB0aGlzLm11bHRpcGxlVHJpZ2dlciA9ICEhb3B0aW9ucy5tdWx0aXBsZVRyaWdnZXIgPyBvcHRpb25zLm11bHRpcGxlVHJpZ2dlciA6IGZhbHNlO1xyXG4gICAgICAgIHRoaXMubXVsdGlwbGVDb250ZW50ID0gISF0aGlzLmNvbnRhaW5lciA/IHRoaXMuY29udGFpbmVyLnF1ZXJ5U2VsZWN0b3JBbGwob3B0aW9ucy5tdWx0aXBsZUNvbnRlbnQpIDogbnVsbDtcclxuICAgICAgICB0aGlzLm11bHRpcGxlQ29udGVudE1vZGlmaWVyID0gb3B0aW9ucy5tdWx0aXBsZUNvbnRlbnRNb2RpZmllcjtcclxuXHJcbiAgICAgICAgdGhpcy5vbk9wZW4gPSAhIW9wdGlvbnMub25PcGVuICYmIHR5cGVvZiBvcHRpb25zLm9uT3BlbiA9PSBcImZ1bmN0aW9uXCIgPyBvcHRpb25zLm9uT3BlbiA6IG51bGw7XHJcbiAgICAgICAgdGhpcy5vbkNsb3NlID0gISFvcHRpb25zLm9uQ2xvc2UgJiYgdHlwZW9mIG9wdGlvbnMub25DbG9zZSA9PSBcImZ1bmN0aW9uXCIgPyBvcHRpb25zLm9uQ2xvc2UgOiBudWxsO1xyXG5cclxuICAgICAgICBpZiggdGhpcy5tdWx0aXBsZVRyaWdnZXIgXHJcbiAgICAgICAgICAgICYmICEhdGhpcy50cmlnZ2VyKSB7XHJcbiAgICAgICAgICAgIHRoaXMudHJpZ2dlciA9IHRoaXMuY29udGFpbmVyLnF1ZXJ5U2VsZWN0b3JBbGwob3B0aW9ucy50cmlnZ2VyKTtcclxuXHJcbiAgICAgICAgICAgIGZvcihsZXQgaT0wOyBpIDwgdGhpcy50cmlnZ2VyLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICBsZXQgdHJpZ2dlciA9IHRoaXMudHJpZ2dlcltpXTtcclxuXHJcbiAgICAgICAgICAgICAgICB0cmlnZ2VyLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKGUpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy50b2dnbGVBY2NvcmRpb24odHJpZ2dlcik7XHJcbiAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmKCAhdGhpcy5tdWx0aXBsZVRyaWdnZXIgXHJcbiAgICAgICAgICAgICYmIHRoaXMudHJpZ2dlciAhPSBudWxsKSB7XHJcbiAgICAgICAgICAgIHRoaXMudHJpZ2dlci5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChlKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnRvZ2dsZUFjY29yZGlvbigpO1xyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICB0b2dnbGVBY2NvcmRpb24odHJpZ2dlcil7XHJcbiAgICAgICAgaWYodGhpcy5jb250ZW50ICE9PSBudWxsIHx8IHRoaXMubXVsdGlwbGVDb250ZW50Lmxlbmd0aCA+IDApIHtcclxuICAgICAgICAgICAgc3dpdGNoICh0aGlzLkV4cGFuZGVkKSB7XHJcbiAgICAgICAgICAgICAgICBjYXNlIHRydWU6XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5jbG9zZUFjY29yZGlvbih0cmlnZ2VyKTtcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICBkZWZhdWx0OlxyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMub3BlbkFjY29yZGlvbih0cmlnZ2VyKTtcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBvcGVuQWNjb3JkaW9uKHRyaWdnZXIgPSBudWxsKXtcclxuICAgICAgICBpZighIXRoaXMub25PcGVuKSB7XHJcbiAgICAgICAgICAgIGlmKCEhdHJpZ2dlcikge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5vbk9wZW4odHJpZ2dlcik7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmKHRoaXMuaWNvbiAhPSBudWxsKSB7XHJcbiAgICAgICAgICAgIHRoaXMuaWNvbi5jbGFzc0xpc3QuYWRkKHRoaXMuaWNvbk1vZGlmaWVyKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGZvcihsZXQgaT0wOyBpPHRoaXMubXVsdGlwbGVDb250ZW50Lmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgIHRoaXMubXVsdGlwbGVDb250ZW50W2ldLmNsYXNzTGlzdC5hZGQodGhpcy5tdWx0aXBsZUNvbnRlbnRNb2RpZmllcik7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB0aGlzLmNvbnRlbnQuY2xhc3NMaXN0LmFkZCh0aGlzLmNvbnRlbnRNb2RpZmllcik7XHJcblxyXG4gICAgICAgIHRoaXMuRXhwYW5kZWQgPSB0cnVlO1xyXG4gICAgfVxyXG5cclxuICAgIGNsb3NlQWNjb3JkaW9uKHRyaWdnZXIgPSBudWxsKXtcclxuICAgICAgICBpZih0aGlzLmljb24gIT0gbnVsbCkge1xyXG4gICAgICAgICAgICB0aGlzLmljb24uY2xhc3NMaXN0LnJlbW92ZSh0aGlzLmljb25Nb2RpZmllcik7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZighIXRoaXMub25DbG9zZSkge1xyXG4gICAgICAgICAgICB0aGlzLm9uQ2xvc2UodGhpcy5jb250ZW50LCB0cmlnZ2VyKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGZvcihsZXQgaT0wOyBpPCB0aGlzLm11bHRpcGxlQ29udGVudC5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICB0aGlzLm11bHRpcGxlQ29udGVudFtpXS5jbGFzc0xpc3QucmVtb3ZlKHRoaXMubXVsdGlwbGVDb250ZW50TW9kaWZpZXIpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdGhpcy5jb250ZW50LmNsYXNzTGlzdC5yZW1vdmUodGhpcy5jb250ZW50TW9kaWZpZXIpO1xyXG5cclxuICAgICAgICB0aGlzLkV4cGFuZGVkID0gZmFsc2U7XHJcbiAgICB9XHJcbn0iLCJpbXBvcnQgeyBhY2NvcmRpb24gfSBmcm9tIFwiLi9jb21wb25lbnRzL2FjY29yZGlvblwiO1xyXG5cclxuZXhwb3J0IGNsYXNzIGFjY29yZGlvbkZhY3Rvcnkge1xyXG4gICAgY29uc3RydWN0b3Iob3B0aW9ucykge1xyXG4gICAgICAgIHRoaXMuY29udGFpbmVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChvcHRpb25zLmNvbnRhaW5lcik7XHJcbiAgICAgICAgdGhpcy50cmlnZ2VyID0gb3B0aW9ucy50cmlnZ2VyO1xyXG4gICAgICAgIHRoaXMuY29udGVudCA9IG9wdGlvbnMuY29udGVudDtcclxuICAgICAgICB0aGlzLmljb24gPSBvcHRpb25zLmljb247XHJcbiAgICAgICAgdGhpcy5pY29uTW9kaWZpZXIgPSBvcHRpb25zLmljb25Nb2RpZmllcjtcclxuICAgICAgICB0aGlzLmNvbnRlbnRNb2RpZmllciA9IG9wdGlvbnMuY29udGVudE1vZGlmaWVyO1xyXG4gICAgICAgIHRoaXMubXVsdGlwbGVUcmlnZ2VyID0gb3B0aW9ucy5tdWx0aXBsZVRyaWdnZXI7XHJcbiAgICAgICAgdGhpcy5tdWx0aXBsZUNvbnRlbnQgPSBvcHRpb25zLm11bHRpcGxlQ29udGVudDtcclxuICAgICAgICB0aGlzLm11bHRpcGxlQ29udGVudE1vZGlmaWVyID0gb3B0aW9ucy5tdWx0aXBsZUNvbnRlbnRNb2RpZmllcjtcclxuICAgICAgICB0aGlzLm9uT3BlbiA9IG9wdGlvbnMub25PcGVuO1xyXG4gICAgICAgIHRoaXMub25DbG9zZSA9IG9wdGlvbnMub25DbG9zZTtcclxuXHJcbiAgICAgICAgaWYodGhpcy50cmlnZ2VyICE9PSBcIi5qcy1mb290ZXItYWNjb3JkaW9uXCIpe1xyXG4gICAgICAgICAgICB0aGlzLmNyZWF0ZUFjY29yZGlvbigpO1xyXG4gICAgICAgIH0gZWxzZSBpZih3aW5kb3cub3V0ZXJXaWR0aDw9MTAyNCkge1xyXG4gICAgICAgICAgICB0aGlzLmNyZWF0ZUFjY29yZGlvbigpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBjcmVhdGVBY2NvcmRpb24oKSB7XHJcbiAgICAgICAgZm9yKGxldCBpID0gMDsgaSA8IHRoaXMuY29udGFpbmVyLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgIG5ldyBhY2NvcmRpb24oe1xyXG4gICAgICAgICAgICAgICAgY29udGFpbmVyOiB0aGlzLmNvbnRhaW5lcltpXSxcclxuICAgICAgICAgICAgICAgIHRyaWdnZXI6IHRoaXMudHJpZ2dlcixcclxuICAgICAgICAgICAgICAgIGNvbnRlbnQ6IHRoaXMuY29udGVudCxcclxuICAgICAgICAgICAgICAgIGljb246IHRoaXMuaWNvbixcclxuICAgICAgICAgICAgICAgIGljb25Nb2RpZmllcjogdGhpcy5pY29uTW9kaWZpZXIsXHJcbiAgICAgICAgICAgICAgICBjb250ZW50TW9kaWZpZXI6IHRoaXMuY29udGVudE1vZGlmaWVyLFxyXG4gICAgICAgICAgICAgICAgbXVsdGlwbGVUcmlnZ2VyOiB0aGlzLm11bHRpcGxlVHJpZ2dlcixcclxuICAgICAgICAgICAgICAgIG11bHRpcGxlQ29udGVudDogdGhpcy5tdWx0aXBsZUNvbnRlbnQsXHJcbiAgICAgICAgICAgICAgICBtdWx0aXBsZUNvbnRlbnRNb2RpZmllcjogdGhpcy5tdWx0aXBsZUNvbnRlbnRNb2RpZmllcixcclxuICAgICAgICAgICAgICAgIG9uT3BlbjogdGhpcy5vbk9wZW4sXHJcbiAgICAgICAgICAgICAgICBvbkNsb3NlOiB0aGlzLm9uQ2xvc2VcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59IiwiZXhwb3J0IGNvbnN0IF9EQVRFID0ge1xyXG4gICAgdGltZVN0YW1wOiAoKSA9PiB7XHJcbiAgICAgICAgbGV0IGN1cnJlbnREYXRlID0gbmV3IERhdGUoKSxcclxuICAgICAgICAgICAgZGF0ZSA9IGN1cnJlbnREYXRlLmdldERhdGUoKSxcclxuICAgICAgICAgICAgbW9udGggPSBjdXJyZW50RGF0ZS5nZXRNb250aCgpICsgMSxcclxuICAgICAgICAgICAgeWVhciA9IGN1cnJlbnREYXRlLmdldEZ1bGxZZWFyKCksXHJcbiAgICAgICAgICAgIGhvdXIgPSBjdXJyZW50RGF0ZS5nZXRIb3VycygpLFxyXG4gICAgICAgICAgICBtaW51dGUgPSBjdXJyZW50RGF0ZS5nZXRNaW51dGVzKCksXHJcbiAgICAgICAgICAgIHNlYyA9IGN1cnJlbnREYXRlLmdldFNlY29uZHMoKTtcclxuXHJcbiAgICByZXR1cm4gYCR7ZGF0ZX0vJHttb250aH0vJHt5ZWFyfSAke2hvdXJ9OiR7bWludXRlfToke3NlY31gO1xyXG4gICAgfVxyXG59IiwiLyoqXHJcbiAqIEhvbGRzIHRoZSBiZWhhdmlvdXIgb2YgYWxsIHByb2ZpbGUgcmVsYXRlZCBmb3Jtc1xyXG4gKiBSZWdpc3RyYXRpb24sIExvZ2luLCBGb3Jnb3QgUGFzc3dvcmQsIFJlc2V0IFBhc3N3b3JkLCBDaGFuZ2UgUHJvZmlsZSBEZXRhaWxzXHJcbiAqIENoYW5nZSBFbWFpbCwgQ2hhbmdlIEFkZHJlc3MsIEFkZCBkZWxpdmVyeSBBZGRyZXNzLCBVcGRhdGUgZGVsaXZlcnkgQWRkcmVzc1xyXG4gKi9cclxuXHJcbmltcG9ydCBBY2NvdW50Rm9ybSBmcm9tIFwiLi4vLi4vbW9kZWwvYWNjb3VudC9BY2NvdW50Rm9ybVwiO1xyXG5pbXBvcnQgeyBfX0FDQ19BUEkgfSBmcm9tIFwiLi4vLi4vbW9kZWwvYWNjb3VudC9lbmRwb2ludFwiO1xyXG5pbXBvcnQgeyBTdHJpbmdVdGlscyB9IGZyb20gXCIuLi8uLi91dGlscy9zdHJpbmctdXRpbHNcIjtcclxuaW1wb3J0IHNpbXBsZUxvYWRlciBmcm9tIFwiLi4vLi4vdmlldy9jb21wb25lbnRzL3NpbXBsZS1sb2FkZXJcIjtcclxuXHJcbmNvbnN0IF9USU1FT1VUID0gMTAwMDA7XHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEFjY291bnRGb3JtQ29udHJvbGxlciB7XHJcbiAgICBjb25zdHJ1Y3RvcihvcHRpb25zID0gbmV3IEFjY291bnRGb3JtKHtcclxuICAgICAgICBpZDogXCJsb2dpbi1mb3JtXCIsXHJcbiAgICAgICAgdXJsOiBfX0FDQ19BUEkubG9naW4sXHJcbiAgICAgICAgbWV0aG9kOiBcIlBPU1RcIixcclxuICAgICAgICByZXNldEZvcm06IHRydWVcclxuICAgIH0pKSB7XHJcbiAgICAgICAgdGhpcy5mb3JtSWQgPSBvcHRpb25zLmlkO1xyXG4gICAgICAgIHRoaXMuc3VibWl0VXJsID0gb3B0aW9ucy51cmw7XHJcbiAgICAgICAgdGhpcy5zdWJtaXRNZXRob2QgPSBvcHRpb25zLm1ldGhvZDtcclxuICAgICAgICB0aGlzLnN1Y2Nlc3NIYW5kbGVyID0gb3B0aW9ucy5zdWNjZXNzSGFuZGxlcjtcclxuICAgICAgICB0aGlzLmRhdGFNb2RpZmllciA9IG9wdGlvbnMuZGF0YU1vZGlmaWVyO1xyXG4gICAgICAgIHRoaXMucmVzZXRGb3JtID0gb3B0aW9ucy5yZXNldEZvcm07XHJcbiAgICAgICAgdGhpcy5yZWRpcmVjdCA9IG9wdGlvbnMucmVkaXJlY3Q7XHJcbiAgICAgICAgdGhpcy5kaXNhYmxlU3VibWl0ID0gb3B0aW9ucy5kaXNhYmxlU3VibWl0O1xyXG4gICAgICAgIHRoaXMuZ2FQdXNoID0gb3B0aW9ucy5kYXRhTGF5ZXJQdXNoO1xyXG4gICAgICAgIHRoaXMuYnRuUHVzaCA9IG9wdGlvbnMuYnRuQ2xpY2tQdXNoO1xyXG4gICAgICAgIHRoaXMucmVxdWVzdERhdGFNb2RpZmllciA9IG9wdGlvbnMucmVxdWVzdERhdGFNb2RpZmllcjtcclxuICAgICAgICB0aGlzLnJlZGlyZWN0aW9uID0gb3B0aW9ucy5yZWRpcmVjdGlvbjtcclxuICAgICAgICB0aGlzLmhhc0NhcHRjaGEgPSBmYWxzZTtcclxuICAgICAgICB0aGlzLl9jYXB0Y2hhRGV0YWlscyA9IHt9O1xyXG4gICAgICAgIHRoaXMuUmVxdWVzdERhdGEgPSBudWxsO1xyXG4gICAgICAgIHRoaXMuU3VibWl0Q3RhID0gbnVsbDtcclxuXHJcbiAgICAgICAgdGhpcy5kYXRhID0ge307XHJcbiAgICAgICAgdGhpcy5mb3JtID0gbnVsbDtcclxuICAgICAgICB0aGlzLnN1Ym1pdCA9IGZhbHNlO1xyXG4gICAgICAgIHRoaXMubG9hZGVyID0gbmV3IHNpbXBsZUxvYWRlcigpO1xyXG5cclxuICAgICAgICB0aGlzLmluaXQoKTtcclxuICAgICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcImxvYWRcIiwgZSA9PiB7XHJcbiAgICAgICAgICAgIGlmKHRoaXMuaGFzQ2FwdGNoYSkge1xyXG4gICAgICAgICAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgICAgICAgICBncmVjYXB0Y2hhLnJlbmRlcigncmVjYXB0Y2hhJywgeyBcclxuICAgICAgICAgICAgICAgICAgICAgICAgc2l0ZWtleTogdGhpcy5fY2FwdGNoYURldGFpbHMuaWQsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGhsOiB0aGlzLl9jYXB0Y2hhRGV0YWlscy5sYW5nLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBzaXplOiB0aGlzLl9jYXB0Y2hhRGV0YWlscy5zaXplLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBiYWRnZTogdGhpcy5fY2FwdGNoYURldGFpbHMuYmFkZ2UsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhbGxiYWNrOiAodG9rZW4pID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuUmVxdWVzdERhdGEuZGF0YVtcIl9jYXB0Y2hhXCJdID0gdG9rZW47XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmxvYWRlci5zaG93TG9hZGVyKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLlN1Ym1pdEN0YS5zZXRBdHRyaWJ1dGUoXCJkaXNhYmxlZFwiLCB0cnVlKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5TdWJtaXRDdGEuY2xhc3NMaXN0LmFkZChcIm5vdHZhbGlkXCIpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl9zdWJtaXRSZXF1ZXN0KHRoaXMuUmVxdWVzdERhdGEsIHRoaXMuU3VibWl0Q3RhKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgfSBjYXRjaCAoZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGUpXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KVxyXG5cclxuICAgIH1cclxuXHJcbiAgICBpbml0KCkge1xyXG4gICAgICAgIGxldCBmb3JtID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihgW2RhdGEtZm9ybS1pZGVudGlmaWNhdGlvbj1cIiR7dGhpcy5mb3JtSWR9XCJdIGZvcm1gKSxcclxuICAgICAgICAgICAgc3VibWl0QnRuID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihgLmZvcm0taW5wdXRfX2J1dHRvbi4ke3RoaXMuZm9ybUlkfWApO1xyXG5cclxuICAgICAgICBpZighIWZvcm0pIHtcclxuICAgICAgICAgICAgdGhpcy5mb3JtID0gZm9ybTtcclxuICAgICAgICAgICAgdGhpcy5faW5pdERhdGFDb2xsZWN0aW9uKGZvcm0sIHN1Ym1pdEJ0bilcclxuXHJcbiAgICAgICAgICAgIHRoaXMuZm9ybS5hZGRFdmVudExpc3RlbmVyKFwic3VibWl0XCIsIGUgPT4ge1xyXG4gICAgICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICAgICAgICB9KVxyXG5cclxuICAgICAgICAgICAgaWYoISFzdWJtaXRCdG4pIHtcclxuICAgICAgICAgICAgICAgIGlmKHRoaXMuZGlzYWJsZVN1Ym1pdCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHN1Ym1pdEJ0bi5zZXRBdHRyaWJ1dGUoXCJkaXNhYmxlZFwiLCB0cnVlKVxyXG4gICAgICAgICAgICAgICAgICAgIHN1Ym1pdEJ0bi5jbGFzc0xpc3QuYWRkKFwibm90dmFsaWRcIilcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHRoaXMuX2luaXRTZW5kRGF0YShzdWJtaXRCdG4pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogRnVuY3Rpb24gcmVzcG9uc2libGUgdG8gaW5pdGlhbGlzZSB0aGlzLmRhdGEgd2l0aCBrZXk6IHtkYXRhLXNjLWZpZWxkLW5hbWV9IGFuZCB2YWx1ZToge2lucHV0LnZhbHVlfSBvciB7ZGF0YS1kZWZhdWx0fVxyXG4gICAgICogQHBhcmFtIHtET019IGZvcm0gVGhlIGZvcm0gZWxlbWVudCBmcm9tIHdoaWNoIGRhdGEgc2hvdWxkIGJlIGNvbGxlY3RlZFxyXG4gICAgICogQHBhcmFtIHtET019IGJ1dHRvbiBUaGUgc3VibWl0IGJ1dHRvbiBkaXNiYWxlZCBiZWZvcmUgY2hhbmdlIGlzIG1hZGUgdG8gdGhlIGZvcm1cclxuICAgICAqL1xyXG4gICAgX2luaXREYXRhQ29sbGVjdGlvbihmb3JtLCBidXR0b24pIHtcclxuICAgICAgICBsZXQgZmllbGRzID0gZm9ybS5xdWVyeVNlbGVjdG9yQWxsKFwiaW5wdXRbZGF0YS1zYy1maWVsZC1uYW1lXSwgdGV4dGFyZWFbZGF0YS1zYy1maWVsZC1uYW1lXSwgc2VsZWN0W2RhdGEtc2MtZmllbGQtbmFtZV1cIiksXHJcbiAgICAgICAgICAgIHJlY2FwdGNoYSA9IGZvcm0ucXVlcnlTZWxlY3RvcihcIiNyZWNhcHRjaGFcIik7XHJcblxyXG4gICAgICAgIGlmKCEhcmVjYXB0Y2hhKSB7XHJcbiAgICAgICAgICAgIHRoaXMuaGFzQ2FwdGNoYSA9IHRydWU7XHJcbiAgICAgICAgICAgIHRoaXMuX2NhcHRjaGFEZXRhaWxzID0ge1xyXG4gICAgICAgICAgICAgICAgaWQ6IHJlY2FwdGNoYS5nZXRBdHRyaWJ1dGUoXCJkYXRhLXNpdGVrZXlcIiksXHJcbiAgICAgICAgICAgICAgICBsYW5nOiByZWNhcHRjaGEuZ2V0QXR0cmlidXRlKFwiZGF0YS1sYW5nXCIpLFxyXG4gICAgICAgICAgICAgICAgc2l6ZTogcmVjYXB0Y2hhLmdldEF0dHJpYnV0ZShcImRhdGEtc2l6ZVwiKSxcclxuICAgICAgICAgICAgICAgIGJhZGdlOiByZWNhcHRjaGEuZ2V0QXR0cmlidXRlKFwiZGF0YS1iYWRnZVwiKVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBmb3IgKGxldCBpbmRleCA9IDA7IGluZGV4IDwgZmllbGRzLmxlbmd0aDsgaW5kZXgrKykge1xyXG4gICAgICAgICAgICBjb25zdCBmaWVsZCA9ICBmaWVsZHNbaW5kZXhdO1xyXG5cclxuICAgICAgICAgICAgZmllbGQuYWRkRXZlbnRMaXN0ZW5lcihcImNoYW5nZVwiLCBlID0+IHtcclxuICAgICAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGAke3RoaXMuZm9ybUlkfS1nbG9iYWwtZXJyb3JgKT8ucmVtb3ZlKCk7XHJcblxyXG4gICAgICAgICAgICAgICAgdGhpcy5hc3NpZ25WYWx1ZShmaWVsZCk7XHJcblxyXG4gICAgICAgICAgICAgICAgaWYodGhpcy5kaXNhYmxlU3VibWl0KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgYnV0dG9uLnJlbW92ZUF0dHJpYnV0ZShcImRpc2FibGVkXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgIGJ1dHRvbi5jbGFzc0xpc3QucmVtb3ZlKFwibm90dmFsaWRcIik7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB0aGlzLmFzc2lnblZhbHVlKGZpZWxkLCBcImRhdGEtZGVmYXVsdFwiKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmKCEhdGhpcy5kYXRhTW9kaWZpZXIpIHtcclxuICAgICAgICAgICAgdGhpcy5kYXRhTW9kaWZpZXIoKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBVcGRhdGVzIHRoaXMuZGF0YSB3aXRoIHRoZSBjb3JyZWN0IHZhbHVlc1xyXG4gICAgICogQHBhcmFtIHtET019IGZpZWxkIElucHV0IERPTSBmcm9tIHdoaWNoIGRhdGEgc2hvdWxkIGJlIGNvbGxlY3RlZFxyXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGRhdGEgRGF0YSBhdHRyaWJ1dGUgZnJvbSB3aGljaCBkYXRhIHNob3VsZCBiZSBjb2xsZWN0ZWQsIGNvbGxlY3QgZnJvbSB2YWx1ZSBpZiBzZXQgdG8ge2ludCAwfVxyXG4gICAgICovXHJcbiAgICBhc3NpZ25WYWx1ZShmaWVsZCwgZGF0YSA9IDApIHtcclxuICAgICAgICBsZXQgbmFtZSA9IGZpZWxkLmdldEF0dHJpYnV0ZShcImRhdGEtc2MtZmllbGQtbmFtZVwiKSxcclxuICAgICAgICAgICAgdHlwZSA9IGZpZWxkLmdldEF0dHJpYnV0ZSgndHlwZScpLFxyXG4gICAgICAgICAgICB2YWx1ZSA9IGRhdGEgPT09IDAgJiYgISFmaWVsZC52YWx1ZSAmJiBmaWVsZC52YWx1ZS5sZW5ndGggPiAwID8gZmllbGQudmFsdWUgOiBmaWVsZC5nZXRBdHRyaWJ1dGUoZGF0YSlcclxuICAgICAgICBpZih0eXBlICE9IFwiaGlkZGVuXCIpIHtcclxuICAgICAgICAgICAgc3dpdGNoKHR5cGUpIHtcclxuICAgICAgICAgICAgICAgIGNhc2UgXCJjaGVja2JveFwiOlxyXG4gICAgICAgICAgICAgICAgICAgIGlmKG5hbWUgPT09IFwic2lnbi1pbi1oZWFkZXJcIikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBuYW1lID0gXCJLZWVwU2lnbkluXCI7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmRhdGFbbmFtZV0gPSBmaWVsZC5jaGVja2VkXHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICBkZWZhdWx0OlxyXG4gICAgICAgICAgICAgICAgICAgIGlmKG5hbWUgPT09IFwiYWRkcmVzc19tYWlsXCIpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbmFtZSA9IFwiRW1haWxcIjtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGlmKGZpZWxkLmNsYXNzTGlzdC5jb250YWlucyhcImpzLWZvcm0taW5wdXRcIikgIT0gLTFcclxuICAgICAgICAgICAgICAgICAgICAgICAgJiYgIVN0cmluZ1V0aWxzLmZpbmRDaGFyKFwiQ29uZmlybVwiLCBuYW1lKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZighIXZhbHVlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmRhdGFbbmFtZV0gPSB2YWx1ZVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5kYXRhW25hbWVdID0gXCJcIjtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYoZmllbGQuZ2V0QXR0cmlidXRlKGRhdGEpID09PSBudWxsKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmRhdGFbbmFtZV0gPSBmaWVsZC52YWx1ZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBfaW5pdFNlbmREYXRhKGJ0bikge1xyXG4gICAgICAgIGJ0bi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgZSA9PiB7XHJcbiAgICAgICAgICAgIGlmKCEhdGhpcy5idG5QdXNoKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmJ0blB1c2goKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZihPYmplY3Qua2V5cyh0aGlzLmRhdGEpLmxlbmd0aCA+IDAgJiYgIXRoaXMuc3VibWl0KSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLl9mb3JtUmVxdWVzdChidG4pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSlcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIEFKQVggcmVxdWVzdCBvbiBmb3JtIHN1Ym1pdFxyXG4gICAgICogQHBhcmFtIHtET019IGN0YSBTdWJtaXQgYnV0dG9uXHJcbiAgICAgKi9cclxuICAgIF9mb3JtUmVxdWVzdChjdGEpIHtcclxuICAgICAgICB0aGlzLnN1Ym1pdCA9IHRydWU7XHJcblxyXG4gICAgICAgIGlmKCEhdGhpcy5yZXF1ZXN0RGF0YU1vZGlmaWVyKSB7XHJcbiAgICAgICAgICAgIHRoaXMucmVxdWVzdERhdGFNb2RpZmllcigpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICogc2VyaWxpemUgdGhpcy5kYXRhXHJcbiAgICAgICAgICovXHJcbiAgICAgICAgdmFyIGRhdGEgPSB7XHJcbiAgICAgICAgICAgIGNhY2hlOiBmYWxzZSxcclxuICAgICAgICAgICAgdXJsOiB0aGlzLnN1Ym1pdFVybCxcclxuICAgICAgICAgICAgbWV0aG9kOiB0aGlzLnN1Ym1pdE1ldGhvZCxcclxuICAgICAgICAgICAgZGF0YVR5cGU6ICdqc29uJyxcclxuICAgICAgICAgICAgZGF0YTogdGhpcy5kYXRhXHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgY29uc3QgX2ZpbmFsU3RlcCA9ICgpID0+IHtcclxuICAgICAgICAgICAgdGhpcy5sb2FkZXIuc2hvd0xvYWRlcigpO1xyXG4gICAgICAgICAgICBjdGEuc2V0QXR0cmlidXRlKFwiZGlzYWJsZWRcIiwgdHJ1ZSlcclxuICAgICAgICAgICAgY3RhLmNsYXNzTGlzdC5hZGQoXCJub3R2YWxpZFwiKVxyXG4gICAgICAgICAgICB0aGlzLl9zdWJtaXRSZXF1ZXN0KGRhdGEsIGN0YSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAoIXRoaXMuaGFzQ2FwdGNoYSkge1xyXG4gICAgICAgICAgICBfZmluYWxTdGVwKCk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgaWYoIWdyZWNhcHRjaGEuZ2V0UmVzcG9uc2UoKSkge1xyXG4gICAgICAgICAgICAgICAgZ3JlY2FwdGNoYS5leGVjdXRlKCk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLlJlcXVlc3REYXRhID0gZGF0YTtcclxuICAgICAgICAgICAgICAgIHRoaXMuU3VibWl0Q3RhID0gY3RhO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgX2ZpbmFsU3RlcCgpO1xyXG4gICAgICAgICAgICAgICAgZ3JlY2FwdGNoYS5yZXNldCgpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgIH1cclxuXHJcbiAgICBfc3VibWl0UmVxdWVzdChkYXRhLCBjdGEpIHtcclxuICAgICAgICAkLmFqYXgoZGF0YSlcclxuICAgICAgICAuc3VjY2VzcyggKCByZXNwb25zZSApID0+IHtcclxuICAgICAgICAgICAgbGV0IF9kYXRhID0gcmVzcG9uc2U7XHJcblxyXG4gICAgICAgICAgICBpZighIXRoaXMuc3VjY2Vzc0hhbmRsZXIpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuc3VjY2Vzc0hhbmRsZXIoX2RhdGEsIHRoaXMubG9hZGVyKTtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHRoaXMucmVxdWVzdFN1Y2Nlc3NIYW5kbGVyKF9kYXRhLCBjdGEpO1xyXG5cclxuICAgICAgICAgICAgICAgIGlmKCEhdGhpcy5yZXF1ZXN0RGF0YU1vZGlmaWVyKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5kYXRhID0ge307XHJcbiAgICAgICAgICAgICAgICAgICAgbGV0IGZpZWxkcyA9IHRoaXMuZm9ybS5xdWVyeVNlbGVjdG9yQWxsKFwiaW5wdXRbZGF0YS1zYy1maWVsZC1uYW1lXSwgc2VsZWN0W2RhdGEtc2MtZmllbGQtbmFtZV1cIik7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGZvciAobGV0IGluZGV4ID0gMDsgaW5kZXggPCBmaWVsZHMubGVuZ3RoOyBpbmRleCsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGZpZWxkID0gIGZpZWxkc1tpbmRleF07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuYXNzaWduVmFsdWUoZmllbGQpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgaWYoICEhdGhpcy5mb3JtIFxyXG4gICAgICAgICAgICAgICAgJiYgdGhpcy5yZXNldEZvcm0pIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuZm9ybS5yZXNldCgpO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICB0aGlzLnN1Ym1pdCA9IGZhbHNlO1xyXG4gICAgICAgIH0pXHJcbiAgICAgICAgLmVycm9yKCgpID0+IHtcclxuICAgICAgICAgICAgdGhpcy5sb2FkZXIuaGlkZUxvYWRlcigpO1xyXG5cclxuICAgICAgICAgICAgdGhpcy5zdWJtaXQgPSBmYWxzZTtcclxuICAgICAgICAgICAgY3RhLnJlbW92ZUF0dHJpYnV0ZShcImRhdGEtc3VibWl0dGVkXCIpXHJcbiAgICAgICAgICAgIGN0YS5yZW1vdmVBdHRyaWJ1dGUoXCJkaXNhYmxlZFwiKTtcclxuICAgICAgICAgICAgY3RhLmNsYXNzTGlzdC5yZW1vdmUoXCJub3R2YWxpZFwiKTtcclxuICAgICAgICB9KVxyXG4gICAgICAgIC5jb21wbGV0ZSggKCkgPT4ge1xyXG4gICAgICAgICAgICB0aGlzLmxvYWRlci5oaWRlTG9hZGVyKCk7XHJcbiAgICAgICAgfSlcclxuICAgIH1cclxuXHJcbiAgICByZXF1ZXN0U3VjY2Vzc0hhbmRsZXIoZGF0YSwgY3RhKSB7XHJcbiAgICAgICAgbGV0IHtzdWNjZXNzLCByZWRpcmVjdGlvbn0gPSBkYXRhO1xyXG4gICAgICAgIHRoaXMucmVkaXJlY3Rpb24gPSAhIXRoaXMucmVkaXJlY3Rpb24gPyB0aGlzLnJlZGlyZWN0aW9uIDogcmVkaXJlY3Rpb247XHJcbiAgICAgICAgaWYoc3VjY2Vzcykge1xyXG4gICAgICAgICAgICBjdGEuc2V0QXR0cmlidXRlKFwiZGF0YS1zdWJtaXR0ZWRcIiAsIHRydWUpO1xyXG5cclxuICAgICAgICAgICAgaWYoISF0aGlzLmdhUHVzaCkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5nYVB1c2goZGF0YSk7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGlmKCEhdGhpcy5yZWRpcmVjdGlvblxyXG4gICAgICAgICAgICAgICAgJiYgdGhpcy5yZWRpcmVjdCkge1xyXG4gICAgICAgICAgICAgICAgd2luZG93LmxvY2F0aW9uLmhyZWYgPSB0aGlzLnJlZGlyZWN0aW9uO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgaWYodGhpcy5yZWRpcmVjdCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHdpbmRvdy5sb2NhdGlvbi5yZWxvYWQoKTtcclxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5sb2FkZXIuaGlkZUxvYWRlcigpO1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZGlzcGxheVN1Y2Nlc3MoZGF0YSk7XHJcbiAgICAgICAgICAgICAgICAgICAgY3RhLnJlbW92ZUF0dHJpYnV0ZShcImRpc2FibGVkXCIsIHRydWUpXHJcbiAgICAgICAgICAgICAgICAgICAgY3RhLmNsYXNzTGlzdC5yZW1vdmUoXCJub3R2YWxpZFwiKVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgdGhpcy5kaXNwbGF5RXJyb3IoZGF0YSk7XHJcbiAgICAgICAgICAgIGN0YS5yZW1vdmVBdHRyaWJ1dGUoXCJkYXRhLXN1Ym1pdHRlZFwiKVxyXG4gICAgICAgICAgICBjdGEucmVtb3ZlQXR0cmlidXRlKFwiZGlzYWJsZWRcIilcclxuICAgICAgICAgICAgY3RhLmNsYXNzTGlzdC5yZW1vdmUoXCJub3R2YWxpZFwiKVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIENyZWF0ZXMgYSBwIHRhZyB0byBkaXNwbGF5IGVycm9yIG1zZyBmb3JtIEpTT04gcmVzcG9uc2UgYW5kIGFwcGVuZHMgdGhlIGVsZW1lbnQgdG8gdGhlIGZvcm1cclxuICAgICAqIEBwYXJhbSB7SlNPTn0gZGF0YSBSZXNwb25zZSBkYXRhIGZyb20gQUpBWCByZXF1ZXN0XHJcbiAgICAgKi9cclxuICAgIGRpc3BsYXlFcnJvcihkYXRhKSB7XHJcbiAgICAgICAgbGV0IGN1cnJlbnRFcnJvciA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGAke3RoaXMuZm9ybUlkfS1nbG9iYWwtZXJyb3JgKSxcclxuICAgICAgICAgICAgeyBlcnJvck1lc3NhZ2UgPSBcIlNlcnZlciBFcnJvclwiIH0gPSBkYXRhLFxyXG4gICAgICAgICAgICBjb250YWluZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGBbZGF0YS1mb3JtLWlkZW50aWZpY2F0aW9uPVwiJHt0aGlzLmZvcm1JZH1cIl1gKSxcclxuICAgICAgICAgICAgcCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJwXCIpO1xyXG5cclxuICAgICAgICBpZighIWN1cnJlbnRFcnJvcikge1xyXG4gICAgICAgICAgICBjdXJyZW50RXJyb3IucmVtb3ZlKCk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBwLmNsYXNzTGlzdC5hZGQoXCJlcnJvclwiKTtcclxuICAgICAgICBwLnNldEF0dHJpYnV0ZShcImlkXCIsIGAke3RoaXMuZm9ybUlkfS1nbG9iYWwtZXJyb3JgKTtcclxuICAgICAgICBwLmlubmVyVGV4dCA9IGVycm9yTWVzc2FnZTtcclxuICAgICAgICBjb250YWluZXIuYXBwZW5kQ2hpbGQocCk7XHJcbiAgICAgICAgdGhpcy5sb2FkZXIuaGlkZUxvYWRlcigpO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogQ3JlYXRlcyBhIHAgdGFnIHRvIGRpc3BsYXkgc3VjY2VzcyBtc2cgZnJvbSBKU09OIHJlc3BvbnNlIGFuZCBwcmVwZW5kcyB0aGUgZWxlbWVudCB0byB0aGUgZm9ybVxyXG4gICAgICogVGhlIHByZXBlbmRlZCBlbGVtZW50IGlzIHJlbW92ZWQgYWZ0ZXIge2dsb2JhbCB2YXJpYWJsZSBfVElNRU9VVH0gaGFzIGV4cGlyZWRcclxuICAgICAqIEBwYXJhbSB7SlNPTn0gZGF0YSBSZXNwb21zZSBkYXRhIGZyb20gQUpBWCByZXF1ZXN0XHJcbiAgICAgKi9cclxuICAgIGRpc3BsYXlTdWNjZXNzKGRhdGEpIHtcclxuICAgICAgICBsZXQgY3VycmVudFN1Y2Nlc3MgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChgJHt0aGlzLmZvcm1JZH0tZ2xvYmFsLXN1Y2Nlc3NgKSxcclxuICAgICAgICAgICAgeyBzdWNjZXNzTWVzc2FnZSB9ID0gZGF0YSxcclxuICAgICAgICAgICAgY29udGFpbmVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihgW2RhdGEtZm9ybS1pZGVudGlmaWNhdGlvbj1cIiR7dGhpcy5mb3JtSWR9XCJdYCksXHJcbiAgICAgICAgICAgIHAgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwicFwiKTtcclxuXHJcbiAgICAgICAgaWYoISFjdXJyZW50U3VjY2Vzcykge1xyXG4gICAgICAgICAgICBjdXJyZW50U3VjY2Vzcy5yZW1vdmUoKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmKCEhc3VjY2Vzc01lc3NhZ2UpIHtcclxuICAgICAgICAgICAgcC5jbGFzc0xpc3QuYWRkKFwic3VjY2Vzc1wiKTtcclxuICAgICAgICAgICAgcC5zZXRBdHRyaWJ1dGUoXCJpZFwiLCBgJHt0aGlzLmZvcm1JZH0tZ2xvYmFsLXN1Y2Nlc3NgKTtcclxuICAgICAgICAgICAgcC5pbm5lclRleHQgPSBzdWNjZXNzTWVzc2FnZTtcclxuICAgICAgICAgICAgY29udGFpbmVyLnByZXBlbmQocCk7XHJcbiAgICAgICAgICAgIHRoaXMubG9hZGVyLmhpZGVMb2FkZXIoKTtcclxuXHJcbiAgICAgICAgICAgIHNldFRpbWVvdXQoICgpID0+IHtcclxuICAgICAgICAgICAgICAgIGxldCBzdWNjZXNzTWVzc2FnZSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGAke3RoaXMuZm9ybUlkfS1nbG9iYWwtc3VjY2Vzc2ApO1xyXG4gICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICBpZighIXN1Y2Nlc3NNZXNzYWdlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgc3VjY2Vzc01lc3NhZ2UucmVtb3ZlKCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0sIF9USU1FT1VUKVxyXG4gICAgICAgIH1cclxuICAgIH1cclxufSIsImltcG9ydCB7IF9fQUNDX0FQSSB9IGZyb20gXCIuLi8uLi9tb2RlbC9hY2NvdW50L2VuZHBvaW50XCI7XHJcbmltcG9ydCBzaW1wbGVMb2FkZXIgZnJvbSBcIi4uLy4uL3ZpZXcvY29tcG9uZW50cy9zaW1wbGUtbG9hZGVyXCI7XHJcblxyXG5leHBvcnQgY2xhc3MgQWNjb3VudEZyb21QcmVmaWxsZXIge1xyXG4gICAgY29uc3RydWN0b3Iob3B0aW9ucyA9IHtcclxuICAgICAgICBpZDogXCJteS1pbmZvXCIsXHJcbiAgICAgICAgdXJsOiBfX0FDQ19BUEkuZ2V0VXNlckluZm9cclxuICAgIH0pIHtcclxuICAgICAgICB0aGlzLmZvcm1JZCA9IG9wdGlvbnMuaWQ7XHJcbiAgICAgICAgdGhpcy5mb3JtID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihgW2RhdGEtZm9ybS1pZGVudGlmaWNhdGlvbj1cIiR7dGhpcy5mb3JtSWR9XCJdIGZvcm1gKVxyXG4gICAgICAgIHRoaXMucmVzb3VyY2VVcmwgPSBvcHRpb25zLnVybDtcclxuICAgICAgICB0aGlzLmxvYWRlciA9IG5ldyBzaW1wbGVMb2FkZXIoKTtcclxuICAgICAgICB0aGlzLmRhdGEgPSB7fTtcclxuICAgIH1cclxuXHJcbiAgICByZXRyaWV2ZURhdGEoKSB7XHJcbiAgICAgICAgdmFyIGRhdGEgPSB7XHJcbiAgICAgICAgICAgIGNhY2hlOiBmYWxzZSxcclxuICAgICAgICAgICAgdXJsOiB0aGlzLnJlc291cmNlVXJsLFxyXG4gICAgICAgICAgICBtZXRob2Q6IFwiR0VUXCIsXHJcbiAgICAgICAgICAgIGRhdGFUeXBlOiAnanNvbidcclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICBpZighIXRoaXMuZm9ybSkge1xyXG4gICAgICAgICAgICB0aGlzLmxvYWRlci5zaG93TG9hZGVyKClcclxuICAgICAgICAgICAgcmV0dXJuICQuYWpheChkYXRhKVxyXG4gICAgICAgICAgICAgICAgICAgIC5zdWNjZXNzKChyZXNwb25zZSkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBsZXQge3N1Y2Nlc3MsIGRhdGF9ID0gcmVzcG9uc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmKHN1Y2Nlc3MpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucHJlZmlsbEZvcm0oZGF0YSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5sb2FkZXIuaGlkZUxvYWRlcigpO1xyXG4gICAgICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgICAgICAgICAgLmVycm9yKCgpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5sb2FkZXIuaGlkZUxvYWRlcigpO1xyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcHJlZmlsbEZvcm0oZGF0YSkge1xyXG4gICAgICAgIGlmKCEhZGF0YSkge1xyXG4gICAgICAgICAgICBPYmplY3Qua2V5cyhkYXRhKS5tYXAoKGtleSwgaW5kZXgpID0+IHtcclxuICAgICAgICAgICAgICAgIGxldCBmaWVsZCA9IHRoaXMuZm9ybS5xdWVyeVNlbGVjdG9yKGBbZGF0YS1zYy1maWVsZC1uYW1lPVwiJHtrZXl9XCJdYCk7XHJcbiAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICAgIGlmKCEhZmllbGQpIHtcclxuICAgICAgICAgICAgICAgICAgICBmaWVsZC52YWx1ZSA9IGRhdGFba2V5XTtcclxuICAgICAgICAgICAgICAgICAgICBmaWVsZC5zZXRBdHRyaWJ1dGUoXCJkYXRhLWRlZmF1bHRcIiwgZGF0YVtrZXldKVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgIH1cclxuICAgIH1cclxufSIsImltcG9ydCBBY2NvdW50Rm9ybUNvbnRyb2xsZXIgZnJvbSBcIi4vQWNjb3VudEZvcm1Db250cm9sbGVyXCI7XHJcbmltcG9ydCB7IEFjY291bnRGcm9tUHJlZmlsbGVyIH0gZnJvbSBcIi4vQWNjb3VudEZvcm1QcmVmaWxsXCI7XHJcblxyXG5leHBvcnQgY29uc3QgQWNjb3VudEZvcm1GYWN0b3J5ID0ge1xyXG4gICAgLyoqXHJcbiAgICAgKiBUYWtlcyBhbiBhcnJheSBvZiBmb3JtIGNvbmZpZ3VyYXRpb24gdG8gZ2VuZXJhdGUgbXVsdGlwbGUgQWNjb3VudEZvcm1Db250cm9sbGVyIGluc3RhbmNlc1xyXG4gICAgICovXHJcbiAgICBpbml0OiAoZm9ybXMgPSBbXSkgPT4ge1xyXG4gICAgICAgIHZhciB1c2VyRGV0YWlsc0Zvcm0gPSBuZXcgQWNjb3VudEZyb21QcmVmaWxsZXIoKTtcclxuXHJcbiAgICAgICAgdXNlckRldGFpbHNGb3JtLnJldHJpZXZlRGF0YSgpXHJcbiAgICAgICAgLnRoZW4oICgpID0+IHtcclxuICAgICAgICAgICAgLy8gcHJlZmlsbCBkZWxpdmVyeSBmb3Jtc1xyXG4gICAgICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICAgICAgaWYoZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIltkYXRhLWZvcm0taWRlbnRpZmljYXRpb249J3VwZGF0ZS1kZWxpdmVyeS0wJ11cIikpIHtcclxuICAgICAgICAgICAgICAgICAgICBBY2NvdW50Rm9ybUZhY3RvcnkucHJlZmlsbERlbGl2ZXJ5KCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0gY2F0Y2goZSkge1xyXG4gICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihcIkVSUk9SIE9DQ1VSRURcIilcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoZSlcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgaWYoIHR5cGVvZiBmb3JtcyA9PT0gXCJvYmplY3RcIlxyXG4gICAgICAgICAgICAgICAgJiYgISFmb3Jtcy5sZW5ndGgpIHtcclxuICAgICAgICAgICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGZvcm1zLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGZvcm0gPSBmb3Jtc1tpXTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoYFtkYXRhLWZvcm0taWRlbnRpZmljYXRpb249XCIke2Zvcm0uaWR9XCJdYCkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5ldyBBY2NvdW50Rm9ybUNvbnRyb2xsZXIoZm9ybSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KVxyXG4gICAgfSxcclxuICAgIHByZWZpbGxEZWxpdmVyeTogKCkgPT4ge1xyXG4gICAgICAgIGxldCBkYXRhID0gISFhZGRyZXNzZXMgPyBhZGRyZXNzZXMgOiBbXSxcclxuICAgICAgICAgICAgZm9ybUlkUHJlZml4ID0gJ3VwZGF0ZS1kZWxpdmVyeSc7XHJcblxyXG4gICAgICAgIGZvciAobGV0IGluZGV4ID0gMDsgaW5kZXggPCBkYXRhLmxlbmd0aDsgaW5kZXgrKykge1xyXG4gICAgICAgICAgICBjb25zdCBhZGRyZXNzID0gZGF0YVtpbmRleF07XHJcblxyXG4gICAgICAgICAgICBPYmplY3Qua2V5cyhhZGRyZXNzKS5tYXAoIChrZXkpID0+IHtcclxuICAgICAgICAgICAgICAgIGxldCBpbnB1dCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoYFtkYXRhLWZvcm0taWRlbnRpZmljYXRpb249XCIke2Zvcm1JZFByZWZpeH0tJHtpbmRleH1cIl0gW2RhdGEtc2MtZmllbGQtbmFtZT1cIiR7a2V5fVwiXWApO1xyXG5cclxuICAgICAgICAgICAgICAgIGlmKCEhaW5wdXQpIHtcclxuICAgICAgICAgICAgICAgICAgICBpbnB1dC52YWx1ZSA9IGFkZHJlc3Nba2V5XTtcclxuICAgICAgICAgICAgICAgICAgICBpbnB1dC5zZXRBdHRyaWJ1dGUoXCJkYXRhLWRlZmF1bHRcIiwgYWRkcmVzc1trZXldKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSlcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn1cclxuIiwiaW1wb3J0IHsgX0RMIH0gZnJvbSBcIi4uLy4uL3V0aWxzL2FuYWx5dGljcy9kYXRhbGF5ZXJcIjtcclxuaW1wb3J0IHsgQ29va2llVXRpbHMgfSBmcm9tIFwiLi4vLi4vdXRpbHMvY29va2llLXV0aWxzXCI7XHJcbmltcG9ydCB7IF9EQVRFIH0gZnJvbSBcIi4uLy4uL3V0aWxzL2RhdGUtdXRpbHNcIjtcclxuaW1wb3J0IEFjY291bnRGb3JtIGZyb20gXCIuL0FjY291bnRGb3JtXCI7XHJcbmltcG9ydCB7IF9fQUNDX0FQSSB9IGZyb20gXCIuL2VuZHBvaW50XCI7XHJcblxyXG5jb25zdCBtZXRob2QgPSB7XHJcbiAgICAgICAgcHV0OiBcIlBVVFwiLFxyXG4gICAgICAgIHBvc3Q6IFwiUE9TVFwiXHJcbiAgICB9LFxyXG4gICAgZGVsaXZlcnlJZCA9ICd1cGRhdGUtZGVsaXZlcnknLFxyXG4gICAgZ2VuZXJpY0Zvcm1zID0gW1xyXG4gICAgXVxyXG5cclxuZXhwb3J0IGNvbnN0IF9fQUNDX0ZPUk0gPSB7XHJcbiAgICBnZXRGb3JtOiAoKSA9PiB7XHJcbiAgICAgICAgX19BQ0NfRk9STS5maW5kUmVnaXN0cmF0aW9uRm9ybSgpO1xyXG4gICAgICAgIF9fQUNDX0ZPUk0uZmluZE15SW5mb0Zvcm0oKTtcclxuICAgICAgICBfX0FDQ19GT1JNLmZpbmRMb2dpbkZvcm1zKCk7XHJcbiAgICAgICAgX19BQ0NfRk9STS5maW5kTG9naW5EZXRhaWxzKCk7XHJcbiAgICAgICAgX19BQ0NfRk9STS5maW5kRGVsaXZlcnlGb3JtKCk7XHJcbiAgICAgICAgX19BQ0NfRk9STS5maW5kUmVzZXRGb3JtcygpO1xyXG4gICAgICAgIHJldHVybiBnZW5lcmljRm9ybXM7XHJcbiAgICB9LFxyXG4gICAgZmluZFJlZ2lzdHJhdGlvbkZvcm06ICgpID0+IHtcclxuICAgICAgICBsZXQgcmVnaXN0cmF0aW9uSWQgPSBcInJlZ2lzdHJhdGlvbi1mb3JtXCI7XHJcbiAgICAgICAgaWYoZG9jdW1lbnQucXVlcnlTZWxlY3RvcihgW2RhdGEtZm9ybS1pZGVudGlmaWNhdGlvbj0nJHtyZWdpc3RyYXRpb25JZH0nXWApKSB7XHJcbiAgICAgICAgICAgIGdlbmVyaWNGb3Jtcy5wdXNoKFxyXG4gICAgICAgICAgICAgICAgbmV3IEFjY291bnRGb3JtICh7XHJcbiAgICAgICAgICAgICAgICAgICAgaWQ6IHJlZ2lzdHJhdGlvbklkLFxyXG4gICAgICAgICAgICAgICAgICAgIHVybDogX19BQ0NfQVBJLnJlZ2lzdGVyLFxyXG4gICAgICAgICAgICAgICAgICAgIG1ldGhvZDogbWV0aG9kLnBvc3QsXHJcbiAgICAgICAgICAgICAgICAgICAgc3VjY2Vzc0hhbmRsZXI6IG51bGwsXHJcbiAgICAgICAgICAgICAgICAgICAgcmVzZXRGb3JtOiBmYWxzZSxcclxuICAgICAgICAgICAgICAgICAgICBidG5DbGlja1B1c2g6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgX0RMLnB1c2goe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYWN0aW9uOiBcIlJlZ2lzdHJhdGlvblwiLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2F0ZWdvcnk6IFwiQ2xpY2sgYWN0aW9uXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBldmVudDogXCJidXR0b24tY2xpY2tcIixcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxhYmVsOiBcIlN1Ym1pdC1SZWdpc3RyYXRpb25cIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgZGF0YUxheWVyUHVzaDogZnVuY3Rpb24gKGRhdGEpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgX0RMLnB1c2goe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYWN0aW9uOiBcIlJlZ2lzdGVyZWRcIixcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhdGVnb3J5OiBcIkNsaWNrIGFjdGlvblwiLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZXZlbnQ6IFwiYnV0dG9uLWNsaWNrXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsYWJlbDogYCR7X0RBVEUudGltZVN0YW1wKCl9YFxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgcmVxdWVzdERhdGFNb2RpZmllcjogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBnZXRUb2tlbih0aGlzLmRhdGEsIHJlZ2lzdHJhdGlvbklkKVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgIClcclxuICAgICAgICB9XHJcbiAgICB9LFxyXG4gICAgZmluZExvZ2luRm9ybXM6ICgpID0+IHtcclxuICAgICAgICBsZXQgbG9naW5JZCA9IFwibG9naW4tZm9ybVwiO1xyXG4gICAgICAgIGlmKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoYFtkYXRhLWZvcm0taWRlbnRpZmljYXRpb249JyR7bG9naW5JZH0nXWApKSB7XHJcbiAgICAgICAgICAgIGdlbmVyaWNGb3Jtcy5wdXNoKFxyXG4gICAgICAgICAgICAgICAgbmV3IEFjY291bnRGb3JtICh7XHJcbiAgICAgICAgICAgICAgICAgICAgaWQ6IGxvZ2luSWQsXHJcbiAgICAgICAgICAgICAgICAgICAgdXJsOiBfX0FDQ19BUEkubG9naW4sXHJcbiAgICAgICAgICAgICAgICAgICAgbWV0aG9kOiBtZXRob2QucG9zdCxcclxuICAgICAgICAgICAgICAgICAgICBzdWNjZXNzSGFuZGxlcjogbnVsbCxcclxuICAgICAgICAgICAgICAgICAgICByZXNldEZvcm06IGZhbHNlLFxyXG4gICAgICAgICAgICAgICAgICAgIGRhdGFMYXllclB1c2g6IGZ1bmN0aW9uIChyZXNwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGxldCBjb25zdW1lcklEID0gcmVzcC5kYXRhO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBfREwucHVzaCh7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhY3Rpb246IFwiTG9naW5cIixcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhdGVnb3J5OiBcIkNsaWNrIGFjdGlvblwiLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZXZlbnQ6IFwiYnV0dG9uLWNsaWNrXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsYWJlbDogYCR7X0RBVEUudGltZVN0YW1wKCl9IC8gJHtjb25zdW1lcklEIHx8IFwiVUlELVpaWi1aWlpcIn1gXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICByZXF1ZXN0RGF0YU1vZGlmaWVyOiBmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZ2V0VG9rZW4odGhpcy5kYXRhLCBsb2dpbklkKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICApXHJcbiAgICAgICAgfVxyXG4gICAgfSxcclxuICAgIGZpbmRNeUluZm9Gb3JtOiAoKSA9PiB7XHJcbiAgICAgICAgbGV0IGluZm9JZCA9IFwibXktaW5mb1wiO1xyXG5cclxuICAgICAgICBpZihkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGBbZGF0YS1mb3JtLWlkZW50aWZpY2F0aW9uPScke2luZm9JZH0nXWApKSB7XHJcbiAgICAgICAgICAgIGdlbmVyaWNGb3Jtcy5wdXNoKFxyXG4gICAgICAgICAgICAgICAgbmV3IEFjY291bnRGb3JtICh7XHJcbiAgICAgICAgICAgICAgICAgICAgaWQ6IGluZm9JZCxcclxuICAgICAgICAgICAgICAgICAgICB1cmw6IF9fQUNDX0FQSS51cGRhdGVVc2VyRGV0YWlscyxcclxuICAgICAgICAgICAgICAgICAgICBtZXRob2Q6IG1ldGhvZC5wdXQsXHJcbiAgICAgICAgICAgICAgICAgICAgc3VjY2Vzc0hhbmRsZXI6IG51bGwsXHJcbiAgICAgICAgICAgICAgICAgICAgcmVzZXRGb3JtOiBmYWxzZSxcclxuICAgICAgICAgICAgICAgICAgICByZWRpcmVjdDogZmFsc2UsXHJcbiAgICAgICAgICAgICAgICAgICAgZGlzYWJsZVN1Ym1pdDogdHJ1ZSxcclxuICAgICAgICAgICAgICAgICAgICByZXF1ZXN0RGF0YU1vZGlmaWVyOiBmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZ2V0VG9rZW4odGhpcy5kYXRhLCBpbmZvSWQpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgIClcclxuICAgICAgICB9XHJcbiAgICB9LFxyXG4gICAgZmluZExvZ2luRGV0YWlsczogKCkgPT4ge1xyXG4gICAgICAgIGxldCBlbWFpbElkID0gXCJjaGFuZ2UtZW1haWxcIixcclxuICAgICAgICAgICAgcGFzc3dvcmRJZCA9IFwiY2hhbmdlLXBhc3N3b3JkXCI7XHJcbiAgICAgICAgaWYoZG9jdW1lbnQucXVlcnlTZWxlY3RvcihgW2RhdGEtZm9ybS1pZGVudGlmaWNhdGlvbj0nJHtlbWFpbElkfSddYCkpIHtcclxuICAgICAgICAgICAgZ2VuZXJpY0Zvcm1zLnB1c2goXHJcbiAgICAgICAgICAgICAgICBuZXcgQWNjb3VudEZvcm0gKHtcclxuICAgICAgICAgICAgICAgICAgICBpZDogZW1haWxJZCxcclxuICAgICAgICAgICAgICAgICAgICB1cmw6IF9fQUNDX0FQSS5jaGFuZ2VFbWFpbCxcclxuICAgICAgICAgICAgICAgICAgICBtZXRob2Q6IG1ldGhvZC5wdXQsXHJcbiAgICAgICAgICAgICAgICAgICAgc3VjY2Vzc0hhbmRsZXI6IG51bGwsXHJcbiAgICAgICAgICAgICAgICAgICAgcmVkaXJlY3Q6IHRydWUsXHJcbiAgICAgICAgICAgICAgICAgICAgZGlzYWJsZVN1Ym1pdDogdHJ1ZSxcclxuICAgICAgICAgICAgICAgICAgICBkYXRhTW9kaWZpZXI6IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBsZXQgZW1haWxEb20gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmpzLWN1cnJlbnQtZW1haWxcIiksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdHJvbmcgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwic3Ryb25nXCIpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYoISFlbWFpbERvbSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5sb2FkZXIuc2hvd0xvYWRlcigpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGRhdGEgPSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FjaGU6IGZhbHNlLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVybDogX19BQ0NfQVBJLmdldFVzZXJJbmZvLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1ldGhvZDogXCJHRVRcIixcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkYXRhVHlwZTogJ2pzb24nXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICQuYWpheChkYXRhKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLnN1Y2Nlc3MoKHJlc3BvbnNlKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IHtzdWNjZXNzLCBkYXRhfSA9IHJlc3BvbnNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmKHN1Y2Nlc3MpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHsgRW1haWwgfSA9IGRhdGE7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdHJvbmcuaW5uZXJUZXh0ID0gISFFbWFpbCA/IGAgJHtFbWFpbH1gIDogXCIgZ2VuZXJpY0BlbWFpbC5jb21cIjtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZW1haWxEb20uYXBwZW5kQ2hpbGQoc3Ryb25nKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5sb2FkZXIuaGlkZUxvYWRlcigpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5lcnJvcigoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3Ryb25nLmlubmVyVGV4dCA9IFwiIGdlbmVyaWMuZXJyb3JAZW1haWwuY29tXCI7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZW1haWxEb20uYXBwZW5kQ2hpbGQoc3Ryb25nKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihcIkFOIEVSUk9SIE9DQ1VSRURcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcih0aGlzLmRhdGEpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMubG9hZGVyLmhpZGVMb2FkZXIoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICByZXF1ZXN0RGF0YU1vZGlmaWVyOiBmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZ2V0VG9rZW4odGhpcy5kYXRhLCBlbWFpbElkKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICApO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZihkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGBbZGF0YS1mb3JtLWlkZW50aWZpY2F0aW9uPScke3Bhc3N3b3JkSWR9J11gKSkge1xyXG4gICAgICAgICAgICBnZW5lcmljRm9ybXMucHVzaChcclxuICAgICAgICAgICAgICAgIG5ldyBBY2NvdW50Rm9ybSAoe1xyXG4gICAgICAgICAgICAgICAgICAgIGlkOiBwYXNzd29yZElkLFxyXG4gICAgICAgICAgICAgICAgICAgIHVybDogX19BQ0NfQVBJLmNoYW5nZVBhc3N3b3JkLFxyXG4gICAgICAgICAgICAgICAgICAgIG1ldGhvZDogbWV0aG9kLnB1dCxcclxuICAgICAgICAgICAgICAgICAgICBzdWNjZXNzSGFuZGxlcjogbnVsbCxcclxuICAgICAgICAgICAgICAgICAgICByZWRpcmVjdDogZmFsc2UsXHJcbiAgICAgICAgICAgICAgICAgICAgZGlzYWJsZVN1Ym1pdDogdHJ1ZSxcclxuICAgICAgICAgICAgICAgICAgICByZXF1ZXN0RGF0YU1vZGlmaWVyOiBmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZ2V0VG9rZW4odGhpcy5kYXRhLCBwYXNzd29yZElkKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICApXHJcbiAgICAgICAgfVxyXG4gICAgfSxcclxuICAgIGZpbmRSZXNldEZvcm1zOiAoKSA9PiB7XHJcbiAgICAgICAgbGV0IGZvcmdldElkID0gXCJmb3JnZXQtcGFzc3dvcmQtZm9ybVwiLFxyXG4gICAgICAgICAgICByZXNldElkID0gXCJyZXNldC1wYXNzd29yZC1mb3JtXCI7XHJcblxyXG4gICAgICAgIGlmKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoYFtkYXRhLWZvcm0taWRlbnRpZmljYXRpb249XCIke2ZvcmdldElkfVwiXWApKSB7XHJcbiAgICAgICAgICAgIGdlbmVyaWNGb3Jtcy5wdXNoKFxyXG4gICAgICAgICAgICAgICAgbmV3IEFjY291bnRGb3JtICh7XHJcbiAgICAgICAgICAgICAgICAgICAgaWQ6IGZvcmdldElkLFxyXG4gICAgICAgICAgICAgICAgICAgIHVybDogX19BQ0NfQVBJLmZvcmdvdFBhc3N3b3JkLFxyXG4gICAgICAgICAgICAgICAgICAgIG1ldGhvZDogbWV0aG9kLnBvc3QsXHJcbiAgICAgICAgICAgICAgICAgICAgc3VjY2Vzc0hhbmRsZXI6IG51bGwsXHJcbiAgICAgICAgICAgICAgICAgICAgcmVzZXRGb3JtOiB0cnVlLFxyXG4gICAgICAgICAgICAgICAgICAgIHJlZGlyZWN0OiBmYWxzZSxcclxuICAgICAgICAgICAgICAgICAgICByZXF1ZXN0RGF0YU1vZGlmaWVyOiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGdldFRva2VuKHRoaXMuZGF0YSwgZm9yZ2V0SWQpXHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoYFtkYXRhLWZvcm0taWRlbnRpZmljYXRpb249XCIke3Jlc2V0SWR9XCJdYCkpIHtcclxuICAgICAgICAgICAgZ2VuZXJpY0Zvcm1zLnB1c2goXHJcbiAgICAgICAgICAgICAgICBuZXcgQWNjb3VudEZvcm0gKHtcclxuICAgICAgICAgICAgICAgICAgICBpZDogcmVzZXRJZCxcclxuICAgICAgICAgICAgICAgICAgICB1cmw6IF9fQUNDX0FQSS5yZXNldFBhc3N3b3JkLFxyXG4gICAgICAgICAgICAgICAgICAgIG1ldGhvZDogbWV0aG9kLnBvc3QsXHJcbiAgICAgICAgICAgICAgICAgICAgc3VjY2Vzc0hhbmRsZXI6IG51bGwsXHJcbiAgICAgICAgICAgICAgICAgICAgcmVkaXJlY3Rpb246IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoYFtkYXRhLWZvcm0taWRlbnRpZmljYXRpb249XCIke3Jlc2V0SWR9XCJdYCkuZ2V0QXR0cmlidXRlKFwiZGF0YS1wYWdlLXJlZGlyZWN0aW9uLWxpbmtcIiksXHJcbiAgICAgICAgICAgICAgICAgICAgcmVkaXJlY3Q6IHRydWUsXHJcbiAgICAgICAgICAgICAgICAgICAgcmVzZXRGb3JtOiB0cnVlLFxyXG4gICAgICAgICAgICAgICAgICAgIGRhdGFNb2RpZmllcjogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAvKipcclxuICAgICAgICAgICAgICAgICAgICAgICAgICogZ2V0IGVtYWlsIGFuZCB0b2tlbiBmcm9tIFVSTFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgKi9cclxuICAgICAgICAgICAgICAgICAgICAgICAgbGV0IHVybCA9IGRlY29kZVVSSUNvbXBvbmVudCh3aW5kb3cubG9jYXRpb24uaHJlZiksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBqc29uT2JqZWN0ID0gSlNPTi5wYXJzZSh1cmwuc3BsaXQoXCIjXCIpWzFdKSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRva2VuID0ganNvbk9iamVjdC50b2tlbixcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVtYWlsID0ganNvbk9iamVjdC5lbWFpbDtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmKCEhZW1haWwgJiYgISF0b2tlbikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5kYXRhW1wiRW1haWxcIl0gPSBlbWFpbC5yZXBsYWNlKC9cXHUyMDBCL2csIFwiXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5kYXRhW1wiVG9rZW5cIl0gPSB0b2tlbi5yZXBsYWNlKC9cXHUyMDBCL2csIFwiXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICByZXF1ZXN0RGF0YU1vZGlmaWVyOiBmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZ2V0VG9rZW4odGhpcy5kYXRhLCByZXNldElkKVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgICk7XHJcbiAgICAgICAgfVxyXG4gICAgfSxcclxuICAgIGZpbmREZWxpdmVyeUZvcm06ICgpID0+IHtcclxuICAgICAgICBpZihkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiW2RhdGEtZm9ybS1pZGVudGlmaWNhdGlvbj0ndXBkYXRlLWRlbGl2ZXJ5LTAnXVwiKSkge1xyXG4gICAgICAgICAgICBsZXQgZm9ybXMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCdtYWluIFtkYXRhLWZvcm0taWRlbnRpZmljYXRpb25dJyk7XHJcbiAgICBcclxuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBmb3Jtcy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgY29uc3QgICBmb3JtID0gZm9ybXNbaV0sXHJcbiAgICAgICAgICAgICAgICBpZCA9IGZvcm0uZ2V0QXR0cmlidXRlKCdkYXRhLWZvcm0taWRlbnRpZmljYXRpb24nKTtcclxuXHJcbiAgICAgICAgICAgICAgICBpZihpZC5pbmRleE9mKGAke2RlbGl2ZXJ5SWR9YCkgPT09IDApIHtcclxuICAgICAgICAgICAgICAgICAgICBnZW5lcmljRm9ybXMucHVzaChcclxuICAgICAgICAgICAgICAgICAgICAgICAgbmV3IEFjY291bnRGb3JtICh7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZDogYCR7aWR9YCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVybDogX19BQ0NfQVBJLnVwZGF0ZVNoaXBwaW5nLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbWV0aG9kOiBtZXRob2QucG9zdCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc2V0Rm9ybTogZmFsc2UsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkaXNhYmxlU3VibWl0OiB0cnVlLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVxdWVzdERhdGFNb2RpZmllcjogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZGF0YSA9IEdlbmVyYXRlU2hpcHBpbmdMaXN0KHRoaXMuZGF0YSwgaSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZ2V0VG9rZW4odGhpcy5kYXRhLCBpZClcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgICAgICAgICApXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGxldCBmb3JtT3ZlcmxheUlkID0gXCJhZGQtZGVsaXZlcnktYWRkcmVzc1wiO1xyXG4gICAgICAgIGlmKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoYFtkYXRhLWZvcm0taWRlbnRpZmljYXRpb249XCIke2Zvcm1PdmVybGF5SWR9XCJdYCkpIHtcclxuICAgICAgICAgICAgZ2VuZXJpY0Zvcm1zLnB1c2goXHJcbiAgICAgICAgICAgICAgICBuZXcgQWNjb3VudEZvcm0gKHtcclxuICAgICAgICAgICAgICAgICAgICBpZDogZm9ybU92ZXJsYXlJZCxcclxuICAgICAgICAgICAgICAgICAgICB1cmw6IF9fQUNDX0FQSS5jcmVhdGVTaGlwcGluZyxcclxuICAgICAgICAgICAgICAgICAgICBtZXRob2Q6IG1ldGhvZC5wb3N0LFxyXG4gICAgICAgICAgICAgICAgICAgIHJlc2V0Rm9ybTogZmFsc2UsXHJcbiAgICAgICAgICAgICAgICAgICAgc3VjY2Vzc0hhbmRsZXI6IG51bGwsXHJcbiAgICAgICAgICAgICAgICAgICAgcmVxdWVzdERhdGFNb2RpZmllcjogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmRhdGEgPSBHZW5lcmF0ZVNoaXBwaW5nTGlzdCh0aGlzLmRhdGEpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBnZXRUb2tlbih0aGlzLmRhdGEsIGZvcm1PdmVybGF5SWQpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgIClcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGdldFRva2VuKGRhdGEsIGZvcm1JZCkge1xyXG4gICAgbGV0IHRva2VuSW5wdXQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGBbZGF0YS1mb3JtLWlkZW50aWZpY2F0aW9uPVwiJHtmb3JtSWR9XCJdIGlucHV0W25hbWU9XCJfX1JlcXVlc3RWZXJpZmljYXRpb25Ub2tlblwiXWApO1xyXG5cclxuICAgIGlmKCEhdG9rZW5JbnB1dCkge1xyXG4gICAgICAgIGRhdGFbXCJfX1JlcXVlc3RWZXJpZmljYXRpb25Ub2tlblwiXSA9IHRva2VuSW5wdXQudmFsdWU7XHJcbiAgICB9XHJcbn1cclxuXHJcbmZ1bmN0aW9uIEdlbmVyYXRlU2hpcHBpbmdMaXN0KGRhdGEsIGlkID0gLTEpIHtcclxuICAgIGxldCBhZGRyZXNzSW5kZXggPSAwLFxyXG4gICAgICAgIGFkZHJlc3Nlc0xpc3QgPSBbXTtcclxuICAgIGNvbnN0IHJlcU9iamVjdCA9IHtcclxuICAgICAgICBTaGlwcGluZ0FkZHJlc3Nlc0xpc3Q6IFtdXHJcbiAgICB9O1xyXG5cclxuICAgIHRyeSB7XHJcbiAgICAgICAgYWRkcmVzc2VzTGlzdCA9IFsuLi5hZGRyZXNzZXNdIHx8IFt7fSwge30sIHt9XTtcclxuICAgIH0gY2F0Y2ggKGUpIHtcclxuICAgICAgICBjb25zb2xlLmVycm9yKGUpXHJcbiAgICB9XHJcblxyXG4gICAgaWYoaWQgPT09IC0xKSB7XHJcbiAgICAgICAgYWRkcmVzc0luZGV4ID0gYWRkcmVzc2VzTGlzdC5sZW5ndGg7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICAgIGFkZHJlc3NJbmRleCA9IGlkO1xyXG5cclxuICAgICAgICB3aGlsZSAoYWRkcmVzc2VzTGlzdC5sZW5ndGggPCAzKSB7XHJcbiAgICAgICAgICAgIGFkZHJlc3Nlc0xpc3QucHVzaCh7IFwiRmlyc3ROYW1lXCI6XCItXCIgfSlcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcmVxT2JqZWN0LlNoaXBwaW5nQWRkcmVzc2VzTGlzdCA9IGFkZHJlc3Nlc0xpc3Q7XHJcblxyXG4gICAgaWYoYWRkcmVzc0luZGV4IDwgMykge1xyXG4gICAgICAgIHJlcU9iamVjdC5TaGlwcGluZ0FkZHJlc3Nlc0xpc3RbYWRkcmVzc0luZGV4XSA9IHsuLi5kYXRhfTtcclxuICAgIH1cclxuICAgIFxyXG4gICAgaWYoaWQgPT09IC0xKSB7XHJcbiAgICAgICAgZm9yKGxldCB4ID0gYWRkcmVzc0luZGV4ICsgMTsgeCA8IDM7IHgrKykge1xyXG4gICAgICAgICAgICByZXFPYmplY3QuU2hpcHBpbmdBZGRyZXNzZXNMaXN0W3hdID0gbnVsbDtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIHsuLi5yZXFPYmplY3R9O1xyXG59IiwiaW1wb3J0IHsgX19BQ0NfQVBJIH0gZnJvbSBcIi4uLy4uL21vZGVsL2FjY291bnQvZW5kcG9pbnRcIjtcclxuaW1wb3J0IHsgX0RMIH0gZnJvbSBcIi4uLy4uL3V0aWxzL2FuYWx5dGljcy9kYXRhbGF5ZXJcIjtcclxuaW1wb3J0IHsgX0RBVEUgfSBmcm9tIFwiLi4vLi4vdXRpbHMvZGF0ZS11dGlsc1wiO1xyXG5pbXBvcnQgc2ltcGxlTG9hZGVyIGZyb20gXCIuLi8uLi92aWV3L2NvbXBvbmVudHMvc2ltcGxlLWxvYWRlclwiO1xyXG5cclxuY29uc3QgX1RJTUVPVVQgPSAxMDAwMDtcclxuZXhwb3J0IGNsYXNzIEFjY291dEN0YSB7XHJcbiAgICBjb25zdHJ1Y3RvcigpIHtcclxuICAgICAgICB0aGlzLmxvYWRlciA9IG5ldyBzaW1wbGVMb2FkZXIoKTtcclxuICAgICAgICB0aGlzLl9pbml0KCk7XHJcbiAgICB9XHJcblxyXG4gICAgX2luaXQoKSB7XHJcbiAgICAgICAgdGhpcy5faW5pdE1lbnVBbmFseXRpY3MoKTtcclxuICAgICAgICB0aGlzLl9pbml0RGVsZXRlQWNjb3VudCgpO1xyXG4gICAgICAgIHRoaXMuX2luaXRMb2dvdXQoKTtcclxuICAgICAgICB0aGlzLl9pbml0RGVsZXRlU2hpcHBpbmcoKTtcclxuICAgIH1cclxuXHJcbiAgICBfaW5pdE1lbnVBbmFseXRpY3MoKSB7XHJcbiAgICAgICAgbGV0IG1lbnVDdGFzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcIi5hY2MtY29tcF9fbWVudSBhXCIpO1xyXG5cclxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IG1lbnVDdGFzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IGN0YSA9IG1lbnVDdGFzW2ldO1xyXG4gICAgICAgICAgICBjdGEuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIGUgPT4ge1xyXG4gICAgICAgICAgICAgICAgbGV0IHRpdGxlID0gY3RhLmdldEF0dHJpYnV0ZShcInRpdGxlXCIpO1xyXG4gICAgICAgICAgICAgICAgX0RMLnB1c2goe1xyXG4gICAgICAgICAgICAgICAgICAgIGV2ZW50OiBcImluZm8tQ2xpY2tcIixcclxuICAgICAgICAgICAgICAgICAgICBjYXRlZ29yeTogXCJJbmZvcm1hdGlvbmFsIEFjdGlvblwiLFxyXG4gICAgICAgICAgICAgICAgICAgIGFjdGlvbjogXCJOYXZpZ2F0aW9uXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgbGFiZWw6IHRpdGxlXHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfSlcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgX2luaXREZWxldGVBY2NvdW50KCkge1xyXG4gICAgICAgIGxldCBjdGFEZWxldGUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmpzLWRlbGV0ZS1hY2NvdW50XCIpO1xyXG5cclxuICAgICAgICBpZighIWN0YURlbGV0ZSkge1xyXG4gICAgICAgICAgICBjdGFEZWxldGUuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoZSkgPT4ge1xyXG4gICAgICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICAgICAgICAgICAgbGV0IHJlcXVlc3REYXRhID0ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjYWNoZTogZmFsc2UsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHVybDogX19BQ0NfQVBJLmRlbGV0ZVVzZXIsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG1ldGhvZDogXCJERUxFVEVcIixcclxuICAgICAgICAgICAgICAgICAgICAgICAgZGF0YVR5cGU6ICdqc29uJ1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICB0aGlzLmRlbGV0ZUFjY291bnRSZXF1ZXN0KHJlcXVlc3REYXRhKVxyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBfaW5pdExvZ291dCgpIHtcclxuICAgICAgICBsZXQgbG9nb3V0Q3RhID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5qcy1zaWduLW91dFwiKTtcclxuXHJcbiAgICAgICAgaWYoISFsb2dvdXRDdGEpIHtcclxuICAgICAgICAgICAgbG9nb3V0Q3RhLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKGUpID0+IHtcclxuICAgICAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgICAgICAgICAgIGxldCByZXF1ZXN0RGF0YSA9IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbWV0aG9kOiBcIkdFVFwiLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICB1cmw6IF9fQUNDX0FQSS5sb2dvdXQsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGRhdGFUeXBlOiAnanNvbidcclxuICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgdGhpcy5sb2dvdXRSZXF1ZXN0KHJlcXVlc3REYXRhKTtcclxuICAgICAgICAgICAgfSlcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgX2luaXREZWxldGVTaGlwcGluZygpIHtcclxuICAgICAgICBsZXQgZGVsZXRlQ3RhcyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5qcy1kZWxldGUtYWRkcmVzcycpLFxyXG4gICAgICAgICAgICBzaGlwcGluZ0FjY29yZGlvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5hY2MtY29tcF9fc2VjdGlvbi0tbGVmdCAuanMtYWNjb3VudC1hY2NvcmRpb24nKVxyXG5cclxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGRlbGV0ZUN0YXMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgY29uc3QgY3RhID0gZGVsZXRlQ3Rhc1tpXTtcclxuICAgICAgICAgICAgXHJcbiAgICAgICAgICAgIGN0YS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGUgPT4ge1xyXG4gICAgICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG5cclxuICAgICAgICAgICAgICAgIGlmKHNoaXBwaW5nQWNjb3JkaW9uLmxlbmd0aCA+IDAgJiYgISFzaGlwcGluZ0FjY29yZGlvbltpXSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZGVsZXRlU2hpcHBpbmdSZXF1ZXN0KHNoaXBwaW5nQWNjb3JkaW9uW2ldLCBpKVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBpbml0Q2xvc2VTaGlwcGluZ092ZXJsYXkob3ZlcmxheSkge1xyXG4gICAgICAgIGxldCBidG4gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiW2RhdGEtZm9ybS1pZGVudGlmaWNhdGlvbj0nYWRkLWRlbGl2ZXJ5LWFkZHJlc3MnXSAuYWNjLWNvbXBfX2Zvb3RlciBidXR0b24uYnRuX19jb250YWluZXJcIik7XHJcblxyXG4gICAgICAgIGlmKCEhYnRuKSB7XHJcbiAgICAgICAgICAgIGJ0bi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgZSA9PiB7XHJcbiAgICAgICAgICAgICAgICBvdmVybGF5LmNsb3NlT3ZlcmxheSgpO1xyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBkZWxldGVBY2NvdW50UmVxdWVzdChyZXEpIHtcclxuICAgICAgICB0aGlzLmxvYWRlci5zaG93TG9hZGVyKClcclxuICAgICAgICAkLmFqYXgocmVxKVxyXG4gICAgICAgIC5zdWNjZXNzKChyZXNwb25zZSkgPT4ge1xyXG4gICAgICAgICAgICBfREwucHVzaCh7XHJcbiAgICAgICAgICAgICAgICBhY3Rpb246IFwiRGVsZXRlIEFjY291bnRcIixcclxuICAgICAgICAgICAgICAgIGNhdGVnb3J5OiBcIkNsaWNrIGFjdGlvblwiLFxyXG4gICAgICAgICAgICAgICAgZXZlbnQ6IFwiYnV0dG9uLWNsaWNrXCIsXHJcbiAgICAgICAgICAgICAgICBsYWJlbDogYCR7X0RBVEUudGltZVN0YW1wKCl9IC8gI3t1c2VyLUlEfWBcclxuICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgdGhpcy5zdWNjZXNzSGFuZGxlcihyZXNwb25zZSk7XHJcbiAgICAgICAgfSlcclxuICAgICAgICAuZXJyb3IoKCkgPT4ge1xyXG4gICAgICAgICAgICB0aGlzLmxvYWRlci5oaWRlTG9hZGVyKClcclxuICAgICAgICB9KVxyXG4gICAgfVxyXG5cclxuICAgIGRlbGV0ZVNoaXBwaW5nUmVxdWVzdChkZWxldGVET00sIGluZGV4KSB7XHJcbiAgICAgICAgbGV0IHNoaXBwaW5nQWRkcmVzc2VzID0gW107XHJcblxyXG4gICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgIHNoaXBwaW5nQWRkcmVzc2VzID0gWy4uLmFkZHJlc3Nlc107XHJcbiAgICAgICAgICAgIHNoaXBwaW5nQWRkcmVzc2VzLnNwbGljZShpbmRleCAsIDEpO1xyXG5cclxuICAgICAgICAgICAgd2hpbGUgKHNoaXBwaW5nQWRkcmVzc2VzLmxlbmd0aCA8IDMpIHtcclxuICAgICAgICAgICAgICAgIHNoaXBwaW5nQWRkcmVzc2VzLnB1c2goe1wiRmlyc3ROYW1lXCI6XCItXCJ9KVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSBjYXRjaCAoZSkge1xyXG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKGUpXHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBsZXQgcmVxdWVzdERhdGEgPSB7XHJcbiAgICAgICAgICAgIGNhY2hlOiBmYWxzZSxcclxuICAgICAgICAgICAgdXJsOiBfX0FDQ19BUEkuZGVsZXRlU2hpcHBpbmcsXHJcbiAgICAgICAgICAgIG1ldGhvZDogXCJQT1NUXCIsXHJcbiAgICAgICAgICAgIGRhdGE6IHtcclxuICAgICAgICAgICAgICAgIFNoaXBwaW5nQWRkcmVzc2VzTGlzdDogc2hpcHBpbmdBZGRyZXNzZXNcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgZGF0YVR5cGU6ICdqc29uJ1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdGhpcy5sb2FkZXIuc2hvd0xvYWRlcigpXHJcbiAgICAgICAgJC5hamF4KHJlcXVlc3REYXRhKVxyXG4gICAgICAgIC5zdWNjZXNzKChyZXNwb25zZSkgPT4ge1xyXG4gICAgICAgICAgICBpZihyZXNwb25zZS5zdWNjZXNzKSB7XHJcbiAgICAgICAgICAgICAgICBkZWxldGVET00ucmVtb3ZlKCk7XHJcbiAgICAgICAgICAgICAgICAvLyB0aGlzLmRpc3BsYXlNZXNzYWdlKHsgbWVzc2FnZTogcmVzcG9uc2Uuc3VjY2Vzc01lc3NhZ2UgfSk7XHJcbiAgICAgICAgICAgICAgICB3aW5kb3cubG9jYXRpb24ucmVsb2FkKCk7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmxvYWRlci5oaWRlTG9hZGVyKCk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmRpc3BsYXlNZXNzYWdlKHsgbWVzc2FnZTogcmVzcG9uc2UuZXJyb3JNZXNzYWdlIH0sIFwiZXJyb3JcIik7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KVxyXG4gICAgICAgIC5lcnJvcigoKSA9PiB7XHJcbiAgICAgICAgICAgIHRoaXMubG9hZGVyLmhpZGVMb2FkZXIoKVxyXG4gICAgICAgIH0pXHJcbiAgICB9XHJcblxyXG4gICAgbG9nb3V0UmVxdWVzdChyZXEpIHtcclxuICAgICAgICB0aGlzLmxvYWRlci5zaG93TG9hZGVyKCk7XHJcbiAgICAgICAgJC5hamF4KHJlcSlcclxuICAgICAgICAuc3VjY2VzcyggKHJlc3BvbnNlKSA9PiB7XHJcbiAgICAgICAgICAgIF9ETC5wdXNoKHtcclxuICAgICAgICAgICAgICAgIGFjdGlvbjogXCJMb2dvdXRcIixcclxuICAgICAgICAgICAgICAgIGNhdGVnb3J5OiBcIkNsaWNrIGFjdGlvblwiLFxyXG4gICAgICAgICAgICAgICAgZXZlbnQ6IFwiYnV0dG9uLWNsaWNrXCIsXHJcbiAgICAgICAgICAgICAgICBsYWJlbDogYCR7X0RBVEUudGltZVN0YW1wKCl9IC8gI3t1c2VyLUlEfWBcclxuICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgdGhpcy5zdWNjZXNzSGFuZGxlcihyZXNwb25zZSk7XHJcbiAgICAgICAgfSlcclxuICAgICAgICAuZXJyb3IoICgpID0+IHtcclxuICAgICAgICAgICAgdGhpcy5sb2FkZXIuaGlkZUxvYWRlcigpXHJcbiAgICAgICAgfSlcclxuICAgIH1cclxuXHJcbiAgICBzdWNjZXNzSGFuZGxlcihyZXMpIHtcclxuICAgICAgICBsZXQge3N1Y2Nlc3MsIHJlZGlyZWN0aW9ufSA9IHJlcztcclxuICAgICAgICAgICAgXHJcbiAgICAgICAgaWYoc3VjY2Vzcykge1xyXG4gICAgICAgICAgICBpZighIXJlZGlyZWN0aW9uKSB7XHJcbiAgICAgICAgICAgICAgICB3aW5kb3cubG9jYXRpb24uaHJlZiA9IHJlZGlyZWN0aW9uXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICB0aGlzLmxvYWRlci5oaWRlTG9hZGVyKCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuXHJcbiAgICAvKipcclxuICAgICAqIERpc3BsYXlzIHN1Y2Nlc3MgbWVzc2FnZSBpbiBhIGNyZWF0ZWQgcCB0YWcgYW5kIGVyYXNlcyBpdCBhZnRlciB7X1RJTUVPVVR9IGhhcyBleHBpcmVkXHJcbiAgICAgKiBAcGFyYW0ge0pTT059IGRhdGEgQUpBWCByZXNwb25zZSBkYXRhXHJcbiAgICAgKi9cclxuICAgIGRpc3BsYXlNZXNzYWdlKGRhdGEsIG1vZGlmaWVyID0gXCJzdWNjZXNzXCIpIHtcclxuICAgICAgICBsZXQgY3VycmVudFN1Y2Nlc3MgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChgZGVsZXRlLWdsb2JhbC1tc2dgKSxcclxuICAgICAgICAgICAgeyBtZXNzYWdlIH0gPSBkYXRhLFxyXG4gICAgICAgICAgICBjb250YWluZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwibWFpbiAuYWNjLWNvbXAtLWNlbnRlclwiKSxcclxuICAgICAgICAgICAgcCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJwXCIpO1xyXG5cclxuICAgICAgICBpZighIWN1cnJlbnRTdWNjZXNzKSB7XHJcbiAgICAgICAgICAgIGN1cnJlbnRTdWNjZXNzLnJlbW92ZSgpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYoISFtZXNzYWdlICYmICEhY29udGFpbmVyKSB7XHJcbiAgICAgICAgICAgIHAuY2xhc3NMaXN0LmFkZChtb2RpZmllcik7XHJcbiAgICAgICAgICAgIHAuc2V0QXR0cmlidXRlKFwiaWRcIiwgYGRlbGV0ZS1nbG9iYWwtbXNnYCk7XHJcbiAgICAgICAgICAgIHAuaW5uZXJUZXh0ID0gbWVzc2FnZTtcclxuICAgICAgICAgICAgY29udGFpbmVyLnByZXBlbmQocCk7XHJcbiAgICAgICAgICAgIHRoaXMubG9hZGVyLmhpZGVMb2FkZXIoKTtcclxuXHJcbiAgICAgICAgICAgIHNldFRpbWVvdXQoICgpID0+IHtcclxuICAgICAgICAgICAgICAgIGxldCBzdWNjZXNzTWVzc2FnZSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGBkZWxldGUtZ2xvYmFsLW1zZ2ApO1xyXG4gICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICBpZighIXN1Y2Nlc3NNZXNzYWdlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgc3VjY2Vzc01lc3NhZ2UucmVtb3ZlKCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0sIF9USU1FT1VUKVxyXG4gICAgICAgIH1cclxuICAgIH1cclxufVxyXG4iLCJpbXBvcnQgeyBBY2NvdXRDdGEgfSBmcm9tIFwiLi4vLi4vY29udHJvbGxlci9hY2NvdW50L0FjY291bnRDdGFcIjtcclxuaW1wb3J0IHsgX19BQ0NfQVBJIH0gZnJvbSBcIi4uLy4uL21vZGVsL2FjY291bnQvZW5kcG9pbnRcIjtcclxuaW1wb3J0IHsgYWNjb3JkaW9uRmFjdG9yeSB9IGZyb20gXCIuLi9hY2NvcmRpb24tZmFjdG9yeVwiO1xyXG5pbXBvcnQgeyBwb3B1cCB9IGZyb20gXCIuLi9jb21wb25lbnRzL3BvcHVwXCI7XHJcblxyXG52YXIgREVMX09WRVJMQVkgPSBudWxsO1xyXG5cclxuZXhwb3J0IGNvbnN0IEFjY291bnREZXRhaWxzID0ge1xyXG4gICAgaW5pdDogKCkgPT4ge1xyXG4gICAgICAgIEFjY291bnREZXRhaWxzLl9pbml0QWNjb3JkaW9uKCk7XHJcbiAgICAgICAgQWNjb3VudERldGFpbHMuX2luaXRPdmVybGF5KCk7XHJcbiAgICAgICAgQWNjb3VudERldGFpbHMuX2luaXRBY2NvdW50Q3RhKCk7XHJcbiAgICB9LFxyXG4gICAgX2luaXRBY2NvcmRpb246ICgpID0+IHtcclxuICAgICAgICBuZXcgYWNjb3JkaW9uRmFjdG9yeSAoe1xyXG4gICAgICAgICAgICBjb250YWluZXI6ICcuanMtYWNjb3VudC1hY2NvcmRpb24nLFxyXG4gICAgICAgICAgICB0cmlnZ2VyOiAnLmpzLWFjY291bnQtYWNjb3JkaW9uLXRyaWdnZXInLFxyXG4gICAgICAgICAgICBjb250ZW50OiAnLmpzLWFjY291bnQtYWNjb3JkaW9uLWNvbnRlbnQnLFxyXG4gICAgICAgICAgICBtdWx0aXBsZUNvbnRlbnQ6ICcuanMtYWNjb3VudC1hY2NvcmRpb24tbXVsdGlwbGUtY29udGVudCcsXHJcbiAgICAgICAgICAgIGljb246ICcuanMtYWNjb3VudC1hY2NvcmRpb24taWNvbicsXHJcbiAgICAgICAgICAgIGljb25Nb2RpZmllcjogJ2ludmlzaWJsZScsXHJcbiAgICAgICAgICAgIG11bHRpcGxlVHJpZ2dlcjogdHJ1ZSxcclxuICAgICAgICAgICAgY29udGVudE1vZGlmaWVyOiAncHJvZHVjdC1hY2NvcmRpb24tLW9wZW5lZCcsXHJcbiAgICAgICAgICAgIG11bHRpcGxlQ29udGVudE1vZGlmaWVyOiAncHJvZHVjdC1hY2NvcmRpb24tLW9wZW5lZCcsXHJcbiAgICAgICAgICAgIG9uT3BlbjogZnVuY3Rpb24gKHRyaWdnZXIpIHtcclxuICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICBpZiggISF0cmlnZ2VyXHJcbiAgICAgICAgICAgICAgICAgICAgJiYgdHJpZ2dlci5oYXNBdHRyaWJ1dGUoXCJkYXRhLW9wZW5cIikpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbGV0IHNwYW4gPSB0cmlnZ2VyLnF1ZXJ5U2VsZWN0b3IoJ3NwYW4nKSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGljb25Eb3duID0gdHJpZ2dlci5xdWVyeVNlbGVjdG9yKFwiLmljb24tZG93blwiKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmKCEhaWNvbkRvd24pIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGljb25Eb3duLmNsYXNzTGlzdC5hZGQoXCJpY29uLXVwXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHNwYW4uaW5uZXJUZXh0ID0gdHJpZ2dlci5nZXRBdHRyaWJ1dGUoXCJkYXRhLW9wZW5cIik7XHJcbiAgICAgICAgXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuaWNvbiA9IG51bGw7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIG9uQ2xvc2U6IGZ1bmN0aW9uIChjb250ZW50LCB0cmlnZ2VyKSB7XHJcbiAgICAgICAgICAgICAgICBpZiggISF0cmlnZ2VyIFxyXG4gICAgICAgICAgICAgICAgICAgICYmIHRyaWdnZXIuaGFzQXR0cmlidXRlKFwiZGF0YS1jbG9zZVwiKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBsZXQgc3BhbiA9IHRyaWdnZXIucXVlcnlTZWxlY3Rvcignc3BhbicpLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpY29uRG93biA9IHRyaWdnZXIucXVlcnlTZWxlY3RvcihcIi5pY29uLWRvd25cIik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZighIWljb25Eb3duKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpY29uRG93bi5jbGFzc0xpc3QucmVtb3ZlKFwiaWNvbi11cFwiKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICAgICAgICAgICAgc3Bhbi5pbm5lclRleHQgPSB0cmlnZ2VyLmdldEF0dHJpYnV0ZShcImRhdGEtY2xvc2VcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmljb24gPSBudWxsO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgLy8gbGV0IGZvcm0gPSBjb250ZW50LnF1ZXJ5U2VsZWN0b3IoJ2Zvcm0nKTtcclxuICAgICAgICAgICAgICAgICAgICAvLyBpZighIWZvcm0pIHtcclxuICAgICAgICAgICAgICAgICAgICAvLyAgICAgZm9ybS5yZXNldCgpO1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgICAgICBcclxuICAgIH0sXHJcbiAgICBfaW5pdE92ZXJsYXk6ICgpID0+IHtcclxuICAgICAgICBERUxfT1ZFUkxBWSA9IG5ldyBwb3B1cCAoe1xyXG4gICAgICAgICAgICBjb250YWluZXI6ICcuanMtb3ZlcmxheScsXHJcbiAgICAgICAgICAgIHNlbGVjdG9yOiAnI2RlbGl2ZXJ5LW92ZXJsYXknLFxyXG4gICAgICAgICAgICB0cmlnZ2VyOiAnLmpzLW5ldy1kZWxpdmVyeScsXHJcbiAgICAgICAgICAgIGNsb3NlOiAnLm92ZXJsYXlfX2Nsb3NlJ1xyXG4gICAgICAgIH0pXHJcbiAgICB9LFxyXG4gICAgX2luaXRBY2NvdW50Q3RhOiAoKSA9PiB7XHJcbiAgICAgICAgbGV0IGFjY291bnRDdGEgPSBuZXcgQWNjb3V0Q3RhKCk7XHJcblxyXG4gICAgICAgIGFjY291bnRDdGEuaW5pdENsb3NlU2hpcHBpbmdPdmVybGF5KERFTF9PVkVSTEFZKTtcclxuICAgIH1cclxufSIsImltcG9ydCB7IEFjY291bnRGb3JtRmFjdG9yeSB9IGZyb20gXCIuLi9jb250cm9sbGVyL2FjY291bnQvQWNjb3VudEZvcm1GYWN0b3J5XCI7XHJcbmltcG9ydCB7IF9fQUNDX0ZPUk0gfSBmcm9tIFwiLi4vbW9kZWwvYWNjb3VudC9mb3JtLWRldGFpbHNcIjtcclxuaW1wb3J0IHsgQWNjb3VudERldGFpbHMgfSBmcm9tIFwiLi4vdmlldy9hY2NvdW50L2FjY291bnQtZGV0YWlsc1wiO1xyXG5cclxuZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignRE9NQ29udGVudExvYWRlZCcsIGZ1bmN0aW9uKGUpIHtcclxuICBjb25zdCBfYWNjb3VudEZvcm1zID0gX19BQ0NfRk9STS5nZXRGb3JtKCk7XHJcbiAgQWNjb3VudEZvcm1GYWN0b3J5LmluaXQoX2FjY291bnRGb3Jtcyk7XHJcbiAgQWNjb3VudERldGFpbHMuaW5pdCgpO1xyXG59KSJdLCJzb3VyY2VSb290IjoiIn0=
//# sourceMappingURL=account.min.js.map
