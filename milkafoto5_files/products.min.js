/**
 * MILKA DE/AT/NL
 * env: production
 * version: 1.13.2
 * date: 9/2/2022 11:43:40
 */

!function(e){var t={};function i(n){if(t[n])return t[n].exports;var r=t[n]={i:n,l:!1,exports:{}};return e[n].call(r.exports,r,r.exports,i),r.l=!0,r.exports}i.m=e,i.c=t,i.d=function(e,t,n){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},i.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)i.d(n,r,function(t){return e[t]}.bind(null,r));return n},i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="",i(i.s=36)}([function(e,t,i){"use strict";i.d(t,"a",(function(){return r}));var n=["/"],r={trim:function(e){return e.replace(/\s/g,"")},replace:function(e,t,i){return e.replace(t,i)},replaceSpecialChar:function(e){for(var t=e,i=0;i<n.length;i++){var r=n[i];t=t.replace(r,"-")}return t},cleanFilterCategory:function(e){return r.replaceSpecialChar(r.trim(e)).toLowerCase()},toDataSelector:function(e){var t=r.cleanFilterCategory(e),i=t[0].toUpperCase();if(r.findChar("-",t)){var n=t.indexOf("-"),o=n+1,a=t[o].toUpperCase();t=t.slice(0,n)+a+t.slice(o+1,t.length)}return"selected"+(t=i+t.slice(1,t.length))},findChar:function(e,t){try{if(t&&"string"==typeof t&&t.indexOf(e)>-1)return!0}catch(e){console.error(e),console.error(t)}return!1},testRegex:function(e,t){var i=!1;return new RegExp(t).test(e)&&(i=!0),i}}},function(e,t,i){"use strict";i.d(t,"a",(function(){return n}));var n={push:function(e){var t=e.event,i=void 0===t?"info-click":t,n=e.category,r=void 0===n?"Informational Click":n,o=e.action,a=void 0===o?"Click":o,l=e.label,c=void 0===l?document.title:l,s=e.customEvent,u=void 0!==s&&s,d=e.data;window.google_tag_manager&&(u?dataLayer.push(d):dataLayer.push({event:i,category:r,action:a,label:c}))},getImpressions:function(){try{return dataLayer[2].ecommerce.impressions}catch(e){return null}}}},function(e,t,i){"use strict";function n(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}i.d(t,"a",(function(){return r}));var r=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.isScrolling=!1}var t,i,r;return t=e,(i=[{key:"disableScroll",value:function(){document.querySelector("body").style.overflow="hidden"}},{key:"enableScroll",value:function(){document.querySelector("body").style.overflow=""}},{key:"scrollTop",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"slow",i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,n=$(e).length>0?$(e).offset().top+i:null,r=$("html, body");r.on("scroll mousedown wheel DOMMouseScroll mousewheel keyup touchmove",(function(){r.stop()})),null!==n&&!0!==this.isScrolling&&(this.isScrolling=!0,r.animate({scrollTop:n},t,(function(){
//! executed on function animate complete
r.off("scroll mousedown wheel DOMMouseScroll mousewheel keyup touchmove"),this.isScrolling=!1})),this.isScrolling=!1)}}])&&n(t.prototype,i),r&&n(t,r),e}()},function(e,t,i){"use strict";i.d(t,"b",(function(){return a})),i.d(t,"a",(function(){return l}));var n=i(2);function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var a=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};r(this,e),this.display=!1,this.scroll=new n.a,this.container=t.loaderSelector&&document.querySelector(t.loaderSelector)?document.querySelector(t.loaderSelector):document.querySelector(".js-loader"),this.loader=null!==this.container?this.container.querySelector("#simple"):null}var t,i,a;return t=e,(i=[{key:"showLoader",value:function(){!this.display&&this.loader&&(this.scroll.disableScroll(),this.loader.style.display="block"),this.display=!0}},{key:"hideLoader",value:function(){!0===this.display&&null!==this.loader&&(this.scroll.enableScroll(),this.loader.removeAttribute("style")),this.display=!1}},{key:"updateLoader",value:function(){this.loader=null!==this.container?this.container.querySelector("#simple"):null}},{key:"addClass",value:function(e){this.loader.classList.add(e)}},{key:"removeClass",value:function(e){this.loader.classList.remove(e)}}])&&o(t.prototype,i),a&&o(t,a),e}(),l=new a({})},function(e,t,i){"use strict";i.d(t,"a",(function(){return n}));var n={create:function(e,t){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:7,n=new Date,r=n;r.setDate(r.getDate()+i),document.cookie="".concat(e,"=").concat(t,"; expires=").concat(r)},delete:function(e){var t=new Date;t.setDate(t.getDate()-100),document.cookie="".concat(e,'=""; expires=').concat(t)},get:function(e){var t=document.cookie.match(RegExp("(?:^|;\\s*)"+e+"=([^;]*)"));return t?t[1]:null},getObject:function(e){var t=document.cookie.match(RegExp("(?:^|;\\s*)"+e+"=([^;]*)")),i=t?t[1]:null;if(null!==i){for(var n=i.split("&"),r=[],o=0;o<n.length;o++){var a=n[o].split("=");r[a[0]]=a[1]}return r}}}},,function(e,t,i){"use strict";var n=function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.id=t.id,this.affiliation=t.affiliation,this.revenue=t.revenue,this.tax=t.tax,this.shipping=t.shipping,this.coupon=t.coupon};function r(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var o=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.step=t.step}var t,i,n;return t=e,(i=[{key:"SetOption",value:function(e){this.option=e}}])&&r(t.prototype,i),n&&r(t,n),e}(),a=i(4),l=function(e){var t=[];return e.map((function(e){for(var i=Object.keys(e),n={},r=0;r<i.length;r++){var o=i[r];n[o.toLowerCase()]=null==e[o]?void 0:e[o]}t.push(n)})),t},c=i(1);function s(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}function u(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?s(Object(i),!0).forEach((function(t){d(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):s(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}function d(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function f(e){return(f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}i.d(t,"b",(function(){return w})),i.d(t,"a",(function(){return _})),i.d(t,"c",(function(){return L})),i.d(t,"g",(function(){return j})),i.d(t,"d",(function(){return q})),i.d(t,"f",(function(){return E})),i.d(t,"e",(function(){return P}));var h={card:".js-product-card",details:".product-details"},v={miniCart:".mini-cart__bottom-ctas-checkout .mini-cart-cta",cartPage:".my-cart-checkout__button",guest:".checkout__continue-as-guest"},p="data-dl-name",m="data-dl-price",y="data-dl-id",g="data-dl-variant",b="data-selected-type",C="data-dl-position",k="Milka",S="Chocolate",w={init:function(){w._initProductClick(),w._initCheckout(),document.querySelector(h.details)&&w._initProductDetails()},_initProductClick:function(){for(var e=document.querySelectorAll(h.card),t=function(t){var i=e[t];i.addEventListener("click",(function(e){w.processProductClick(i)}))},i=0;i<e.length;i++)t(i)},_initCheckout:function(){var e=document.querySelector(v.miniCart),t=document.querySelector(v.cartPage),i=document.querySelector(v.guest);"de-DE"===document.querySelector("body").getAttribute("data-language")?(w.processCheckoutEvent(e),w.processCheckoutEvent(t)):w.processCheckoutEvent(i)},_initProductDetails:function(){try{var e=ecommerceDetails;if("object"===f(e)&&e.product){var t={ecommerce:{detail:{actionField:{list:"Product Catalogue"},products:[{name:e.product.name,id:e.product.gtin,price:e.product.price.replace(",","."),brand:k,category:S,variant:e.product.variant}]}}};c.a.push({customEvent:!0,data:t})}}catch(e){console.error("PRODUCT DETAILS PUSH FAILED"),console.error(e)}},processCheckoutEvent:function(e){e&&e.addEventListener("click",(function(t){var i=a.a.get("payment-link")?a.a.get("payment-link"):e.getAttribute("href");i&&t.preventDefault(),_(1),i&&(window.location.href=i)}))},processProductClick:function(e){var t,i,n,r=O(e);c.a.push({customEvent:!0,data:{event:"product-click",serverName:null!==(t=null===(i=dataLayer[0])||void 0===i?void 0:null===(n=i.content)||void 0===n?void 0:n.serverName)&&void 0!==t?t:"undefined",ecommerce:{click:{actionField:{},products:[r]}},eventCallback:function(){}}})},checkoutClick:function(){try{var e,t,i,n=ecommerceDetails;if("object"===f(n.ecommerce))c.a.push({customEvent:!0,data:{event:"checkout",serverName:null!==(e=null===(t=dataLayer[0])||void 0===t?void 0:null===(i=t.content)||void 0===i?void 0:i.serverName)&&void 0!==e?e:"undefined",ecommerce:{checkout:{actionField:{step:1},products:n.ecommerce.products}}}})}catch(e){console.error("CHECKOUT PUSH FAILED"),console.error(e)}}};function _(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;try{var i,n,r,a=ecommerceDetails,l=new o({step:e}),s=null,u={event:"checkout",serverName:null!==(i=null===(n=dataLayer[0])||void 0===n?void 0:null===(r=n.content)||void 0===r?void 0:r.serverName)&&void 0!==i?i:"undefined",ecommerce:{checkout:{actionField:l,products:[]}},eventCallback:function(){}};"object"===f(a.ecommerce)&&(t&&(l.SetOption(t),u.ecommerce.checkout.actionField.option=t,s=A(l)),a.ecommerce.products.length>0&&(u.ecommerce.checkout.products=a.ecommerce.products),c.a.push({customEvent:!0,data:u}),s&&c.a.push({customEvent:!0,data:s}))}catch(e){console.error("CHECKOUT PUSH FAILED"),console.log(e)}}function A(e){var t,i,n,r=e.step,o=e.option;return{event:"checkoutOption",serverName:null!==(t=null===(i=dataLayer[0])||void 0===i?void 0:null===(n=i.content)||void 0===n?void 0:n.serverName)&&void 0!==t?t:"undefined",ecommerce:{checkout_option:{actionField:{step:r,option:o}}}}}function L(){try{var e,t,i,r=ecommerceDetails,o={event:"transaction",serverName:null!==(e=null===(t=dataLayer[0])||void 0===t?void 0:null===(i=t.content)||void 0===i?void 0:i.serverName)&&void 0!==e?e:"undefined",ecommerce:{purchase:{actionField:{},products:[]}}};if(r.ecommerce.transaction){var a=new n({id:r.ecommerce.transaction.id,affiliation:r.ecommerce.transaction.store,revenue:r.ecommerce.transaction.revenue,tax:r.ecommerce.transaction.tax,shipping:r.ecommerce.transaction.shipping,coupon:r.ecommerce.transaction.discount});o.ecommerce.purchase.actionField=a}r.ecommerce.products&&(o.ecommerce.purchase.products=r.ecommerce.products),c.a.push({customEvent:!0,data:o})}catch(e){console.error("TRANSACTION PUSH ERROR")}}function j(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.productEcomLayer;try{var i=u({},ecommerceDetails);if(t&&(i.ecommerce.products=l(t)),i.ecommerce){var n=i.ecommerce.products,r="";r=n.map((function(e){return e.id&&e.id.length>0?e.id:e.sku&&e.sku.length>0?e.sku:void 0})).join(","),i.ecommerce.cart_items=r;var o=a.a.getObject("cartInfo");o&&(i.ecommerce.orderId=o.cartToken,$(".js-shopping-bag").find("span").attr("data-count",o.itemCount)),Object.keys(i).map((function(e){void 0===i[e]&&delete i[e]})),c.a.push({customEvent:!0,data:i})}}catch(e){console.error(e)}}function q(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1,i=arguments.length>2?arguments[2]:void 0;if(e){var n,r,o,a=e.parentNode.querySelector(".stepper__container"),l=null!==a?a.querySelector(".js-stepper-input"):null,s=null!==l?l.value:t,u=null==e?void 0:e.closest(".product__card"),d=O(u,s,i),f={event:"addToCart",serverName:null!==(n=null===(r=dataLayer[0])||void 0===r?void 0:null===(o=r.content)||void 0===o?void 0:o.serverName)&&void 0!==n?n:"undefined",ecommerce:{currencyCode:"EUR",add:{products:[d]}}};c.a.push({customEvent:!0,data:f})}}function E(e){if(e){var t,i,n,r=O(e),o={event:"removeFromCart",serverName:null!==(t=null===(i=dataLayer[0])||void 0===i?void 0:null===(n=i.content)||void 0===n?void 0:n.serverName)&&void 0!==t?t:"undefined",ecommerce:{remove:{products:[r]}}};c.a.push({customEvent:!0,data:o})}}function P(e){if(e){var t=O(e,-1),i=c.a.getImpressions();i&&i.push(t)}}function O(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",n="",r="",o="",a=k,l="",c="",s="",u="";if(e){n=e.getAttribute(p),r=r.length<1?e.getAttribute(y):r,o=e.getAttribute(m),l=e.getAttribute(b),c=e.getAttribute(g),s=e.getAttribute(b),u=e.getAttribute(C);var d=e.closest("a[href='#']");d&&(n=d.getAttribute(p),r=d.getAttribute(y),o=d.getAttribute(m),l=d.getAttribute(b),c=d.getAttribute(g),s=d.getAttribute(b),u=d.getAttribute(C),t=1)}else try{var h=ecommerceDetails;"object"==f(h.product)&&(n=h.product.name,r=h.product.gtin,o=h.product.price,l="Chocolate",c=h.product.variant,s="Chocolate")}catch(e){console.error(e)}var v={name:n,id:i.length<1?r:i,price:o.replace(",","."),brand:a,category:l,variant:c,list:s,position:u};return t&&t>0&&(v.quantity=t),v}},function(e,t,i){"use strict";i.d(t,"a",(function(){return o}));var n=i(2);function r(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var o=function(){function e(t){var i=this;if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.onClose=t.onClose?t.onClose:null,this.container=null!==t.container||void 0!==t.container||" "!==t.container?document.querySelector(t.container):document.querySelector("section.js-overlay"),this.overlay=null!==this.container?this.container.querySelector(t.selector):null,this.containerModifier=t.containerModifier||null,this.timeout=t.timeout||0,this.trigger=document.querySelector(t.trigger),this.close=document.querySelectorAll(t.close),this.scroll=new n.a,this.containsForm=null!=this.container&&null!=this.container.querySelector("form"),null!==this.trigger&&this.trigger.addEventListener("click",(function(e){e.preventDefault(),setTimeout((function(){i.openOverlay()}),i.timeout)})),null!==this.close)for(var r=0;r<this.close.length;r++){this.close[r].addEventListener("click",(function(e){e.preventDefault(),i.closeOverlay()}))}null!=this.container&&this.container.addEventListener("click",(function(e){e.preventDefault(),e.target==i.container&&i.closeOverlay()}))}var t,i,o;return t=e,(i=[{key:"openOverlay",value:function(){null!==this.container&&null!==this.overlay&&(this.scroll.disableScroll(),this.container.style.display="",null!==this.containerModifier&&this.container.classList.add(this.containerModifier),this.overlay.style.cssText="")}},{key:"closeOverlay",value:function(){this.onClose&&this.onClose(),null!==this.container&&null!==this.overlay&&(this.scroll.enableScroll(),this.container.style.cssText="display: none",null!==this.containerModifier&&this.container.classList.remove(this.containerModifier),this.overlay.style.cssText="display: none",this.containsForm&&this.resetForm())}},{key:"resetForm",value:function(){for(var e=this.container.querySelector("form"),t=e.querySelectorAll('input[type]:not([type="submit"]), textarea'),i=(this.container.querySelectorAll('input[type="checkbox"]'),0);i<t.length;i++){var n=t[i],r=n.getAttribute("type");if(!n.classList.contains("js-reset-exception")){if(n.value="","hidden"===r&&n.dispatchEvent(new Event("change")),"number"===r&&n.parentNode.querySelectorAll(".js-review-item").length>0)for(var o=n.parentNode.querySelectorAll(".js-review-item"),a=0;a<o.length;a++)o[a].classList.remove("product-review--active");"checkbox"===r&&(n.checked=!1,n.parentElement.classList.remove("active")),null!==n.parentNode&&n.parentNode.classList.remove("notvalid")}}null!==e.querySelector(".form-input__error--global")&&e.querySelector(".form-input__error--global").classList.remove("show")}}])&&r(t.prototype,i),o&&r(t,o),e}()},,function(e,t,i){"use strict";i.d(t,"a",(function(){return n})),i.d(t,"c",(function(){return r})),i.d(t,"f",(function(){return o})),i.d(t,"b",(function(){return a})),i.d(t,"g",(function(){return l})),i.d(t,"e",(function(){return c})),i.d(t,"d",(function(){return s}));var n="/api/cart/guest/item",r="/api/checkout/guest/delivery",o="/api/checkout/guest/payment",a="/api/mini-cart",l="/api/cart/guest/update-item",c="/api/cart/guest/remove-item",s="/api/checkout/guest/order"},function(e,t,i){"use strict";i.d(t,"a",(function(){return n}));var n={includes:function(e,t){for(var i=0;i<t.length;i++){if(t[i]==e)return!0}return!1},filter:function(e,t){var i=[];return e.filter((function(e){var n=e.getAttribute(t);null!=n&&i.push(e)})),i},classExceptionDOM:function(e,t){for(var i=[],r=0;r<e.length;r++){var o=e[r];n.includes(t,o.classList)||i.push(o)}return i},dynamicSort:function(e){var t=1;return"-"===e[0]&&(t=-1,e=e.substr(1)),function(i,n){return(i[e]<n[e]?-1:i[e]>n[e]?1:0)*t}}}},function(e,t,i){"use strict";function n(){for(var e=$("img[data-src]"),t=$("source[data-src]"),i=0;i<e.length;i++){var n=e[i];0===$(n).closest(".product-list__container").length&&(""!==$(n).attr("src")&&null!==$(n).attr("src")&&void 0!==$(n).attr("src")||$(n).attr("src",$(n).attr("data-src")))}for(i=0;i<t.length;i++){var r=t[i];0===$(r).closest(".product-list__container").length&&(""!==$(r).attr("srcset")&&null!==$(r).attr("srcset")||$(r).attr("srcset",$(r).attr("data-src")))}}i.d(t,"a",(function(){return n}))},function(e,t,i){"use strict";function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function r(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var o=function(){function e(t){var i=this;if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.Expanded=!1,this.container="object"==n(t.container)?t.container:document.querySelector(t.container),this.trigger=this.container?this.container.querySelector(t.trigger):null,this.content=this.container?this.container.querySelector(t.content):null,this.icon=this.container?this.container.querySelector(t.icon):null,this.iconModifier=t.iconModifier,this.contentModifier=t.contentModifier,this.multipleTrigger=!!t.multipleTrigger&&t.multipleTrigger,this.multipleContent=this.container?this.container.querySelectorAll(t.multipleContent):null,this.multipleContentModifier=t.multipleContentModifier,this.onOpen=t.onOpen&&"function"==typeof t.onOpen?t.onOpen:null,this.onClose=t.onClose&&"function"==typeof t.onClose?t.onClose:null,this.multipleTrigger&&this.trigger){this.trigger=this.container.querySelectorAll(t.trigger);for(var r=function(e){var t=i.trigger[e];t.addEventListener("click",(function(e){e.preventDefault(),i.toggleAccordion(t)}))},o=0;o<this.trigger.length;o++)r(o)}this.multipleTrigger||null==this.trigger||this.trigger.addEventListener("click",(function(e){e.preventDefault(),i.toggleAccordion()}))}var t,i,o;return t=e,(i=[{key:"toggleAccordion",value:function(e){if(null!==this.content||this.multipleContent.length>0)switch(this.Expanded){case!0:this.closeAccordion(e);break;default:this.openAccordion(e)}}},{key:"openAccordion",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;this.onOpen&&e&&this.onOpen(e),null!=this.icon&&this.icon.classList.add(this.iconModifier);for(var t=0;t<this.multipleContent.length;t++)this.multipleContent[t].classList.add(this.multipleContentModifier);this.content.classList.add(this.contentModifier),this.Expanded=!0}},{key:"closeAccordion",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;null!=this.icon&&this.icon.classList.remove(this.iconModifier),this.onClose&&this.onClose(this.content,e);for(var t=0;t<this.multipleContent.length;t++)this.multipleContent[t].classList.remove(this.multipleContentModifier);this.content.classList.remove(this.contentModifier),this.Expanded=!1}}])&&r(t.prototype,i),o&&r(t,o),e}();function a(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}i.d(t,"a",(function(){return l}));var l=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.container=document.querySelectorAll(t.container),this.trigger=t.trigger,this.content=t.content,this.icon=t.icon,this.iconModifier=t.iconModifier,this.contentModifier=t.contentModifier,this.multipleTrigger=t.multipleTrigger,this.multipleContent=t.multipleContent,this.multipleContentModifier=t.multipleContentModifier,this.onOpen=t.onOpen,this.onClose=t.onClose,".js-footer-accordion"!==this.trigger?this.createAccordion():window.outerWidth<=1024&&this.createAccordion()}var t,i,n;return t=e,(i=[{key:"createAccordion",value:function(){for(var e=0;e<this.container.length;e++)new o({container:this.container[e],trigger:this.trigger,content:this.content,icon:this.icon,iconModifier:this.iconModifier,contentModifier:this.contentModifier,multipleTrigger:this.multipleTrigger,multipleContent:this.multipleContent,multipleContentModifier:this.multipleContentModifier,onOpen:this.onOpen,onClose:this.onClose})}}])&&a(t.prototype,i),n&&a(t,n),e}()},function(e,t,i){"use strict";i.d(t,"a",(function(){return h}));var n=i(3),r=i(2),o=i(9),a=i(4),l=i(11),c=i(6);function s(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var u=o.a,d={addProduct:c.d,updateCartItem:c.g},f={lazyLoadImage:l.a},h=new(function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.simpleLoader=new n.b({}),this.scroll=new r.a}var t,i,o;return t=e,(i=[{key:"_init",value:function(){this._initProductDetailAddToCart(),this._initSimpleAddToCart()}},{key:"_initSimpleAddToCart",value:function(){var e=this;$(document).on("click","a[data-slug][href='#']",(function(t){t.preventDefault(),$(".search--show").length>0?e.simpleLoader.addClass("simple-loader--search"):e.simpleLoader.removeClass("simple-loader--search");var i=$(t.target).closest("a[data-slug][href='#']")?$(t.target).closest("a[data-slug][href='#']").attr("data-slug"):null;e.addToCart(i,t.target)}))}},{key:"_initProductDetailAddToCart",value:function(){var e=this,t=document.querySelector(".product-details .js-add-to-cart");t&&t.addEventListener("click",(function(i){i.preventDefault();try{var n=t.parentNode.querySelector(".stepper__container"),r=null!==n?n.querySelector(".js-stepper-input"):null,o=null!==r?r.getAttribute("data-item-id"):null,a=null!==r?r.value:null,l=document.querySelector(".js-product-desc input[type='radio'][checked='true']");e.addToCart(l?l.value:o,t,a)}catch(e){console.error(e)}}))}},{key:"addToCart",value:function(e,t){var i=this,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=$(".in-cart__product"),o=document.querySelector("[data-stock-msg]")?document.querySelector("[data-stock-msg]").getAttribute("data-stock-msg"):"An error occured",l={cache:!1,url:u,method:"POST",dataType:"json",data:{itemId:e,quantity:n}};this.simpleLoader.showLoader(),$.ajax(l).success((function(l,c){if(l.success){if(i.simpleLoader.hideLoader(),d.addProduct(t,n,e),d.updateCartItem(l),r.html(l.result.toString()),null!==$(".js-product-added")){$(".js-header-md-hamburger")&&setTimeout((function(){$(".js-header-md-hamburger").trigger("click")}),30),i.showOrHideAddedProduct(),setTimeout((function(){i.showOrHideAddedProduct()}),2e3);var s=a.a.getObject("cartInfo");s&&$(".js-shopping-bag").find("span").attr("data-count",s.itemCount),f.lazyLoadImage()}}else{i.simpleLoader.hideLoader();var u=document.querySelector(".js-overlay"),h=document.getElementById("out-stock");if(h)u.style="",h.style="";else{var v=document.createElement("div"),p=document.createElement("div"),m=document.createElement("h3");if(v.classList.add("overlay__container"),v.setAttribute("id","out-stock"),p.classList.add("overlay__close"),m.classList.add("overlay__title"),m.innerText=o,v.appendChild(p),v.appendChild(m),p.addEventListener("click",(function(e){u.style="display: none",v.style="display: none"})),u)u.appendChild(v),u.style="";else{var y=document.querySelector("body");(u=document.createElement("section")).classList.add("js-overlay"),u.classList.add("overlay"),u.classList.add("overlay--black"),u.appendChild(v),u.addEventListener("click",(function(e){u.style="display: none",v.style="display: none"})),y.appendChild(u)}}}})).error((function(e,t,n){i.simpleLoader.hideLoader()}))}},{key:"uncapitalise",value:function(e){var t=[];return e.map((function(e){for(var i=Object.keys(e),n={},r=0;r<i.length;r++){var o=i[r];n[o.toLowerCase()]=null==e[o]?void 0:e[o]}t.push(n)})),t}},{key:"showOrHideAddedProduct",value:function(){$(".js-product-added").hasClass("active")?($(".js-product-added").removeClass("active"),this.scroll.enableScroll(),null!==$(".search__overlay")&&($(".search--show").length>0?$(".search__overlay").removeClass("search--added"):$(".search__overlay").css("display","none"))):($(".js-product-added").addClass("active"),this.scroll.disableScroll(),null!==$(".search__overlay")&&($(".search--show").length>0?$(".search__overlay").addClass("search--added"):$(".search__overlay").css("display","block")))}}])&&s(t.prototype,i),o&&s(t,o),e}())},,,,,function(e,t,i){"use strict";function n(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}i.d(t,"a",(function(){return r}));var r=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.itemsPerPage=parseInt(t.perPage),this.container=document.querySelector(t.container),this.paginationControl=document.querySelector(t.control),this.paginationControlToHide=document.querySelector(t.controlToHide),this.itemSelector=t.itemSelector,this.dataLayerPush="function"==typeof t.dataLayerPush?t.dataLayerPush:null,this.items=[],this.displayed=0,this.displayStyle=t.displayStyle?t.displayStyle:"flex",t.initClick&&this.paginationControl&&this.addControlEvent()}var t,i,r;return t=e,(i=[{key:"_initFromArray",value:function(e){this.items=null!==e?e:[],this.displayed=0,this.loadNext()}},{key:"_reinitArray",value:function(e){this.items=e||[]}},{key:"loadNext",value:function(){for(var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],i=this.items.length-this.displayed>this.itemsPerPage?this.displayed+this.itemsPerPage:this.items.length,n=0,r=!1,o=i;o<this.items.length;o++){var a=this.items[o];a.style.opacity=0,a.style.display="none"}for(var l=function(i){var r=e.items[i];r.style.display="block",e.dataLayerPush&&t&&e.dataLayerPush(r),e.loadImage(r),setTimeout((function(){r.style.opacity=1}),100),n++},c=this.displayed;c<i;c++)l(c);return this.displayed+=n,this.loadNextImage(),parseInt(this.displayed)>=this.items.length&&(r=!0),{countDisplay:this.displayed,displayedAll:r}}},{key:"rebuildSortList",value:function(){for(var e=this,t=this.items.length-this.displayed>this.itemsPerPage?this.displayed:this.items.length,i=t;i<this.items.length;i++){var n=this.items[i];n.style.opacity=0,n.style.display="none"}for(var r=function(t){var i=e.items[t];i.style.display="block",e.loadImage(i),setTimeout((function(){i.style.opacity=1}),100)},o=0;o<t;o++)r(o)}},{key:"loadNextImage",value:function(){for(var e=this.items.length-this.displayed>this.itemsPerPage?this.displayed+this.itemsPerPage:this.items.length,t=this.displayed;t<e;t++){var i=this.items[t];this.loadImage(i)}}},{key:"loadImage",value:function(e){var t=e.querySelectorAll("source[data-src]"),i=e.querySelector("img[data-src]");if(i&&null!==i.src&&""!==i.src){i.src=i.dataset.src;for(var n=0;n<t.length;n++)t[n].srcset=t[n].dataset.src}}},{key:"hideControls",value:function(){null!==this.paginationControlToHide?this.paginationControlToHide.style.display="none":null!==this.paginationControl&&(this.paginationControl.style.display="none")}},{key:"showControls",value:function(){null!==this.paginationControl&&(this.paginationControl.style.display=this.displayStyle)}},{key:"addControlEvent",value:function(){var e=this;this.paginationControl.addEventListener("click",(function(t){t.preventDefault(),e.loadNext().displayedAll?e.hideControls():e.showControls()}))}}])&&n(t.prototype,i),r&&n(t,r),e}()},,,function(e,t,i){"use strict";function n(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var r=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.container=t.container,this.clickable=t.clickable,this.reviewItems=null!==this.container?this.container.querySelectorAll(t.reviewItem):null,this.itemsCount=null!==this.reviewItems?this.reviewItems.length:0,this.input=null!==this.container?this.container.querySelector('input[type="number"]'):null,this.init()}var t,i,r;return t=e,(i=[{key:"init",value:function(){if(this.initInputChange(),null!==this.container){var e=this.container.dataset.reviewInit;this.displayReviews(e)}"false"!=this.clickable&&this.itemsEventHandler()}},{key:"initInputChange",value:function(){var e=this;null!==this.input&&this.input.addEventListener("change",(function(t){var i=""!==e.input.value?e.input.value:"0";e.displayReviews(i)}))}},{key:"displayReviews",value:function(e){var t=this.reviewItems,i=parseInt(e)<this.itemsCount?parseInt(e):this.itemsCount;if(i=Math.floor(i),this.input.value=e,e>0){var n=document.querySelector('span[data-valmsg-for="'.concat(this.input.name,'"]'));null!==n&&(n.innerHTML=""),this.input.parentNode.classList.remove("notvalid")}for(var r=0;r<i;r++){var o=t[r];this.displayReview(o)}0==i&&this.removeAllReviews()}},{key:"displayReview",value:function(e){e.classList.add("product-review--active")}},{key:"removeAllReviews",value:function(){for(var e=this.reviewItems,t=0;t<this.itemsCount;t++){var i=e[t];this.removeReview(i)}}},{key:"removeReview",value:function(e){e.classList.remove("product-review--active")}},{key:"itemsEventHandler",value:function(){for(var e=this,t=this.reviewItems,i=function(i){var n=t[i];n.addEventListener("click",(function(t){t.preventDefault();var i=n.dataset.reviewValue;e.removeAllReviews(),e.displayReviews(i)}))},n=0;n<t.length;n++)i(n)}}])&&n(t.prototype,i),r&&n(t,r),e}();i.d(t,"a",(function(){return o}));var o=function e(t){if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.containers=document.querySelectorAll(t.container),this.containers.length>0)for(var i=0;i<this.containers.length;i++){var n;this.ReviewStarsView=new r({container:this.containers[i],reviewItem:t.reviewItem,clickable:(null===(n=this.containers[i])||void 0===n?void 0:n.dataset.reviewClick)||"true"})}}},function(e,t,i){"use strict";function n(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}i.d(t,"a",(function(){return r}));var r=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.container=document.querySelector(t.container),this.displayed=t.displayed,this.maximum=t.maximum,null!=this.container&&(this.maxView=this.container.querySelector(t.maxView),this.displayedView=this.container.querySelector(t.displayedView),this.indicator=this.container.querySelector(t.indicator)),this.maximum<this.displayed&&(this.displayed=this.maximum),this._init()}var t,i,r;return t=e,(i=[{key:"_init",value:function(){this.updateIndicator(),this.setDisplayedText(),this.setMaximumText()}},{key:"updateIndicator",value:function(){var e=100*this.displayed/this.maximum;null!==this.indicator&&void 0!==this.indicator&&(this.indicator.style.cssText+="width: ".concat(e,"%;")),this.setDisplayedText(),this.setMaximumText()}},{key:"setDisplayedText",value:function(){null!==this.displayedView&&void 0!==this.displayedView&&(this.displayedView.innerText=this.displayed)}},{key:"setMaximumText",value:function(){null!==this.maxView&&void 0!==this.maxView&&(this.maxView.innerText=this.maximum)}}])&&n(t.prototype,i),r&&n(t,r),e}()},function(e,t,i){"use strict";function n(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}i.d(t,"a",(function(){return r}));var r=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.display=t.display,//! TAKES A DOM OBJECT
this.limit=t.limit||0,this._init()}var t,i,r;return t=e,(i=[{key:"_init",value:function(){this.displayRemaining(this.limit)}},{key:"displayRemaining",value:function(e){null!==this.display&&(this.display.innerText=e)}},{key:"updateRemainingChar",value:function(e){this.displayRemaining(this.limit-e)}}])&&n(t.prototype,i),r&&n(t,r),e}()},,,,,,,,,,,,,function(e,t,i){e.exports=i(39)},,,function(e,t,i){"use strict";i.r(t);var n=i(12),r=i(0),o=i(10),a=i(4);function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function s(e,t,i){return t&&c(e.prototype,t),i&&c(e,i),e}var u=new(function(){function e(){l(this,e),this.filters=[],//! array of filters grouped by category
this.FILTER_OR="OR",this.FILTER_AND="AND"}return s(e,[{key:"add",value:function(e){var t=!1,i=this.getCategory(e.category),n=0;if(-1===i){var r=new d({category:e.category,condition:e.condition});r.addItem({name:e.name,label:e.label}),this.filters.push(r),n=1,t=!0}else{var o=this.filters[i],a=this.getFilter(o,e.name);o.condition.toUpperCase()!==this.FILTER_OR&&(-1!==a&&o.item.splice(a,1),o.item.push({name:e.name,label:e.label}),n=o.item.length),t=!0,-1==a&&o.condition.toUpperCase()===this.FILTER_OR&&(t=!1)}return{success:t,filterCount:n}}},{key:"remove",value:function(e){var t=this.getCategory(e.category),i="";if(-1!==t){var n=this.filters[t],r=this.getFilter(n,e.name);i=n.condition,-1!==r&&(n.item.splice(r,1),n.item.length>0?this.filters[t]=n:this.filters.splice(t,1))}return!0,{success:!0,condition:i}}},{key:"clearFilters",value:function(){this.filters=[]}},{key:"getCategory",value:function(e){for(var t=-1,i=0;i<this.filters.length;i++){var n=this.filters[i];null!=n.category&&null!=e&&n.category.toLowerCase()===e.toLowerCase()&&(t=i)}return t}},{key:"getFilter",value:function(e,t){for(var i=e.item,n=-1,r=0;r<i.length;r++){var o=i[r];o.name.toLowerCase()===t.toLowerCase()&&(n=i.indexOf(o))}return n}},{key:"allFilters",value:function(){return this.filters}},{key:"getFilterItemsByCat",value:function(){for(var e=[],t=0;t<this.filters.length;t++){var i=this.filters[t],n=i.item,o=i.category,a={},l=[];a.category=r.a.toDataSelector(o);for(var c=0;c<n.length;c++){var s=n[c];l.push(s.name)}a.name=l,e.push(a)}return e}}]),e}()),d=function(){function e(t){l(this,e),this.category=t.category,this.condition=t.condition,this.item=[]}return s(e,[{key:"addItem",value:function(e){this.item.push(e)}}]),e}();var f=function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.category=t.category,this.condition=t.condition,this.name=t.name,this.label=t.label},h=i(18),v=i(22);function p(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var m=function(){function e(t){var i=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.isOpen=!1,this.container=document.querySelector(t.container),this.modifier=t.modifier,this.trigger=document.querySelector(t.trigger),this.modifierTarget=null!=this.container?this.container.querySelector(t.modifierTarget):null,this.nameDisplay=null!=this.container?this.container.querySelector(t.nameDisplay):null,this.itemSelector=null!=this.container?this.container.querySelectorAll(t.itemSelector):null,null!==this.trigger?window.addEventListener("click",(function(e){i.isChild(e.target)?i.toggleSort(e):i.closeSort(e)})):console.log("%cERR-S: ".concat(t.trigger," is absent from DOM"),"color: red")}var t,i,n;return t=e,(i=[{key:"toggleSort",value:function(e){switch(e.preventDefault(),this.isOpen){case!1:this.openSort();break;default:this.closeSort()}}},{key:"openSort",value:function(){null===this.modifierTarget||this.isOpen||(this.modifierTarget.classList.add(this.modifier),this.isOpen=!0)}},{key:"closeSort",value:function(){null!==this.modifierTarget&&this.isOpen&&(this.modifierTarget.classList.remove(this.modifier),this.isOpen=!1)}},{key:"updateDisplay",value:function(e){e.name;var t=e.label;null!==this.nameDisplay&&(this.nameDisplay.innerText=t)}},{key:"isChild",value:function(e){for(var t=this.trigger.children,i=0;i<t.length;i++){var n=t[i];if(e==n)return!0;for(var r=n.children,o=0;o<r.length;o++)if(e==r[o])return!0}return!1}}])&&p(t.prototype,i),n&&p(t,n),e}();function y(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var g="display: none",b=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.filterView=document.querySelector(t.filterView),this.filterSelector=t.filter,this.activeFilterSelector=t.activeFilter,this.clearAllSelector=null===t.clearAll?t.clearAll:null}var t,i,n;return t=e,(i=[{key:"addFilter",value:function(e){if(e){var t=e.parentNode,i=new f({category:t.dataset.filterCategory,condition:t.dataset.filterCondition,name:e.dataset.filterName,label:e.innerText}),n=u.add(i),r=!1;return n.success?(this.toggleFilterDisplay(i,n.filterCount),r=!0):console.log("%cERR-VPF: FILTER ".concat(e.innerText," / CATEGORY ").concat(t.dataset.filterCategory," ALREADY ADDED"),"color: blue"),{success:r,filter:i}}return{success:!1}}},{key:"toggleFilterDisplay",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1,i=e.condition,n=this.findFilter(e),r=null==n?void 0:n.parentNode,o=(null==r?void 0:r.childElementCount)-1;if(-1!==t)switch(i.toUpperCase()){case u.FILTER_OR:r.style.cssText=g;break;default:n.style.cssText=g,t==o&&(r.style.cssText=g)}else n&&(n.style.cssText=""),r&&(r.style.cssText="")}},{key:"findFilter",value:function(e){var t=e.category,i=e.condition,n=e.name,r='div[data-filter-category="'.concat(t,'"][data-filter-condition="').concat(i,'"] ').concat(this.filterSelector,'[data-filter-name="').concat(n,'"]');return this.filterView?this.filterView.querySelector(r):null}},{key:"updateFilterCount",value:function(e,t){var i=this.findFilter(e),n="".concat(t);n.length<2&&(n="0"+n),t<1?null!==i&&(i.style.display="",i.dataset.filterCount="00"):null!==i&&(i.dataset.filterCount=n,i.style.display="flex")}},{key:"countDisplayedProducts",value:function(e){for(var t=e,i=this.getAllFilterNames(),n=0;n<i.length;n++)for(var o=i[n].items,a=0;a<o.length;a++){for(var l=o[a],c=0,s=0;s<t.length;s++)for(var u=t[s],d=Object.keys(u.dataset),h=0;h<d.length;h++){var v=d[h],p=u.dataset[v].toLowerCase();r.a.findChar(l.toLowerCase(),p)&&c++}var m={filter:new f({category:i[n].category,condition:i[n].condition,name:l}),count:c};this.updateFilterCount(m.filter,m.count)}}},{key:"getAllFilterNames",value:function(){try{if(this.filterView){for(var e=this.filterView.querySelectorAll(".js-filter-category"),t=[],i=0;i<e.length;i++){for(var n=e[i],r=n.dataset,o=r.filterCategory,a=r.filterCondition,l=n.querySelectorAll(this.filterSelector),c=[],s=0;s<l.length;s++){var u=l[s].dataset.filterName;c.push(u)}var d={category:o,condition:a,items:c};t.push(d)}return t}return[]}catch(e){console.error("Failed to fetch all filter names")}}}])&&y(t.prototype,i),n&&y(t,n),e}();function C(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var k=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.filterContainer=document.querySelector(t.filterContainer),this.filterSelector=null!=this.filterContainer?this.filterContainer.querySelectorAll(t.filterSelector):null,this.activeClass=".filter-mb__active",this.filterClass=".js-filter-item-mb"}var t,i,n;return t=e,(i=[{key:"addFilter",value:function(e){if(e){var t=e.parentNode.parentNode;if(null!=t.querySelector(".filter-mb__title")){var i=t.querySelector(".filter-mb__title"),n=null==t.querySelector(".filter-mb__active")?document.createElement("div"):t.querySelector(".filter-mb__active"),r=i.dataset,o=r.filterCategory,a=r.filterCondition,l=e.dataset.filterName,c=new f({category:o,condition:a,name:l,label:e.innerText}),s=this.addFilterToDOM(c),d=!1;if(u.add(c).success){var h=t.querySelector('.filter-mb__title span[data-filter-name="'.concat(l,'"]'));null===t.querySelector(".filter-mb__active")?(n.classList.add("filter-mb__active"),n.appendChild(s),i.appendChild(n),c.condition===u.FILTER_OR&&(t.querySelector(".js-filter-accordion-content").style.display="none")):null==h&&n.appendChild(s),d=!0}else console.log("%cERR-VPFM: FILTER ".concat(e.innerText," / CATEGORY ").concat(i.dataset.filterCategory," ALREADY ADDED"),"color: blue");return{success:d,filter:c}}console.log(".filter-mb__title: not found")}}},{key:"addFilterToDOM",value:function(e){var t=e.name,i=e.label,n=document.createElement("span");return n.dataset.filterName=t,n.textContent=i,n}},{key:"toggleFilterDisplay",value:function(e){if(e.condition===u.FILTER_OR){var t,i=null===(t=this.filterContainer)||void 0===t?void 0:t.querySelector("[data-filter-category='".concat(e.category,"'][data-filter-condition='").concat(e.condition,"']")),n=i?i.nextElementSibling:null;n&&(n.style.display="")}}},{key:"updateFilterCount",value:function(e,t){var i=this.findFilter(e),n="".concat(t);n.length<2&&(n="0"+n),t<1?null!==i&&(i.style.display="none",i.dataset.filterCount="00"):null!==i&&(i.dataset.filterCount=n,i.style.display="flex")}},{key:"findFilter",value:function(e){e.category,e.condition;var t=e.name,i="span".concat(this.filterClass,'[data-filter-name="').concat(t,'"]');return this.filterContainer?this.filterContainer.querySelector(i):null}},{key:"getAllFilterNames",value:function(){try{if(this.filterContainer){for(var e=this.filterContainer.querySelectorAll(".filter-mb__category.js-accordion"),t=[],i=0;i<e.length;i++){for(var n=e[i].querySelector(".js-filter-accordion").dataset,r=n.filterCategory,o=n.filterCondition,a=e[i].querySelectorAll(".js-filter-item-mb"),l=[],c=0;c<a.length;c++){var s=a[c].dataset.filterName;l.push(s)}var u={category:r,condition:o,items:l};t.push(u)}return t}return[]}catch(e){console.error("Failed to fetch all filter names")}}}])&&C(t.prototype,i),n&&C(t,n),e}();function S(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var w=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.activeContainer=document.querySelector(t.activeContainer),this.analyticsEventSelector="js-event-unselect-filter",this.activeFilterClass="filter-d__item",this.activeEventSelector="js-filter-item-active"}var t,i,n;return t=e,(i=[{key:"addActiveFilter",value:function(e,t){var i=e.name,n=this.createActiveFilter(e,t);null!==this.activeContainer&&0==this.activeContainer.querySelectorAll('[data-filter-name="'.concat(i,'"]')).length&&(this.activeContainer.appendChild(n),u.add(e)),this.toggleActiveFilters()}},{key:"createActiveFilter",value:function(e,t){var i=e.category,n=e.condition,r=e.name,o=e.label,a=document.createElement("div"),l=document.createElement("span"),c=document.createElement("span");return a.setAttribute("class","".concat(this.activeFilterClass," ").concat(this.activeEventSelector," ").concat(this.analyticsEventSelector," ").concat(t)),a.dataset.filterCategory=i,a.dataset.filterCondition=n,a.dataset.filterName=r,c.innerText=o,a.appendChild(l),a.appendChild(c),a}},{key:"toggleActiveFilters",value:function(){u.filters.length>0?this.activeContainer.style.cssText="display: block":this.activeContainer.style.cssText=""}},{key:"findActiveFilter",value:function(e){var t=e.category,i=e.condition,n=e.name,r=".".concat(this.activeEventSelector,'[data-filter-category="').concat(t,'"][data-filter-condition="').concat(i,'"][data-filter-name="').concat(n,'"]');return this.activeContainer.querySelector(r)}}])&&S(t.prototype,i),n&&S(t,n),e}();function _(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var A=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.container=document.querySelector(t.container)}var t,i,n;return t=e,(i=[{key:"findProduct",value:function(e){if(null!==this.container)return this.container.querySelectorAll(e)}},{key:"hideAll",value:function(){if(null!==this.container)for(var e=this.container.querySelectorAll(".js-product-card"),t=0;t<e.length;t++)e[t].style.display="none"}},{key:"displayProducts",value:function(e){if(null!==e||void 0!==e)for(var t=0;t<e.length;t++)e[t].style.display="block"}}])&&_(t.prototype,i),n&&_(t,n),e}(),L=i(3),j=function(e,t){for(var i=e.length,n=new Array(i),r=0;r<e.length;r++)n[r]=e[r];for(var o=i-1;o>=0;o--)for(var a=1;a<=o;a++)if(parseInt(n[a-1].getAttribute(t))>parseInt(n[a].getAttribute(t))){var l=n[a-1];n[a-1]=n[a],n[a]=l}return n};function q(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var E=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.trigger=null!=t.trigger?t.trigger:null,this.container=null!=t.container?t.container:null,this.fieldName=null!=t.fieldName?t.fieldName:null,this.order=null==t.order||t.order,this.attr=[],this._getOrderAttribure(),this.field=null!=this.fieldName?this.attr[this.fieldName]:null,this._updateOrder()}var t,i,n;return t=e,(i=[{key:"_updateOrder",value:function(){var e,t=1;if(this.order||(t=-1),null!=this.container&&(e=$(this.container)),"sortPrice"==this.field||"sortName"==this.field||"sortRatings"==this.field||"dlPosition"==this.field){var i=this.field,n=$(this.trigger,$(this.container)),r=$(this.trigger,$(this.container));switch(this.field){case"sortPrice":this._sortPrice(n,i,t);break;case"sortName":this._sortName(n,i,t);break;case"sortRatings":this._sortRatings(n,i,t);break;case"dlPosition":this._sortStandard(n,i,t)}null!=e&&(r.remove(),e.prepend(n))}}},{key:"_sortPrice",value:function(e,t,i){e.sort((function(e,n){var r=e.querySelector(".product__price");return 0==$(e).data(t)&&r?-1:null==r||null==r?-1:i*($(e).data(t)-$(n).data(t))}))}},{key:"_sortName",value:function(e,t,i){e.sort((function(e,n){var r=$(e).data(t).toUpperCase(),o=$(n).data(t).toUpperCase();return r<o?-1*i:r>o?1*i:0*i}))}},{key:"_sortRatings",value:function(e,t,i){e.sort((function(e,n){return i*(parseInt($(e).data(t))-parseInt($(n).data(t)))}))}},{key:"_sortStandard",value:function(e,t,i){e.sort((function(e,n){return i*($(e).data(t)-$(n).data(t))}))}},{key:"_getOrderAttribure",value:function(){this.attr["data-sort-price"]="sortPrice",this.attr["data-sort-name"]="sortName",this.attr["data-sort-alpha"]="sortName",this.attr["data-sort-std"]="dlPosition",this.attr["data-sort-ratings"]="sortRatings"}}])&&q(t.prototype,i),n&&q(t,n),e}(),P=i(2),O=i(6);function T(e){return function(e){if(Array.isArray(e)){for(var t=0,i=new Array(e.length);t<e.length;t++)i[t]=e[t];return i}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function D(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var F=void 0!==document.querySelector(".js-product-list [data-page-max]")&&null!==document.querySelector(".js-product-list [data-page-max]")?document.querySelector(".js-product-list [data-page-max]").dataset.pageMax:15,x=null!==document.querySelector(".js-product-list")?document.querySelector(".js-product-list").querySelectorAll(".js-product-card"):null,I=null!==document.querySelector(".js-sort-list")?document.querySelector(".js-sort-list").querySelector(".js-sort-item[data-sort-selected]"):null,M=x,R=null!==I?"data-sort-".concat(I.dataset.sortName):null,N=function(){function e(){var t=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.scroll=new P.a;var i=document.querySelector(".js-sort-item[data-sort-selected='true']");if(this.Sort=i&&i.getAttribute("data-sort-name")?"data-sort-".concat(i.getAttribute("data-sort-name")):"",this.direction="asc",a.a.delete("data-selected-products"),M=this.orderList(M),this.simpleLoader=new L.b({}),this.productSort=new m({container:".js-sort-container",modifier:"sort__control--open",trigger:".js-sort-list",modifierTarget:".js-sort-list",itemSelector:".js-sort-item",nameDisplay:"#sort-display"}),this.productPagination=new h.a({container:".js-product-list",itemSelector:".product__card",perPage:F,control:".js-pagination-controls",dataLayerPush:function(e){Object(O.e)(e)}}),this.productPagination._initFromArray(M),this.paginationIndicator=new v.a({container:".js-pagination-controls",displayed:F,maximum:this.productPagination.items.length,maxView:"#load-more-max",displayedView:"#load-more-displayed",indicator:".js-pagination-indicator"}),this.activeFilters=new w({activeContainer:".js-filter-active"}),this.filterDesktop=new b({filterView:".filter-d__container",filter:".js-filter-item",activeFilter:".js-filter-item-active",clearAll:null}),window.innerWidth>1024?this.filterMobile=new k({filterContainer:".grid-3 .filter-mb__container",filterSelector:".js-filter-item-mb"}):this.filterMobile=new k({filterContainer:".grid-9-m .filter-mb__container",filterSelector:".js-filter-item-mb"}),this.countDisplayedProducts(M),this.productListView=new A({container:".js-product-list"}),this.paginationIndicator.maximum==this.paginationIndicator.displayed&&this.productPagination.hideControls(),this.productSort.itemSelector.length>0)for(var n=function(e){var i=t.productSort.itemSelector[e];i.addEventListener("click",(function(e){e.preventDefault();for(var n={name:i.dataset.sortName,label:i.textContent,direction:void 0!==i.dataset.sortDirection?i.dataset.sortDirection:"asc"},r=0;r<t.productSort.itemSelector.length;r++){t.productSort.itemSelector[r].removeAttribute("data-sort-selected")}t.direction=n.direction,i.setAttribute("data-sort-selected","true"),t.setSort(n),t._reinitListDOM(),t.productPagination._reinitArray(M),t.rebuildSortList()}))},r=0;r<this.productSort.itemSelector.length;r++)n(r);this._addClickEvent(),this.loadMoreBtn=document.querySelector(".js-load-products"),this.loadMoreBtn.addEventListener("click",(function(e){e.preventDefault(),t.loadMore()})),null!==document.getElementById("preselected-filter")&&this._initPrefilter()}var t,i,n;return t=e,(i=[{key:"_reinitListDOM",value:function(){M=null!==document.querySelector(".js-product-list")?document.querySelector(".js-product-list").querySelectorAll(".js-product-card"):null}},{key:"loadMore",value:function(){var e=this.productPagination.loadNext(!0),t=e.countDisplay,i=e.displayedAll;this.paginationIndicator.displayed=t,this.paginationIndicator.setDisplayedText(),this.paginationIndicator.updateIndicator(),i?(this.productPagination.hideControls(),this.productPagination.container.classList.add("full")):this.productPagination.container.classList.remove("full")}},{key:"isotopeReOrder",value:function(e){var t=!0;"desc"==this.direction.toLowerCase()&&(t=!1),this.sortList=new E({trigger:".product__card",container:".js-product-list",fieldName:e,order:t})}},{key:"rebuildSortList",value:function(){this.productPagination.rebuildSortList()}},{key:"setSort",value:function(e){var t=this;this.simpleLoader.showLoader(),this.productSort.updateDisplay(e);var i=e.name,n="data-sort-".concat(i);e=n,this.isotopeReOrder(n),setTimeout((function(){t.simpleLoader.hideLoader()}),200)}},{key:"_addClickEvent",value:function(){this.filterDesktop_ClickListener(),this.filterMobile_ClickListener()}},{key:"generateFilterString",value:function(){for(var e=u.allFilters(),t=[],i=0;i<e.length;i++){var n=e[i],r=n.item,o=(n.condition,n.category),a="".concat("data-selected-").concat(o);if(r.length<1)t.push("[".concat(a,'="').concat(r[0].name,'"]'));else for(var l="",c=0;c<r.length;c++){var s=r[c];l+=s.name,t.push("[".concat(a,'="').concat(s.name,'"]')),c>0&&t.push("[".concat(a,'="').concat(l,'"]')),c+1!==r.length&&(l+=",")}}return t}},{key:"generateDataSelector",value:function(){for(var e=u.allFilters(),t=[],i=0;i<e.length;i++){var n=e[i].category,o="".concat("data-selected-").concat(r.a.cleanFilterCategory(n));t.push(o)}return t}},{key:"filterDesktop_ClickListener",value:function(){var e=this,t=this.filterDesktop,i=t.filterView,n=t.filterSelector,r=null!==n&&i&&i.querySelectorAll(n).length>0?i.querySelectorAll(n):null;if(null!==r)for(var o=function(t){var i=r[t];i.addEventListener("click",(function(t){t.preventDefault();//! real user event has property e.isTrusted = true
var n=e.filterDesktop.addFilter(i);if(n.success){e.activeFilters.addActiveFilter(n.filter,e.getAnalyticsClass(i)),e.triggerAddMobile(n.filter),e.addfilterActive_ClickListener(n.filter);var r=document.querySelector(".product-list__container");e.scroll.scrollTop(r,"fast")}}))},a=0;a<r.length;a++)o(a);else console.log("%cERR-PF: ".concat(n," is absent from DOM"),"color: red")}},{key:"filterMobile_ClickListener",value:function(){var e=this,t=this.filterMobile.filterSelector;if(null!=t)for(var i=function(i){var n=t[i];n.addEventListener("click",(function(t){t.preventDefault();var i=e.filterMobile.addFilter(n);i.success&&(e.activeFilters.addActiveFilter(i.filter,e.getAnalyticsClass(n)),e.triggerAddDesktop(i.filter),e.addfilterActive_ClickListener(i.filter))}))},n=0;n<t.length;n++)i(n)}},{key:"getAnalyticsClass",value:function(e){for(var t="",i=$(e).attr("class")?$(e).attr("class").split(" "):[],n=0;n<i.length;n++)if(i[n].startsWith("js-analytics-")){void 0!==jsonAnalytics[i[n]]&&(t=i[n]);break}return t}},{key:"_initPrefilter",value:function(){for(var e=null!==document.getElementById("preselected-filter")?document.getElementById("preselected-filter").value:null,t=e?e.split(","):[],i=0;i<t.length;i++){var n=r.a.trim(t[i]),o=document.querySelector('.filter-d__container span[data-filter-name="'.concat(n,'"]')),a=document.querySelector('.filter-mb__container span[data-filter-name="'.concat(n,'"]')),l=null,c=null;o&&(l=this.filterDesktop.addFilter(o)),a&&(c=this.filterMobile.addFilter(a)),l&&l.success&&(this.activeFilters.addActiveFilter(l.filter,this.getAnalyticsClass(o)),this.triggerAddMobile(c.filter)),c&&c.success&&(this.activeFilters.addActiveFilter(c.filter,this.getAnalyticsClass(a)),this.triggerAddMobile(c.filter))}if(e){var s=document.querySelector(".product-list__container");this.scroll.scrollTop(s,"fast")}}},{key:"addfilterActive_ClickListener",value:function(e){var t=this,i=this.activeFilters.findActiveFilter(e);i.addEventListener("click",(function(n){n.preventDefault(),t.removeActiveFilter(i,e),t.isotopeReOrder(t.Sort)})),this.updateView()}},{key:"addprefilterActive_ClickListener",value:function(e){var t=this,i=this.activeFilters.findActiveFilter(e);i.addEventListener("click",(function(n){n.preventDefault(),t.removeActiveFilter(i,e),t.isotopeReOrder(t.Sort)}))}},{key:"removeActiveFilter",value:function(e,t){var i=u.remove(t),n=u.filters;i.success?(e.remove(),this.filterDesktop.toggleFilterDisplay(t,-1),this.filterMobile.toggleFilterDisplay(t),this.activeFilters.toggleActiveFilters(),this.triggerRemoveMobile(t),this.updateView(),0==n.length&&(M=[],M=this.orderList(x),this.rebuildList(M))):console.log("%cERR-PF: REMOVING ACTIVE FILTER FAILED","color: red")}},{key:"triggerAddDesktop",value:function(e){var t=e.category,i=e.name,n=this.filterDesktop.filterView?this.filterDesktop.filterView.querySelector('[data-filter-category="'.concat(t,'"] span[data-filter-name="').concat(i,'"]')):null;null!==n&&""==n.style.cssText&&n.click()}},{key:"triggerAddMobile",value:function(e){var t=e.name,i=(e.label,e.category),n=this.filterMobile,r=n.filterContainer,o=n.activeClass,a=null!==r?r.querySelector('.filter-mb__title[data-filter-category="'.concat(i,'"]')):null,l=null==a?void 0:a.querySelector('span[data-filter-name="'.concat(t,'"]')),c=null==a?void 0:a.querySelector(o),s=this.filterMobile.addFilterToDOM(e);null===c&&((c=document.createElement("div")).classList.add("filter-mb__active"),a.appendChild(c)),null===l&&c.appendChild(s)}},{key:"triggerRemoveMobile",value:function(e){var t=e.category,i=e.condition,n=e.name,r=this.filterMobile.filterContainer.querySelector('.js-filter-accordion[data-filter-category="'.concat(t,'"][data-filter-condition="').concat(i,'"] .filter-mb__active')),o=null!==r?r.querySelector('span[data-filter-name="'.concat(n,'"]')):null;null!==o&&o.remove(),null!==r&&0===r.childElementCount&&r.remove()}},{key:"eligibleProductDOM",value:function(e){var t=[];if(null!==e||void 0!==e)for(var i=0;i<e.length;i++)for(var n="[".concat(e[i],"]"),r=this.productListView.findProduct(n),a=0;a<r.length;a++){var l=r[a];o.a.includes(l,t)||t.push(l)}return t}},{key:"updateProductsToDisplay",value:function(e){this.productListView.hideAll();for(var t=e,i=u.getFilterItemsByCat(),n=[],r=0;r<t.length;r++){for(var o=t[r],a=!1,l=0,c=!0;1==c&&l<i.length;){var s=i[l],d=s.category,f=s.name,h=o.dataset[d],v=0;if(null!=h&&1==c)for(;1==c&&v<f.length;){var p=f[v];c=!!this.compareFilters(p.toLowerCase(),h.toLowerCase()),v++}else c=!1;l++}1==c&&(a=!0),1==a&&n.push(o)}M=[],M=this.orderList(n),this.rebuildList(M)}},{key:"rebuildList",value:function(e){e.length>0?(this.productListView.displayProducts(e),this.productPagination._initFromArray(e),e.length<=F?(this.productPagination.hideControls(),this.productPagination.container.classList.add("full")):(this.productPagination.showControls(),this.productPagination.container.classList.remove("full")),this.paginationIndicator.displayed=this.productPagination.displayed,this.paginationIndicator.maximum=e.length,this.paginationIndicator.updateIndicator(),this.countDisplayedProducts(e)):(this.paginationIndicator.displayed=F,this.paginationIndicator.maximum=e.length,this.productPagination.hideControls(),this.paginationIndicator.updateIndicator(),this.filterDesktop.countDisplayedProducts(e))}},{key:"updateView",value:function(){var e=this.generateDataSelector(),t=this.eligibleProductDOM(e);this.updateProductsToDisplay(t)}//! NEED OPTIMIZATION TO MUCH LOOPS
},{key:"countDisplayedProducts",value:function(e){var t=this,i=this.filterDesktop.getAllFilterNames(),n=document.querySelectorAll(".js-filter-category[data-filter-category]");if(n.length<1){var r=document.querySelectorAll(".grid-3 .js-filter-accordion[data-filter-category]"),o=this.filterMobile.getAllFilterNames();T(r).map((function(i,n){var r=i.getAttribute("data-filter-category"),a="selected".concat(r.charAt(0).toUpperCase()+r.slice(1));t._calcFilterCount(n,o[n].items,a,e,o)}))}else T(n).map((function(n,r){var o=n.getAttribute("data-filter-category"),a="selected".concat(o.charAt(0).toUpperCase()+o.slice(1));t._calcFilterCount(r,i[r].items,a,e,i)}))}},{key:"_calcFilterCount",value:function(e,t,i,n,r){for(var o=0;o<t.length;o++){for(var a=t[o],l=0,c=0;c<n.length;c++){var s=n[c].dataset[i];null!=s&&(s=s.toLowerCase(),this.compareFilters(a.toLowerCase(),s.toLowerCase())&&l++)}var u={filter:new f({category:r[e].category,condition:r[e].condition,name:a}),count:l};this.filterDesktop.updateFilterCount(u.filter,u.count),this.filterMobile.updateFilterCount(u.filter,u.count)}}},{key:"compareFilters",value:function(e,t){try{if(t&&e&&(0==t.indexOf(e)||","==t[t.indexOf(e)-1]))return!0}catch(t){console.error(t),console.error(e)}return!1}},{key:"orderList",value:function(e){for(var t=e,i=R,n=(new Array(t.length),0);n<t.length;n++)t[n].getAttribute(i);return j(t,i)}}])&&D(t.prototype,i),n&&D(t,n),e}();var V=function e(t){var i=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.tab=$(t.tab)||null,this.tab&&this.tab.on("click",(function(e){e.preventDefault(),e.stopImmediatePropagation(),$(t.tabContent).removeClass("active"),i.tab.removeClass("active");var n=$([t.tab,"[data-content='"+e.target.getAttribute("data-content")+"']"].join("")),r=$([t.tabContent,"#"+e.target.getAttribute("data-content")].join(""));r&&(r.addClass("active"),n.addClass("active"))})),$(".product__carousel").length>0&&$(".product__carousel").find(".product__head.product__out-of-stock").length>0&&($(".to-cart__control").addClass("disable"),$(".to-cart__control").unbind())},H=i(21),B=i(13),U=i(11);function W(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var Y={addProduct:O.d,updateCartItem:O.g},G=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.container=document.querySelector(".js-voucher-form"),this.data={cartId:"",quantity:1,giftCardInformation:{}};var t=this.container?this.container.querySelector("[data-sc-field-name='Amount']"):null;this.attributeRequired=t?t.getAttribute("data-val-required"):null,this.keymap={Name:"senderName",Recipient:"recipientName",Email:"senderMail","Confirm Email":"emailConfirmation",Message:"message",price_option:"giftCardAmount"},this.pageLoader=new L.b({container:".js-loader"}),this.container&&(this.language=this.container.getAttribute("data-lang"),this.currency=this.container.getAttribute("data-currency"),this._init()),document.querySelector('input[type="radio"]')&&this._initRadioButtons()}var t,i,n;return t=e,(i=[{key:"_init",value:function(){this._initPositions(),this._initRadioButtons(),this._initInputs()}},{key:"_initInputs",value:function(){for(var e=this,t=this.container?document.querySelector(".form-input__button.voucher-form"):null,i=$(".form-input__button.voucher-form"),n=this.container.querySelectorAll("input.js-form-input"),r=this.container.querySelectorAll("textarea"),o=this.container.querySelector("input[type='radio'][value='Special']"),a=this.container.querySelector("[data-sc-field-name='Amount']"),l=this.container.querySelector("[data-sc-field-name='Confirm Email']"),c=(this.container.querySelector("[data-sc-field-name='Email']"),this.container.querySelector("form")),s=document.querySelectorAll(".to-cart__main-content .to-cart__title"),u=document.querySelector(".to-cart__subtitle"),d=0;d<s.length;d++)s[d].remove();u&&u.remove(),document.querySelector(".to-cart__control .js-stepper-input")&&(this.data.itemId=document.querySelector(".to-cart__control .js-stepper-input").getAttribute("data-item-id")),n=[].concat([].slice.call(n,0),[].slice.call(this.container.querySelectorAll("input[type='radio']"),0)),l&&l.setAttribute("disabled","true"),o&&o.checked?a&&(a.setAttribute("data-val-required",this.attributeRequired),a.parentElement.style.display="block"):(a&&(a.removeAttribute("data-val-required"),a.parentElement.style.display="none",a.parentElement.classList.remove("notvalid")),t&&t.classList.remove("notvalid")),null==n&&null==n||[].forEach.call(n,(function(i){i.addEventListener("change",(function(n){var r=i.value,o=i.getAttribute("data-sc-field-name");"Amount"==o?e.data.giftCardInformation.giftCardAmount=r:e.data.giftCardInformation[e.keymap[o]]=r,"Email"==o&&l&&(r.length>0?l.removeAttribute("disabled"):(l.parentElement.classList.remove("notvalid"),l.value="",l.setAttribute("disabled","true"))),a&&"price_option"==o&&("special"===r.toLowerCase()?(e.data[e.keymap[o]]=a.value,a.setAttribute("data-val-required",e.attributeRequired),a.parentElement.style.display="block"):(a.removeAttribute("data-val-required"),a.parentElement.style.display="none",a.parentElement.classList.remove("notvalid"),t.classList.remove("notvalid")))}))})),null==r&&null==r||[].forEach.call(r,(function(t){t.addEventListener("change",(function(){var i=t.value,n=t.getAttribute("data-sc-field-name");e.data.giftCardInformation[e.keymap[n]]=i}))})),c&&c.addEventListener("reset",(function(t){a&&(a.setAttribute("data-val-required",e.attributeRequired),a.style.display="block")})),t&&t.addEventListener("click",(function(n){n.preventDefault(),void 0!==t.getAttribute("disabled")&&null!==t.getAttribute("disabled")||(t.setAttribute("disabled","true"),e._handleSubmit(n,t,i))}))}},{key:"_initRadioButtons",value:function(){for(var e=this,t=document.querySelectorAll('.custom-gift-radio__container input[type="radio"]'),i=function(i){var n=t[i],r=n.parentNode;if(n.value-1>0&&r){var o=new Intl.NumberFormat("".concat(e.language),{style:"currency",currency:"".concat(e.currency)}).format(n.value);r.childNodes[r.childNodes.length-1].replaceWith(o)}n.checked&&e._handleRadioChecked(n),n.addEventListener("focus",(function(t){e._handleRadioChecked(n)}))},n=0;n<t.length;n++)i(n)}},{key:"_initPositions",value:function(){var e=document.querySelector(".to-cart__container");e&&this.container.appendChild(e)}},{key:"_handleRadioChecked",value:function(e){var t=e.parentNode,i=e.getAttribute("name"),n=document.querySelectorAll('input[type="radio"][name="'.concat(i,'"]')),r=document.querySelector('.custom-gift-radio__container input[checked="true"]');r&&(r.setAttribute("checked","false"),e.setAttribute("checked","true"));for(var o=0;o<n.length;o++)n[o].parentNode.classList.remove("checked");t.classList.add("checked")}},{key:"_handleSubmit",value:function(e,t,i){var n=this;e.preventDefault(),this.data.quantity=document.querySelector(".to-cart__control .js-stepper-input").value;var r={cache:!1,url:"/api/cart/guest/gift-card",method:"POST",data:{data:JSON.stringify(this.data)},dataType:"json"},o=B.a;this.pageLoader.showLoader(),$.ajax(r).success((function(e,i){var r=$(".in-cart__product");e.success&&(Y.addProduct(t),Y.updateCartItem(e),r.html(e.result.toString()),null!==$(".js-product-added")&&($(".js-header-md-hamburger")&&setTimeout((function(){$(".js-header-md-hamburger").trigger("click")}),30),o.showOrHideAddedProduct(),Object(U.a)(),setTimeout((function(){o.showOrHideAddedProduct()}),3e3)),n.container.querySelector("form").reset()),n.pageLoader.hideLoader(),t.removeAttribute("disabled")})).error((function(e){n.pageLoader.hideLoader(),t.removeAttribute("disabled")}))}}])&&W(t.prototype,i),n&&W(t,n),e}(),z=i(7),J=i(23);function K(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var Q=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.containers=document.querySelectorAll(t.container),this.inputSelector=t.input,this.displaySelector=t.display,this._init()}var t,i,n;return t=e,(i=[{key:"_init",value:function(){this.initInputEvent()}},{key:"initInputEvent",value:function(){for(var e=this,t=function(t){var i=e.containers[t],n=i.querySelector(e.inputSelector),r=i.querySelector(e.displaySelector),o=new J.a({display:r,limit:n.getAttribute("maxlength")});null!==n&&n.addEventListener("input",(function(e){e.preventDefault();var t=n.value.length;o.updateRemainingChar(t)}))},i=0;i<this.containers.length;i++)t(i)}}])&&K(t.prototype,i),n&&K(t,n),e}();function X(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var Z=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.container=document.querySelector(t.container),this.formContainer=null!=this.container?this.container.querySelector("form".concat(t.formClass)):null,this.submitBtn=null!=this.formContainer?this.formContainer.querySelector('input[type="submit"]'):null,this.cancelBtn=null!=this.formContainer?this.formContainer.querySelector(".js-cancel-form"):null,this.inputs=null!=this.formContainer?this.formContainer.querySelectorAll('input[type]:not([type="submit"]),textarea'):null,this.currentPopup=t.current,this.nextPopup=t.next,this.loader=new L.b({}),this._init()}var t,i,n;return t=e,(i=[{key:"_init",value:function(){this.initSubmit(),this.initCancel()}},{key:"initSubmit",value:function(){var e=this;null!==this.submitBtn&&this.submitBtn.addEventListener("click",(function(t){var i=e.getFormData(e.inputs),n=e.formContainer.querySelector(".review-url-post")?e.formContainer.querySelector(".review-url-post").value:null;e.sendData(i,n)}))}},{key:"sendData",value:function(e,t){var i=this,n={};n.StreamId=document.querySelector(".review-stream-id")?document.querySelector(".review-stream-id").value:null,n.Origin=window.location.origin,n.Privacy=1;for(var r=0;r<e.length;r++){var o=e[r];n[o.name]=o.value}var a={ProfileID:"rebranding-review",Locale:this.formContainer.querySelector(".review-url-post-site")?this.formContainer.querySelector(".review-url-post-site").value:null,Data:n},l={cache:!1,url:t,method:"POST",contentType:"application/json",dataType:"json",accepts:"json",data:JSON.stringify(a)};this.loader.showLoader(),$.ajax(l).always((function(e,t,n){200==n.status&&e.IsSuccessful&&(i.currentPopup.closeOverlay(),i.loader.hideLoader(),i.nextPopup.openOverlay())}))}},{key:"initCancel",value:function(){var e=this;null!==this.cancelBtn&&this.cancelBtn.addEventListener("click",(function(t){e.currentPopup.closeOverlay()}))}},{key:"getFormData",value:function(e){for(var t=[],i=0;i<e.length;i++){var n=e[i],r=n.getAttribute("name")?n.getAttribute("name"):n.getAttribute("id");if(!n.classList.contains("js-reset-exception"))switch(n.getAttribute("type")){case"text":t.push({name:r,value:n.value});break;case"checkbox":var o=!0===n.checked?1:0;t.push({name:r,value:o});break;case"radio":n.checked&&t.push({name:r,value:n.value});break;default:t.push({name:r,value:n.value})}}return t}}])&&X(t.prototype,i),n&&X(t,n),e}(),ee=void 0!==document.querySelector("#review-section [data-page-max]")&&null!==document.querySelector("#review-section [data-page-max]")?document.querySelector("#review-section [data-page-max]").dataset.pageMax:15;document.addEventListener("DOMContentLoaded",(function(e){null!==document.querySelector(".product-list")&&(new n.a({container:".js-accordion",trigger:".js-filter-accordion",content:".js-filter-accordion-content",icon:".js-filter-accordion-icon",iconModifier:"filter-mb__icon--open",contentModifier:"filter-mb__content--open"}),new N),null!==document.querySelector(".product-details")&&function(){new V({tab:".js-tab",tabContent:".js-tab-content"}),new H.a({container:".js-review",reviewItem:".js-review-item"}),$(".js-product-carousel").slick({slidesToShow:1,slidesToScroll:1,arrows:!1,dots:!0,infinite:!1}),new n.a({container:".js-product-accordion",trigger:".js-product-accordion-trigger",content:".js-product-accordion-content",multipleContent:".js-product-accordion-multiple-content",icon:".js-product-accordion-icon",iconModifier:"product-accordion-icon--inverted",contentModifier:"product-accordion--opened",multipleContentModifier:"product-accordion--opened"});var e=new z.a({container:"section.js-overlay",selector:"#review-form",trigger:".js-review-form",close:"#review-form .overlay__close"}),t=new z.a({container:"section.js-overlay",selector:"#review-thank-you",trigger:".js-show-thankyou-overlay",close:"#review-thank-you .js-overlay-close"}),i=(new Z({container:"#review-form",formClass:".js-form",current:e,next:t}),new h.a({container:".js-review-list",itemSelector:".js-review-card",perPage:ee,control:".product-reviews__container .js-loadmore-review",initClick:!0,displayStyle:"block"})),r=document.querySelectorAll(".js-review-card");i._initFromArray(r),new Q({container:".js-form-remaining",input:".js-input-remaining",display:".js-remaining"}),new G}(),new H.a({container:".js-review",reviewItem:".js-review-item"})}))}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vLy4vc3JjL1NDUklQVFMvdXRpbHMvc3RyaW5nLXV0aWxzLmpzIiwid2VicGFjazovLy8uL3NyYy9TQ1JJUFRTL3V0aWxzL2FuYWx5dGljcy9kYXRhbGF5ZXIuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL1NDUklQVFMvdXRpbHMvZG9jdW1lbnRTY3JvbGwuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL1NDUklQVFMvdmlldy9jb21wb25lbnRzL3NpbXBsZS1sb2FkZXIuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL1NDUklQVFMvdXRpbHMvY29va2llLXV0aWxzLmpzIiwid2VicGFjazovLy8uL3NyYy9TQ1JJUFRTL21vZGVsL2FuYWx5dGljcy90cmFuc2FjdGlvbkFjdGlvbkZpZWxkLmpzIiwid2VicGFjazovLy8uL3NyYy9TQ1JJUFRTL21vZGVsL2FuYWx5dGljcy9jaGVja291dEFjdGlvbkZpZWxkLmpzIiwid2VicGFjazovLy8uL3NyYy9TQ1JJUFRTL3V0aWxzL29iai11dGlscy5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvU0NSSVBUUy91dGlscy9hbmFseXRpY3MvZW5oYW5jZWQtZWNvbS5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvU0NSSVBUUy92aWV3L2NvbXBvbmVudHMvcG9wdXAuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL1NDUklQVFMvbW9kZWwvZS1jb21tZXJjZS9wcm9kdWN0LWVuZHBvaW50cy5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvU0NSSVBUUy91dGlscy9hcnJheS11dGlscy5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvU0NSSVBUUy9jb250cm9sbGVyL2xhenlsb2FkSW1hZ2UuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL1NDUklQVFMvdmlldy9jb21wb25lbnRzL2FjY29yZGlvbi5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvU0NSSVBUUy92aWV3L2FjY29yZGlvbi1mYWN0b3J5LmpzIiwid2VicGFjazovLy8uL3NyYy9TQ1JJUFRTL2NvbnRyb2xsZXIvY2FydC1jaGVja291dC9hZGQtdG8tY2FydC5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvU0NSSVBUUy92aWV3L2NvbXBvbmVudHMvcGFnaW5hdGlvbi5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvU0NSSVBUUy92aWV3L2NvbXBvbmVudHMvcHJvZHVjdC1yZXZpZXcuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL1NDUklQVFMvY29udHJvbGxlci9wcm9kdWN0LWRldGFpbHMvcmV2aWV3LXN0YXJzLmpzIiwid2VicGFjazovLy8uL3NyYy9TQ1JJUFRTL3ZpZXcvY29tcG9uZW50cy9wYWdpbmF0aW9uLWluZGljYXRvci5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvU0NSSVBUUy92aWV3L2NvbXBvbmVudHMvcmVtYWluaW5nLWNoYXIuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL1NDUklQVFMvbW9kZWwvZS1jb21tZXJjZS9maWx0ZXItc2V0dGluZy5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvU0NSSVBUUy9tb2RlbC9lLWNvbW1lcmNlL2ZpbHRlci5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvU0NSSVBUUy92aWV3L2NvbXBvbmVudHMvc29ydC5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvU0NSSVBUUy92aWV3L2UtY29tbWVyY2Uvdi1wcm9kdWN0LWZpbHRlci1kZXNrdG9wLmpzIiwid2VicGFjazovLy8uL3NyYy9TQ1JJUFRTL3ZpZXcvZS1jb21tZXJjZS92LXByb2R1Y3QtZmlsdGVyLW1vYmlsZS5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvU0NSSVBUUy92aWV3L2UtY29tbWVyY2Uvdi1wcm9kdWN0LWZpbHRlci1hY3RpdmUuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL1NDUklQVFMvdmlldy9lLWNvbW1lcmNlL3YtcHJvZHVjdC1saXN0LmpzIiwid2VicGFjazovLy8uL3NyYy9TQ1JJUFRTL3V0aWxzL3NvcnQtdXRpbHMuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL1NDUklQVFMvY29udHJvbGxlci9wcm9kdWN0LWxpc3Qvc29ydC1saXN0LmpzIiwid2VicGFjazovLy8uL3NyYy9TQ1JJUFRTL2NvbnRyb2xsZXIvcHJvZHVjdC1saXN0L3Byb2R1Y3QtbGlzdC5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvU0NSSVBUUy92aWV3L2UtY29tbWVyY2Uvdi1wcm9kdWN0LWRldGFpbC5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvU0NSSVBUUy9jb250cm9sbGVyL3ZvdWNoZXItZm9ybS92b3VjaGVyLWZvcm0uanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL1NDUklQVFMvdmlldy9jb21wb25lbnRzL2lucHV0LXctbGVuZ3RoLmpzIiwid2VicGFjazovLy8uL3NyYy9TQ1JJUFRTL2NvbnRyb2xsZXIvcHJvZHVjdC1kZXRhaWxzL3Jldmlldy1mb3JtLmpzIiwid2VicGFjazovLy8uL3NyYy9TQ1JJUFRTL2NvbnRyb2xsZXIvcHJvZHVjdC1kZXRhaWxzL3Byb2R1Y3QtZGV0YWlsLmpzIiwid2VicGFjazovLy8uL3NyYy9TQ1JJUFRTL2FwcC9wcm9kdWN0cy5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvU0NSSVBUUy9jb250cm9sbGVyL3Byb2R1Y3QtbGlzdC9pbmRleC5qcyJdLCJuYW1lcyI6WyJpbnN0YWxsZWRNb2R1bGVzIiwiX193ZWJwYWNrX3JlcXVpcmVfXyIsIm1vZHVsZUlkIiwiZXhwb3J0cyIsIm1vZHVsZSIsImkiLCJsIiwibW9kdWxlcyIsImNhbGwiLCJtIiwiYyIsImQiLCJuYW1lIiwiZ2V0dGVyIiwibyIsIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwiZW51bWVyYWJsZSIsImdldCIsInIiLCJTeW1ib2wiLCJ0b1N0cmluZ1RhZyIsInZhbHVlIiwidCIsIm1vZGUiLCJfX2VzTW9kdWxlIiwibnMiLCJjcmVhdGUiLCJrZXkiLCJiaW5kIiwibiIsIm9iamVjdCIsInByb3BlcnR5IiwicHJvdG90eXBlIiwiaGFzT3duUHJvcGVydHkiLCJwIiwicyIsInNwZWNpYWxDaGFyYWN0ZXJzIiwiU3RyaW5nVXRpbHMiLCJ0cmltIiwic3RyaW5nIiwicmVwbGFjZSIsInRvUmVwbGFjZSIsInJlcGxhY2VXaXRoIiwicmVwbGFjZVNwZWNpYWxDaGFyIiwibmV3U3RyaW5nIiwibGVuZ3RoIiwiY2hhciIsImNsZWFuRmlsdGVyQ2F0ZWdvcnkiLCJ0b0xvd2VyQ2FzZSIsInRvRGF0YVNlbGVjdG9yIiwiZmlyc3RDaGFyIiwidG9VcHBlckNhc2UiLCJmaW5kQ2hhciIsInNwZWNpYWxJbmRleCIsImluZGV4T2YiLCJuZXh0Q2hhckluZGV4IiwibmV4dENoYXIiLCJzbGljZSIsImUiLCJjb25zb2xlIiwiZXJyb3IiLCJ0ZXN0UmVnZXgiLCJyZWdleCIsInZhbGlkIiwiUmVnRXhwIiwidGVzdCIsIl9ETCIsInB1c2giLCJldmVudCIsImNhdGVnb3J5IiwiYWN0aW9uIiwibGFiZWwiLCJkb2N1bWVudCIsInRpdGxlIiwiY3VzdG9tRXZlbnQiLCJkYXRhIiwid2luZG93IiwiZGF0YUxheWVyIiwiZ2V0SW1wcmVzc2lvbnMiLCJlY29tbWVyY2UiLCJpbXByZXNzaW9ucyIsImV4Iiwic2Nyb2xsIiwidGhpcyIsImlzU2Nyb2xsaW5nIiwicXVlcnlTZWxlY3RvciIsInN0eWxlIiwib3ZlcmZsb3ciLCJzZWN0aW9uIiwiZHVyYXRpb24iLCJvZmZzZXQiLCJzY3JvbGxQb3N0aW9uIiwiJCIsInRvcCIsIiRwYWdlIiwib24iLCJzdG9wIiwiYW5pbWF0ZSIsInNjcm9sbFRvcCIsIm9mZiIsInNpbXBsZUxvYWRlciIsIm9wdGlvbnMiLCJkaXNwbGF5IiwiY29udGFpbmVyIiwibG9hZGVyU2VsZWN0b3IiLCJsb2FkZXIiLCJkaXNhYmxlU2Nyb2xsIiwiZW5hYmxlU2Nyb2xsIiwicmVtb3ZlQXR0cmlidXRlIiwiY2xhc3NlIiwiY2xhc3NMaXN0IiwiYWRkIiwicmVtb3ZlIiwiR2xvYmFsTG9hZGVyIiwiQ29va2llVXRpbHMiLCJleHBpcnkiLCJ0b2RheSIsIkRhdGUiLCJleHBpcnlEYXRlIiwic2V0RGF0ZSIsImdldERhdGUiLCJjb29raWUiLCJkZWxldGUiLCJtYXRjaHMiLCJtYXRjaCIsImdldE9iamVjdCIsImNvbnRlbnQiLCJjb250ZW50VGFiIiwic3BsaXQiLCJyZXNwb25zZSIsImNvbnRUYWIiLCJUcmFuc2FjdGlvbkFjdGlvbiIsImlkIiwiYWZmaWxpYXRpb24iLCJyZXZlbnVlIiwidGF4Iiwic2hpcHBpbmciLCJjb3Vwb24iLCJDaGVja291dEFjdGlvbiIsInN0ZXAiLCJvcHQiLCJvcHRpb24iLCJPQkpVdGlscyIsIm9iaiIsIm91dHB1dCIsIm1hcCIsImFyck9iaktleSIsImtleXMiLCJ0ZW1wT2JqIiwiaW5kZXgiLCJ1bmRlZmluZWQiLCJfU0VMIiwiY2FyZCIsImRldGFpbHMiLCJtaW5pQ2FydCIsImNhcnRQYWdlIiwiZ3Vlc3QiLCJfUFJPRCIsIkVFX0dBIiwiaW5pdCIsIl9pbml0UHJvZHVjdENsaWNrIiwiX2luaXRDaGVja291dCIsIl9pbml0UHJvZHVjdERldGFpbHMiLCJwcm9kdWN0Q1RBcyIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJ4IiwicHJvZHVjdCIsImFkZEV2ZW50TGlzdGVuZXIiLCJwcm9jZXNzUHJvZHVjdENsaWNrIiwibWluaUNoZWNrb3V0IiwiY2FydENoZWNrb3V0IiwiZ3Vlc3RDaGVja291dCIsImdldEF0dHJpYnV0ZSIsInByb2Nlc3NDaGVja291dEV2ZW50IiwiZWNvbW1lcmNlVkFSIiwiZWNvbW1lcmNlRGV0YWlscyIsImFuYWx5dGljc0RhdGEiLCJkZXRhaWwiLCJhY3Rpb25GaWVsZCIsImxpc3QiLCJwcm9kdWN0cyIsImd0aW4iLCJwcmljZSIsImJyYW5kIiwidmFyaWFudCIsImJ0biIsInJlZGlyZWN0aW9uTGluayIsInByZXZlbnREZWZhdWx0IiwiQ2hlY2tvdXRDbGljayIsImxvY2F0aW9uIiwiaHJlZiIsImN0YSIsImN1cnJlbnRQb3JkdWN0IiwicG9wdWxhdGVQcm9kdWN0Iiwic2VydmVyTmFtZSIsImNsaWNrIiwiZXZlbnRDYWxsYmFjayIsImNoZWNrb3V0Q2xpY2siLCJjaGVja291dFZBUiIsImNoZWNrb3V0IiwiY3VycmVudEFjdGlvbiIsIm9wdGlvbmFsQ2hlY2tvdXQiLCJTZXRPcHRpb24iLCJjaGVja291dE9wdGlvbiIsImxvZyIsImNoZWNrb3V0X29wdGlvbiIsIlRyYW5zYWN0aW9uUHVzaCIsIkRPTV9EQVRBIiwicHVyY2hhc2UiLCJ0cmFuc2FjdGlvbiIsImZpZWxkcyIsInN0b3JlIiwiZGlzY291bnQiLCJ1cGRhdGVDYXJ0SXRlbSIsInByb2R1Y3RFY29tTGF5ZXIiLCJhbmFseXRpY3NJbmZvIiwiZVByb2R1Y3RzIiwicHJvZHVjdFN0cmluZyIsInNrdSIsImpvaW4iLCJjYXJ0X2l0ZW1zIiwiY2FydEluZm8iLCJvcmRlcklkIiwiZmluZCIsImF0dHIiLCJhZGRQcm9kdWN0IiwiZWxlbWVudCIsInF1YW50aXR5Iiwic2x1ZyIsInN0ZXBwZXJDb250YWluZXIiLCJwYXJlbnROb2RlIiwiaW5wdXQiLCJxdHkiLCJwcm9kdWN0RE9NIiwiY2xvc2VzdCIsImFkZEFuYWx5dGljcyIsImN1cnJlbmN5Q29kZSIsInJlbW92ZVByb2R1Y3QiLCJyZW1vdmVBbmFseXRpY3MiLCJwcm9kdWN0SW1wcmVzc2lvbiIsImVJbXByZXNzaW9ucyIsInBvc2l0aW9uIiwicHJvZHVjdEFuY2hvciIsImVjb21JbmZvIiwicG9wdXAiLCJvbkNsb3NlIiwib3ZlcmxheSIsInNlbGVjdG9yIiwiY29udGFpbmVyTW9kaWZpZXIiLCJ0aW1lb3V0IiwidHJpZ2dlciIsImNsb3NlIiwiY29udGFpbnNGb3JtIiwic2V0VGltZW91dCIsIm9wZW5PdmVybGF5IiwiY2xvc2VPdmVybGF5IiwidGFyZ2V0IiwiY3NzVGV4dCIsInJlc2V0Rm9ybSIsImZvcm0iLCJpbnB1dHMiLCJ0eXBlIiwiY29udGFpbnMiLCJkaXNwYXRjaEV2ZW50IiwiRXZlbnQiLCJyZXZpZXdJdGVtcyIsImoiLCJjaGVja2VkIiwicGFyZW50RWxlbWVudCIsImFkZFRvQ2FydCIsInBheW1lbnQiLCJyZXZpZXciLCJ1cGRhdGVJdGVtIiwicmVtb3ZlSXRlbSIsInBsYWNlT3JkZXIiLCJBcnJheVV0aWxzIiwiaW5jbHVkZXMiLCJpdGVtIiwiYXJyYXkiLCJmaWx0ZXIiLCJhcnIiLCJjb25kaXRpb24iLCJpdGVtcyIsImF0dHJpYnV0ZSIsImNsYXNzRXhjZXB0aW9uRE9NIiwibGlua3MiLCJsaW5rIiwiZHluYW1pY1NvcnQiLCJzb3J0T3JkZXIiLCJzdWJzdHIiLCJhIiwiYiIsImxhenlMb2FkSW1hZ2UiLCJpbWFnZXMiLCJzb3VyY2VzIiwiaW1nIiwic291cmNlIiwiYWNjb3JkaW9uIiwiRXhwYW5kZWQiLCJpY29uIiwiaWNvbk1vZGlmaWVyIiwiY29udGVudE1vZGlmaWVyIiwibXVsdGlwbGVUcmlnZ2VyIiwibXVsdGlwbGVDb250ZW50IiwibXVsdGlwbGVDb250ZW50TW9kaWZpZXIiLCJvbk9wZW4iLCJ0b2dnbGVBY2NvcmRpb24iLCJjbG9zZUFjY29yZGlvbiIsIm9wZW5BY2NvcmRpb24iLCJhY2NvcmRpb25GYWN0b3J5IiwiY3JlYXRlQWNjb3JkaW9uIiwib3V0ZXJXaWR0aCIsIlVSTF9BREQiLCJfRUNPTSIsIl9JTUciLCJfQUREX0NBUlQiLCJTaW1wbGVMb2FkZXIiLCJfaW5pdFByb2R1Y3REZXRhaWxBZGRUb0NhcnQiLCJfaW5pdFNpbXBsZUFkZFRvQ2FydCIsImFkZENsYXNzIiwicmVtb3ZlQ2xhc3MiLCJwcm9kdWN0U2x1ZyIsImFkZEJ0biIsInF0eUNvbnRhaW5lciIsInF0eUlucHV0IiwiaXRlbUlkIiwiZGVzY1JhZGlvIiwiaW5DYXJ0UHJvZHVjdCIsImVycm9yTXNnIiwiY2FjaGUiLCJ1cmwiLCJtZXRob2QiLCJkYXRhVHlwZSIsInNob3dMb2FkZXIiLCJhamF4Iiwic3VjY2VzcyIsInN0YXR1cyIsImhpZGVMb2FkZXIiLCJodG1sIiwicmVzdWx0IiwidG9TdHJpbmciLCJzaG93T3JIaWRlQWRkZWRQcm9kdWN0Iiwib3ZlcmxheVNlY3Rpb24iLCJlcnJvck92ZXJsYXkiLCJnZXRFbGVtZW50QnlJZCIsImNyZWF0ZUVsZW1lbnQiLCJzZXRBdHRyaWJ1dGUiLCJpbm5lclRleHQiLCJhcHBlbmRDaGlsZCIsImJvZHkiLCJYTUxIdHRwUmVxdWVzdCIsInRleHRTdGF0dXMiLCJlcnJvclRocm93biIsImhhc0NsYXNzIiwiY3NzIiwiUGFnaW5hdGlvbiIsIml0ZW1zUGVyUGFnZSIsInBhcnNlSW50IiwicGVyUGFnZSIsInBhZ2luYXRpb25Db250cm9sIiwiY29udHJvbCIsInBhZ2luYXRpb25Db250cm9sVG9IaWRlIiwiY29udHJvbFRvSGlkZSIsIml0ZW1TZWxlY3RvciIsImRhdGFMYXllclB1c2giLCJkaXNwbGF5ZWQiLCJkaXNwbGF5U3R5bGUiLCJpbml0Q2xpY2siLCJhZGRDb250cm9sRXZlbnQiLCJhcnJET00iLCJsb2FkTmV4dCIsImFuYWx5dGljc1B1c2giLCJsaW1pdCIsImNvdW50IiwiY29tcGxldGUiLCJvcGFjaXR5IiwibG9hZEltYWdlIiwibG9hZE5leHRJbWFnZSIsImNvdW50RGlzcGxheSIsImRpc3BsYXllZEFsbCIsIkRPTSIsInNyYyIsImRhdGFzZXQiLCJzcmNzZXQiLCJoaWRlQ29udHJvbHMiLCJzaG93Q29udHJvbHMiLCJQcm9kdWN0UmV2aWV3IiwiY2xpY2thYmxlIiwicmV2aWV3SXRlbSIsIml0ZW1zQ291bnQiLCJpbml0SW5wdXRDaGFuZ2UiLCJyZXZpZXdJbml0IiwiZGlzcGxheVJldmlld3MiLCJpdGVtc0V2ZW50SGFuZGxlciIsIk1hdGgiLCJmbG9vciIsImVycm9yU3BhbiIsImlubmVySFRNTCIsInN0YXIiLCJkaXNwbGF5UmV2aWV3IiwicmVtb3ZlQWxsUmV2aWV3cyIsInJlbW92ZVJldmlldyIsInJldmlld1ZhbHVlIiwiUmV2aWV3U3RhcnNDb250cm9sbGVyIiwiY29udGFpbmVycyIsIlJldmlld1N0YXJzVmlldyIsInJldmlld0NsaWNrIiwiUGFnaW5hdGlvbkluZGljYXRvciIsIm1heGltdW0iLCJtYXhWaWV3IiwiZGlzcGxheWVkVmlldyIsImluZGljYXRvciIsIl9pbml0IiwidXBkYXRlSW5kaWNhdG9yIiwic2V0RGlzcGxheWVkVGV4dCIsInNldE1heGltdW1UZXh0Iiwid2lkdGgiLCJSZW1haW5pbmdDaGFyIiwiZGlzcGxheVJlbWFpbmluZyIsImN1cnJlbnRMZW5ndGgiLCJGaWx0ZXJTZXR0aW5ncyIsImZpbHRlcnMiLCJGSUxURVJfT1IiLCJGSUxURVJfQU5EIiwiY2F0ZWdvcnlJbmRleCIsImdldENhdGVnb3J5IiwiZmlsdGVyc0FkZGVkIiwiZmlsdGVyQ2F0ZWdvcnkiLCJGaWx0ZXJDYXRlZ29yeSIsImFkZEl0ZW0iLCJmaWx0ZXJJbmRleCIsImdldEZpbHRlciIsInNwbGljZSIsImZpbHRlckNvdW50IiwiZmlsdGVyTmFtZSIsIml0ZW1zQnlDYXRlZ29yeSIsImZpbHRlck5hbWVzIiwiZmlsdGVySXRlbSIsIkZpbHRlciIsIlNvcnQiLCJpc09wZW4iLCJtb2RpZmllciIsIm1vZGlmaWVyVGFyZ2V0IiwibmFtZURpc3BsYXkiLCJpc0NoaWxkIiwidG9nZ2xlU29ydCIsImNsb3NlU29ydCIsIm9wZW5Tb3J0IiwiY2hpbGRyZW4iLCJjaGlsZCIsImdyYW5kQ2hpbGRyZW4iLCJISURFIiwiUHJvZHVjdEZpbHRlckRlc2t0b3BWaWV3IiwiZmlsdGVyVmlldyIsImZpbHRlclNlbGVjdG9yIiwiYWN0aXZlRmlsdGVyU2VsZWN0b3IiLCJhY3RpdmVGaWx0ZXIiLCJjbGVhckFsbFNlbGVjdG9yIiwiY2xlYXJBbGwiLCJwYXJlbnQiLCJuZXdGaWx0ZXIiLCJmaWx0ZXJDb25kaXRpb24iLCJhZGRSZXNwb25zZSIsInRvZ2dsZUZpbHRlckRpc3BsYXkiLCJjb3VudF9Vc2VkRmlsdGVycyIsImZpbHRlckRPTSIsImZpbmRGaWx0ZXIiLCJjYXRlZ29yeURPTSIsImNvdW50X2ZpbHRlcnNJbkNhdGVnb3J5IiwiY2hpbGRFbGVtZW50Q291bnQiLCJ0ZXh0Q291bnQiLCJhcnJQcm9kdWN0IiwiZ2V0QWxsRmlsdGVyTmFtZXMiLCJrIiwiZGF0YXNldFZhbHVlIiwidXBkYXRlRmlsdGVyQ291bnQiLCJmaWx0ZXJDYXRlZ29yaWVzIiwiZmlsdGVyc0luQ2F0ZWdvcnkiLCJuYW1lcyIsIlByb2R1Y3RGaWx0ZXJNb2JpbGVWaWV3IiwiZmlsdGVyQ29udGFpbmVyIiwiYWN0aXZlQ2xhc3MiLCJmaWx0ZXJDbGFzcyIsImFjdGl2ZUZpbHRlcnMiLCJjbGlja2VkRmlsdGVyRGV0YWlscyIsInNwYW4iLCJhZGRGaWx0ZXJUb0RPTSIsImZpbHRlckFjdGl2ZSIsInRleHRDb250ZW50IiwibmV4dEVsZW1lbnRTaWJsaW5nIiwiQWN0aXZlRmlsdGVyVmlldyIsImFjdGl2ZUNvbnRhaW5lciIsImFuYWx5dGljc0V2ZW50U2VsZWN0b3IiLCJhY3RpdmVGaWx0ZXJDbGFzcyIsImFjdGl2ZUV2ZW50U2VsZWN0b3IiLCJhbmFseXRpY3NDbGFzcyIsImNyZWF0ZUFjdGl2ZUZpbHRlciIsInRvZ2dsZUFjdGl2ZUZpbHRlcnMiLCJjbG9zZUljb24iLCJmaWx0ZXJMYWJlbCIsIlByb2R1Y3RMaXN0VmlldyIsInByb2R1Y3RzRE9NIiwiU29ydFV0aWxzIiwibGVuIiwic29ydGVkQXJyIiwiQXJyYXkiLCJ0ZW1wIiwic29ydExpc3QiLCJmaWVsZE5hbWUiLCJvcmRlciIsIl9nZXRPcmRlckF0dHJpYnVyZSIsImZpZWxkIiwiX3VwZGF0ZU9yZGVyIiwibGlzdENvbnRhaW5lciIsIm9yZCIsImZpZWxkT3JkZXIiLCJkaXZMaXN0IiwiZGl2TGlzdFJlbW92ZSIsIl9zb3J0UHJpY2UiLCJfc29ydE5hbWUiLCJfc29ydFJhdGluZ3MiLCJfc29ydFN0YW5kYXJkIiwicHJlcGVuZCIsInNvcnQiLCJwcmljZUEiLCJjb21wQSIsImNvbXBCIiwiSU5JVF9ESVNQTEFZIiwicGFnZU1heCIsIkFMTCIsIlNPUlRfSU5JVCIsImdsb2JhbERpc3BsYXkiLCJjdXJyZW50U29ydCIsInNvcnROYW1lIiwiUHJvZHVjdExpc3RpbmciLCJzb3J0SXRlbSIsImRpcmVjdGlvbiIsIm9yZGVyTGlzdCIsInByb2R1Y3RTb3J0IiwicHJvZHVjdFBhZ2luYXRpb24iLCJfaW5pdEZyb21BcnJheSIsInBhZ2luYXRpb25JbmRpY2F0b3IiLCJmaWx0ZXJEZXNrdG9wIiwiaW5uZXJXaWR0aCIsImZpbHRlck1vYmlsZSIsImNvdW50RGlzcGxheWVkUHJvZHVjdHMiLCJwcm9kdWN0TGlzdFZpZXciLCJzb3J0RGlyZWN0aW9uIiwic2V0U29ydCIsIl9yZWluaXRMaXN0RE9NIiwiX3JlaW5pdEFycmF5IiwicmVidWlsZFNvcnRMaXN0IiwiX2FkZENsaWNrRXZlbnQiLCJsb2FkTW9yZUJ0biIsImxvYWRNb3JlIiwiX2luaXRQcmVmaWx0ZXIiLCJhc2NPcmRlciIsInVwZGF0ZURpc3BsYXkiLCJpc290b3BlUmVPcmRlciIsImZpbHRlckRlc2t0b3BfQ2xpY2tMaXN0ZW5lciIsImZpbHRlck1vYmlsZV9DbGlja0xpc3RlbmVyIiwiY3VycmVudEZpbHRlcnMiLCJhbGxGaWx0ZXJzIiwiZmlsdGVyU2VhcmNoIiwiZGF0YUNhdGVnb3J5IiwiaW5jbHVzaXZlRmlsdGVycyIsImRhdGFTZWxlY3RvciIsImRlc2t0b3BGaWx0ZXJzIiwiYWRkZWRGaWx0ZXIiLCJhZGRGaWx0ZXIiLCJhZGRBY3RpdmVGaWx0ZXIiLCJnZXRBbmFseXRpY3NDbGFzcyIsInRyaWdnZXJBZGRNb2JpbGUiLCJhZGRmaWx0ZXJBY3RpdmVfQ2xpY2tMaXN0ZW5lciIsImZpbHRlck1vYiIsInRyaWdnZXJBZGREZXNrdG9wIiwiY2xhc3NlcyIsInN0YXJ0c1dpdGgiLCJqc29uQW5hbHl0aWNzIiwic2VsZWN0b3JEZXNrdG9wIiwic2VsZWN0b3JNb2JpbGUiLCJhY3RpdmVGaWx0ZXJfRE9NIiwiZmluZEFjdGl2ZUZpbHRlciIsInJlbW92ZUFjdGl2ZUZpbHRlciIsInVwZGF0ZVZpZXciLCJjbGlja2VkRE9NIiwiZmlsdGVyUmVtb3ZlZCIsInRyaWdnZXJSZW1vdmVNb2JpbGUiLCJyZWJ1aWxkTGlzdCIsImRlc2t0b3BGaWx0ZXJfaXRlbSIsImFjdGl2ZSIsImRhdGFTZWxlY3RvcnMiLCJmaW5kUHJvZHVjdCIsInByb2R1Y3RET01zIiwiaGlkZUFsbCIsImVsaWdpYmxlQ2F0ZWdvcnkiLCJmaWx0ZXJzQnlDYXRlZ29yeSIsImdldEZpbHRlckl0ZW1zQnlDYXQiLCJwcm9kdWN0c1RvRGlzcGxheSIsImRhdGFBdHRyaWJ1dGUiLCJuYW1lSW5kZXgiLCJjb21wYXJlRmlsdGVycyIsImRpc3BsYXlQcm9kdWN0cyIsImdlbmVyYXRlRGF0YVNlbGVjdG9yIiwiZWxpZ2libGVQcm9kdWN0cyIsImVsaWdpYmxlUHJvZHVjdERPTSIsInVwZGF0ZVByb2R1Y3RzVG9EaXNwbGF5IiwiZmlsdGVyTGlzdCIsImNoYXJBdCIsIl9jYWxjRmlsdGVyQ291bnQiLCJkYXRhc2V0S2V5IiwicHJvZHVjdExpc3QiLCJzb3J0RGF0YVNldCIsIlByb2R1Y3REZXRhaWxWaWV3IiwidGFiIiwic3RvcEltbWVkaWF0ZVByb3BhZ2F0aW9uIiwidGFiQ29udGVudCIsInRhYkFjdGl2ZSIsInVuYmluZCIsIlZvdWNoZXJGb3JtQ29udHJvbGxlciIsImNhcnRJZCIsImdpZnRDYXJkSW5mb3JtYXRpb24iLCJjb3Vwb25DdXN0b21BbW91bnQiLCJhdHRyaWJ1dGVSZXF1aXJlZCIsImtleW1hcCIsInBhZ2VMb2FkZXIiLCJsYW5ndWFnZSIsImN1cnJlbmN5IiwiX2luaXRSYWRpb0J1dHRvbnMiLCJfaW5pdFBvc2l0aW9ucyIsIl9pbml0SW5wdXRzIiwic3VibWl0IiwiJHN1Ym1pdCIsInRleHRhcmVhcyIsImN1c3RvbVJhZGlvIiwiY29uZmlybUVtYWlsIiwicHJpY2VIZWFkbGluZXMiLCJwcmljZTEwMGciLCJjb25jYXQiLCJmb3JFYWNoIiwidGV4dGFyZWEiLCJfaGFuZGxlU3VibWl0IiwicmFkaW9CdG5zIiwicmFkaW8iLCJsYWJlbERpc3BsYXkiLCJJbnRsIiwiTnVtYmVyRm9ybWF0IiwiZm9ybWF0IiwiY2hpbGROb2RlcyIsIl9oYW5kbGVSYWRpb0NoZWNrZWQiLCJyYWRpb1NpYmxpbmdzIiwieSIsIiRidG4iLCJKU09OIiwic3RyaW5naWZ5IiwiaW50QWRkVG9DYXJ0IiwicmVzZXQiLCJMaW1pdGVkSW5wdXQiLCJpbnB1dFNlbGVjdG9yIiwiZGlzcGxheVNlbGVjdG9yIiwiaW5pdElucHV0RXZlbnQiLCJkaXNwbGF5SXRlbSIsInJlbWFpbmluZ0NoYXIiLCJpbnB1dExlbmd0aCIsInVwZGF0ZVJlbWFpbmluZ0NoYXIiLCJSZXZpZXdGb3JtIiwiZm9ybUNvbnRhaW5lciIsImZvcm1DbGFzcyIsInN1Ym1pdEJ0biIsImNhbmNlbEJ0biIsImN1cnJlbnRQb3B1cCIsImN1cnJlbnQiLCJuZXh0UG9wdXAiLCJuZXh0IiwiaW5pdFN1Ym1pdCIsImluaXRDYW5jZWwiLCJnZXRGb3JtRGF0YSIsInNlbmREYXRhIiwiZGF0YXMiLCJkYXRhVG9TZW5kIiwib3JpZ2luIiwiUHJvZmlsZUlEIiwiTG9jYWxlIiwiRGF0YSIsImNvbnRlbnRUeXBlIiwiYWNjZXB0cyIsImFsd2F5cyIsInhociIsIklzU3VjY2Vzc2Z1bCIsImlucHV0Q2hlY2siLCJzbGljayIsInNsaWRlc1RvU2hvdyIsInNsaWRlc1RvU2Nyb2xsIiwiYXJyb3dzIiwiZG90cyIsImluZmluaXRlIiwicmV2aWV3Rm9ybU92ZXJsYXkiLCJ0aGFua1lvdU92ZXJsYXkiLCJyZXZpZXdQYWdpbmF0aW9uIiwicHJvZHVjdERldGFpbCJdLCJtYXBwaW5ncyI6ImFBQ0UsSUFBSUEsRUFBbUIsR0FHdkIsU0FBU0MsRUFBb0JDLEdBRzVCLEdBQUdGLEVBQWlCRSxHQUNuQixPQUFPRixFQUFpQkUsR0FBVUMsUUFHbkMsSUFBSUMsRUFBU0osRUFBaUJFLEdBQVksQ0FDekNHLEVBQUdILEVBQ0hJLEdBQUcsRUFDSEgsUUFBUyxJQVVWLE9BTkFJLEVBQVFMLEdBQVVNLEtBQUtKLEVBQU9ELFFBQVNDLEVBQVFBLEVBQU9ELFFBQVNGLEdBRy9ERyxFQUFPRSxHQUFJLEVBR0pGLEVBQU9ELFFBS2ZGLEVBQW9CUSxFQUFJRixFQUd4Qk4sRUFBb0JTLEVBQUlWLEVBR3hCQyxFQUFvQlUsRUFBSSxTQUFTUixFQUFTUyxFQUFNQyxHQUMzQ1osRUFBb0JhLEVBQUVYLEVBQVNTLElB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LENBQ3RCNVMsVUFBVyxhQUNYNlIsV0FBWSIsImZpbGUiOiJwcm9kdWN0cy5qcyIsInNvdXJjZXNDb250ZW50IjpbIiBcdC8vIFRoZSBtb2R1bGUgY2FjaGVcbiBcdHZhciBpbnN0YWxsZWRNb2R1bGVzID0ge307XG5cbiBcdC8vIFRoZSByZXF1aXJlIGZ1bmN0aW9uXG4gXHRmdW5jdGlvbiBfX3dlYnBhY2tfcmVxdWlyZV9fKG1vZHVsZUlkKSB7XG5cbiBcdFx0Ly8gQ2hlY2sgaWYgbW9kdWxlIGlzIGluIGNhY2hlXG4gXHRcdGlmKGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdKSB7XG4gXHRcdFx0cmV0dXJuIGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdLmV4cG9ydHM7XG4gXHRcdH1cbiBcdFx0Ly8gQ3JlYXRlIGEgbmV3IG1vZHVsZSAoYW5kIHB1dCBpdCBpbnRvIHRoZSBjYWNoZSlcbiBcdFx0dmFyIG1vZHVsZSA9IGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdID0ge1xuIFx0XHRcdGk6IG1vZHVsZUlkLFxuIFx0XHRcdGw6IGZhbHNlLFxuIFx0XHRcdGV4cG9ydHM6IHt9XG4gXHRcdH07XG5cbiBcdFx0Ly8gRXhlY3V0ZSB0aGUgbW9kdWxlIGZ1bmN0aW9uXG4gXHRcdG1vZHVsZXNbbW9kdWxlSWRdLmNhbGwobW9kdWxlLmV4cG9ydHMsIG1vZHVsZSwgbW9kdWxlLmV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pO1xuXG4gXHRcdC8vIEZsYWcgdGhlIG1vZHVsZSBhcyBsb2FkZWRcbiBcdFx0bW9kdWxlLmwgPSB0cnVlO1xuXG4gXHRcdC8vIFJldHVybiB0aGUgZXhwb3J0cyBvZiB0aGUgbW9kdWxlXG4gXHRcdHJldHVybiBtb2R1bGUuZXhwb3J0cztcbiBcdH1cblxuXG4gXHQvLyBleHBvc2UgdGhlIG1vZHVsZXMgb2JqZWN0IChfX3dlYnBhY2tfbW9kdWxlc19fKVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5tID0gbW9kdWxlcztcblxuIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGUgY2FjaGVcbiBcdF9fd2VicGFja19yZXF1aXJlX18uYyA9IGluc3RhbGxlZE1vZHVsZXM7XG5cbiBcdC8vIGRlZmluZSBnZXR0ZXIgZnVuY3Rpb24gZm9yIGhhcm1vbnkgZXhwb3J0c1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5kID0gZnVuY3Rpb24oZXhwb3J0cywgbmFtZSwgZ2V0dGVyKSB7XG4gXHRcdGlmKCFfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZXhwb3J0cywgbmFtZSkpIHtcbiBcdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgbmFtZSwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGdldHRlciB9KTtcbiBcdFx0fVxuIFx0fTtcblxuIFx0Ly8gZGVmaW5lIF9fZXNNb2R1bGUgb24gZXhwb3J0c1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5yID0gZnVuY3Rpb24oZXhwb3J0cykge1xuIFx0XHRpZih0eXBlb2YgU3ltYm9sICE9PSAndW5kZWZpbmVkJyAmJiBTeW1ib2wudG9TdHJpbmdUYWcpIHtcbiBcdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgU3ltYm9sLnRvU3RyaW5nVGFnLCB7IHZhbHVlOiAnTW9kdWxlJyB9KTtcbiBcdFx0fVxuIFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ19fZXNNb2R1bGUnLCB7IHZhbHVlOiB0cnVlIH0pO1xuIFx0fTtcblxuIFx0Ly8gY3JlYXRlIGEgZmFrZSBuYW1lc3BhY2Ugb2JqZWN0XG4gXHQvLyBtb2RlICYgMTogdmFsdWUgaXMgYSBtb2R1bGUgaWQsIHJlcXVpcmUgaXRcbiBcdC8vIG1vZGUgJiAyOiBtZXJnZSBhbGwgcHJvcGVydGllcyBvZiB2YWx1ZSBpbnRvIHRoZSBuc1xuIFx0Ly8gbW9kZSAmIDQ6IHJldHVybiB2YWx1ZSB3aGVuIGFscmVhZHkgbnMgb2JqZWN0XG4gXHQvLyBtb2RlICYgOHwxOiBiZWhhdmUgbGlrZSByZXF1aXJlXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnQgPSBmdW5jdGlvbih2YWx1ZSwgbW9kZSkge1xuIFx0XHRpZihtb2RlICYgMSkgdmFsdWUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKHZhbHVlKTtcbiBcdFx0aWYobW9kZSAmIDgpIHJldHVybiB2YWx1ZTtcbiBcdFx0aWYoKG1vZGUgJiA0KSAmJiB0eXBlb2YgdmFsdWUgPT09ICdvYmplY3QnICYmIHZhbHVlICYmIHZhbHVlLl9fZXNNb2R1bGUpIHJldHVybiB2YWx1ZTtcbiBcdFx0dmFyIG5zID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcbiBcdFx0X193ZWJwYWNrX3JlcXVpcmVfXy5yKG5zKTtcbiBcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KG5zLCAnZGVmYXVsdCcsIHsgZW51bWVyYWJsZTogdHJ1ZSwgdmFsdWU6IHZhbHVlIH0pO1xuIFx0XHRpZihtb2RlICYgMiAmJiB0eXBlb2YgdmFsdWUgIT0gJ3N0cmluZycpIGZvcih2YXIga2V5IGluIHZhbHVlKSBfX3dlYnBhY2tfcmVxdWlyZV9fLmQobnMsIGtleSwgZnVuY3Rpb24oa2V5KSB7IHJldHVybiB2YWx1ZVtrZXldOyB9LmJpbmQobnVsbCwga2V5KSk7XG4gXHRcdHJldHVybiBucztcbiBcdH07XG5cbiBcdC8vIGdldERlZmF1bHRFeHBvcnQgZnVuY3Rpb24gZm9yIGNvbXBhdGliaWxpdHkgd2l0aCBub24taGFybW9ueSBtb2R1bGVzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm4gPSBmdW5jdGlvbihtb2R1bGUpIHtcbiBcdFx0dmFyIGdldHRlciA9IG1vZHVsZSAmJiBtb2R1bGUuX19lc01vZHVsZSA/XG4gXHRcdFx0ZnVuY3Rpb24gZ2V0RGVmYXVsdCgpIHsgcmV0dXJuIG1vZHVsZVsnZGVmYXVsdCddOyB9IDpcbiBcdFx0XHRmdW5jdGlvbiBnZXRNb2R1bGVFeHBvcnRzKCkgeyByZXR1cm4gbW9kdWxlOyB9O1xuIFx0XHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQoZ2V0dGVyLCAnYScsIGdldHRlcik7XG4gXHRcdHJldHVybiBnZXR0ZXI7XG4gXHR9O1xuXG4gXHQvLyBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGxcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubyA9IGZ1bmN0aW9uKG9iamVjdCwgcHJvcGVydHkpIHsgcmV0dXJuIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmplY3QsIHByb3BlcnR5KTsgfTtcblxuIFx0Ly8gX193ZWJwYWNrX3B1YmxpY19wYXRoX19cbiBcdF9fd2VicGFja19yZXF1aXJlX18ucCA9IFwiXCI7XG5cblxuIFx0Ly8gTG9hZCBlbnRyeSBtb2R1bGUgYW5kIHJldHVybiBleHBvcnRzXG4gXHRyZXR1cm4gX193ZWJwYWNrX3JlcXVpcmVfXyhfX3dlYnBhY2tfcmVxdWlyZV9fLnMgPSAzNik7XG4iLCJjb25zdCBzcGVjaWFsQ2hhcmFjdGVycyA9IFsnLyddO1xyXG5cclxuZXhwb3J0IGNvbnN0IFN0cmluZ1V0aWxzID0ge1xyXG4gICAgdHJpbTogKHN0cmluZykgPT4ge1xyXG4gICAgICAgIGxldCBuZXdTdHJpbmcgPSBzdHJpbmcucmVwbGFjZSgvXFxzL2csIFwiXCIpO1xyXG5cclxuICAgICAgICByZXR1cm4gbmV3U3RyaW5nOyBcclxuICAgIH0sXHJcblxyXG4gICAgcmVwbGFjZTogKHN0cmluZywgdG9SZXBsYWNlLCByZXBsYWNlV2l0aCkgPT4ge1xyXG4gICAgICAgIGxldCBuZXdTdHJpbmcgPSBzdHJpbmcucmVwbGFjZSh0b1JlcGxhY2UsIHJlcGxhY2VXaXRoKTtcclxuXHJcbiAgICAgICAgcmV0dXJuIG5ld1N0cmluZzsgXHJcbiAgICB9LFxyXG5cclxuICAgIHJlcGxhY2VTcGVjaWFsQ2hhcjogKHN0cmluZykgPT4ge1xyXG4gICAgICAgIGxldCBuZXdTdHJpbmcgPSBzdHJpbmc7XHJcblxyXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgc3BlY2lhbENoYXJhY3RlcnMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgY29uc3QgY2hhciA9IHNwZWNpYWxDaGFyYWN0ZXJzW2ldO1xyXG4gICAgICAgICAgICBuZXdTdHJpbmcgPSBuZXdTdHJpbmcucmVwbGFjZShjaGFyLCBcIi1cIik7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBuZXdTdHJpbmc7XHJcbiAgICB9LFxyXG5cclxuICAgIGNsZWFuRmlsdGVyQ2F0ZWdvcnk6IChzdHJpbmcpID0+IHtcclxuICAgICAgICByZXR1cm4gU3RyaW5nVXRpbHMucmVwbGFjZVNwZWNpYWxDaGFyKFN0cmluZ1V0aWxzLnRyaW0oc3RyaW5nKSkudG9Mb3dlckNhc2UoKTtcclxuICAgIH0sXHJcblxyXG4gICAgdG9EYXRhU2VsZWN0b3I6IChzdHJpbmcpID0+IHtcclxuICAgICAgICBsZXQgbmV3U3RyaW5nID0gU3RyaW5nVXRpbHMuY2xlYW5GaWx0ZXJDYXRlZ29yeShzdHJpbmcpLFxyXG4gICAgICAgICAgICBmaXJzdENoYXIgPSBuZXdTdHJpbmdbMF0udG9VcHBlckNhc2UoKSxcclxuICAgICAgICAgICAgcHJlZml4ID0gJ3NlbGVjdGVkJztcclxuXHJcbiAgICAgICAgaWYoU3RyaW5nVXRpbHMuZmluZENoYXIoJy0nLCBuZXdTdHJpbmcpKXtcclxuICAgICAgICAgICAgbGV0IHNwZWNpYWxJbmRleCA9IG5ld1N0cmluZy5pbmRleE9mKCctJyksXHJcbiAgICAgICAgICAgICAgICBuZXh0Q2hhckluZGV4ID0gc3BlY2lhbEluZGV4ICsgMSxcclxuICAgICAgICAgICAgICAgIG5leHRDaGFyID0gbmV3U3RyaW5nW25leHRDaGFySW5kZXhdLnRvVXBwZXJDYXNlKCk7XHJcbiAgICAgICAgICAgIFxyXG4gICAgICAgICAgICBuZXdTdHJpbmcgPSBuZXdTdHJpbmcuc2xpY2UoMCwgc3BlY2lhbEluZGV4KSArIG5leHRDaGFyICsgbmV3U3RyaW5nLnNsaWNlKG5leHRDaGFySW5kZXggKyAxLCBuZXdTdHJpbmcubGVuZ3RoKVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgbmV3U3RyaW5nID0gZmlyc3RDaGFyICsgbmV3U3RyaW5nLnNsaWNlKDEsIG5ld1N0cmluZy5sZW5ndGgpO1xyXG5cclxuICAgICAgICByZXR1cm4gcHJlZml4ICsgbmV3U3RyaW5nO1xyXG4gICAgfSxcclxuXHJcbiAgICBmaW5kQ2hhcjogKGNoYXIsIHN0cmluZykgPT4ge1xyXG4gICAgICAgIHRyeXtcclxuICAgICAgICAgICAgaWYoISFzdHJpbmcgJiYgdHlwZW9mIHN0cmluZyA9PSBcInN0cmluZ1wiICYmIHN0cmluZy5pbmRleE9mKGNoYXIpID4gLTEpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSBjYXRjaCAoZSkge1xyXG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKGUpO1xyXG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKHN0cmluZyk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICB9LFxyXG5cclxuICAgIHRlc3RSZWdleDogKHN0cmluZywgcmVnZXgpID0+IHtcclxuICAgICAgICBsZXQgdmFsaWQgPSBmYWxzZSxcclxuICAgICAgICAgICAgZXhwcmVzc2lvbiA9IG5ldyBSZWdFeHAocmVnZXgpO1xyXG5cclxuICAgICAgICBpZihleHByZXNzaW9uLnRlc3Qoc3RyaW5nKSkge1xyXG4gICAgICAgICAgICB2YWxpZCA9IHRydWU7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICByZXR1cm4gdmFsaWQ7XHJcbiAgICB9XHJcbiAgICBcclxufSIsIi8qKlxyXG4gKiBHQSBEYXRhTGF5ZXIgdXRpbHMgXHJcbiAqL1xyXG5cclxuZXhwb3J0IGNvbnN0IF9ETCA9IHtcclxuICAgIHB1c2g6ICh7IFxyXG4gICAgICAgIGV2ZW50ID0gXCJpbmZvLWNsaWNrXCIsIFxyXG4gICAgICAgIGNhdGVnb3J5ID0gXCJJbmZvcm1hdGlvbmFsIENsaWNrXCIsIFxyXG4gICAgICAgIGFjdGlvbiA9IFwiQ2xpY2tcIiwgXHJcbiAgICAgICAgbGFiZWwgPSBkb2N1bWVudC50aXRsZSwgXHJcbiAgICAgICAgY3VzdG9tRXZlbnQgPSBmYWxzZSxcclxuICAgICAgICBkYXRhIH0pID0+IHtcclxuICAgICAgICAgICAgLy8gRW5zdXJlcyB0aGF0IEdUTSBpcyBsb2FkZWRcclxuICAgICAgICAgICAgaWYod2luZG93Wydnb29nbGVfdGFnX21hbmFnZXInXSkge1xyXG4gICAgICAgICAgICAgICAgaWYoY3VzdG9tRXZlbnQpIHtcclxuICAgICAgICAgICAgICAgICAgICBkYXRhTGF5ZXIucHVzaCggZGF0YSApXHJcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIGRhdGFMYXllci5wdXNoKHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZXZlbnQ6IGV2ZW50LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBjYXRlZ29yeTogY2F0ZWdvcnksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGFjdGlvbjogYWN0aW9uLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBsYWJlbDogbGFiZWxcclxuICAgICAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICB9LFxyXG4gICAgZ2V0SW1wcmVzc2lvbnM6ICgpID0+IHtcclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICByZXR1cm4gZGF0YUxheWVyWzJdLmVjb21tZXJjZS5pbXByZXNzaW9ucztcclxuICAgICAgICB9IGNhdGNoKGV4KSB7XHJcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxufSIsImV4cG9ydCBjbGFzcyBzY3JvbGwge1xyXG4gICAgY29uc3RydWN0b3IoKXtcclxuICAgICAgICB0aGlzLmlzU2Nyb2xsaW5nID0gZmFsc2U7XHJcbiAgICB9XHJcblxyXG4gICAgZGlzYWJsZVNjcm9sbCgpe1xyXG4gICAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ2JvZHknKS5zdHlsZS5vdmVyZmxvdyA9IFwiaGlkZGVuXCI7XHJcbiAgICB9XHJcblxyXG4gICAgZW5hYmxlU2Nyb2xsKCl7XHJcbiAgICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignYm9keScpLnN0eWxlLm92ZXJmbG93ID0gXCJcIjtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIFxyXG4gICAgKiBAcGFyYW0ge0RPTX0gc2VjdGlvbiBET00gZWxlbWVudCBhY3QgYXMgdGFnZXQgZm9yIHNjcm9sbCB0b3BcclxuICAgICAqIEBwYXJhbSB7U3RyaW5nfEludGVnZXJ9IGR1cmF0aW9uIFRoZSBEdXJhdGlvbiBvZiBhbmltYXRpb24gKG1pbGlzZWNvZHMgb3Igc3RyaW5nKSBbZGVmYXVsdCAnc2xvdyddXHJcbiAgICAgKiBAcGFyYW0ge0ludGVnZXJ9IE9mZnNldCBBbW91bnQgdG8gb2Zmc2V0IG9uIERPTSB0b3AgW2RlZmF1bHQgMF1cclxuICAgICAqL1xyXG4gICAgc2Nyb2xsVG9wKHNlY3Rpb24sIGR1cmF0aW9uID0gJ3Nsb3cnLCBvZmZzZXQgPSAwKSB7XHJcbiAgICAgICAgY29uc3QgICBzY3JvbGxQb3N0aW9uID0gJChzZWN0aW9uKS5sZW5ndGggPiAwID8gJChzZWN0aW9uKS5vZmZzZXQoKS50b3AgKyBvZmZzZXQgOiBudWxsLFxyXG4gICAgICAgICAgICAgICAgJHBhZ2UgPSAkKFwiaHRtbCwgYm9keVwiKTtcclxuXHJcbiAgICAgICAgLy8gKiBzdG9wIGFuaW1hdGlvbiBpZiBzY3JvbGwgaXMgdHJpZ2dlcmVkIGJ5IHVzZXJcclxuICAgICAgICAkcGFnZS5vbihcInNjcm9sbCBtb3VzZWRvd24gd2hlZWwgRE9NTW91c2VTY3JvbGwgbW91c2V3aGVlbCBrZXl1cCB0b3VjaG1vdmVcIiwgZnVuY3Rpb24oKXtcclxuICAgICAgICAgICAgJHBhZ2Uuc3RvcCgpO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICAvLyAqIEFuaW1hdGUgc2Nyb2xsXHJcbiAgICAgICAgaWYoc2Nyb2xsUG9zdGlvbiAhPT0gbnVsbCAmJiB0aGlzLmlzU2Nyb2xsaW5nICE9PSB0cnVlKSB7XHJcbiAgICAgICAgICAgIHRoaXMuaXNTY3JvbGxpbmcgPSB0cnVlO1xyXG5cclxuICAgICAgICAgICAgJHBhZ2UuYW5pbWF0ZSh7XHJcbiAgICAgICAgICAgICAgICAgICAgc2Nyb2xsVG9wOiBzY3JvbGxQb3N0aW9uXHJcbiAgICAgICAgICAgICAgICB9LCBcclxuICAgICAgICAgICAgICAgICAgICBkdXJhdGlvbixcclxuICAgICAgICAgICAgICAgICAgICBmdW5jdGlvbigpeyAvLyEgZXhlY3V0ZWQgb24gZnVuY3Rpb24gYW5pbWF0ZSBjb21wbGV0ZVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAkcGFnZS5vZmYoXCJzY3JvbGwgbW91c2Vkb3duIHdoZWVsIERPTU1vdXNlU2Nyb2xsIG1vdXNld2hlZWwga2V5dXAgdG91Y2htb3ZlXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmlzU2Nyb2xsaW5nID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICApO1xyXG4gICAgICAgICAgICB0aGlzLmlzU2Nyb2xsaW5nID0gZmFsc2U7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59IiwiaW1wb3J0IHsgc2Nyb2xsIH0gZnJvbSAnLi4vLi4vdXRpbHMvZG9jdW1lbnRTY3JvbGwnO1xyXG5cclxuY29uc3QgU0lNUExFX0xPQURFUl9JRCA9IFwiI3NpbXBsZVwiO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3Mgc2ltcGxlTG9hZGVyIHtcclxuICAgIGNvbnN0cnVjdG9yKG9wdGlvbnMgPSB7fSkge1xyXG4gICAgICAgIHRoaXMuZGlzcGxheSA9IGZhbHNlO1xyXG4gICAgICAgIHRoaXMuc2Nyb2xsID0gbmV3IHNjcm9sbCgpO1xyXG4gICAgICAgIHRoaXMuY29udGFpbmVyID0gISFvcHRpb25zLmxvYWRlclNlbGVjdG9yICYmICEhZG9jdW1lbnQucXVlcnlTZWxlY3RvcihvcHRpb25zLmxvYWRlclNlbGVjdG9yKSA/IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3Iob3B0aW9ucy5sb2FkZXJTZWxlY3RvcikgOiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuanMtbG9hZGVyJyk7XHJcbiAgICAgICAgdGhpcy5sb2FkZXIgPSAodGhpcy5jb250YWluZXIgIT09IG51bGwpID8gIHRoaXMuY29udGFpbmVyLnF1ZXJ5U2VsZWN0b3IoU0lNUExFX0xPQURFUl9JRCk6IG51bGw7XHJcbiAgICB9XHJcblxyXG4gICAgc2hvd0xvYWRlcigpIHtcclxuICAgICAgICBpZighdGhpcy5kaXNwbGF5XHJcbiAgICAgICAgICAgICYmICEhdGhpcy5sb2FkZXIpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuc2Nyb2xsLmRpc2FibGVTY3JvbGwoKTtcclxuICAgICAgICAgICAgICAgIHRoaXMubG9hZGVyLnN0eWxlLmRpc3BsYXkgPSBcImJsb2NrXCI7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMuZGlzcGxheSA9IHRydWU7XHJcbiAgICB9XHJcblxyXG4gICAgaGlkZUxvYWRlcigpIHtcclxuICAgICAgICBpZih0aGlzLmRpc3BsYXkgPT09IHRydWUgJiYgdGhpcy5sb2FkZXIgIT09IG51bGwpIHtcclxuICAgICAgICAgICAgdGhpcy5zY3JvbGwuZW5hYmxlU2Nyb2xsKCk7XHJcbiAgICAgICAgICAgIHRoaXMubG9hZGVyLnJlbW92ZUF0dHJpYnV0ZSgnc3R5bGUnKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5kaXNwbGF5ID0gZmFsc2U7XHJcbiAgICB9XHJcblxyXG4gICAgdXBkYXRlTG9hZGVyKCkge1xyXG4gICAgICAgIHRoaXMubG9hZGVyID0gKHRoaXMuY29udGFpbmVyICE9PSBudWxsKSA/ICB0aGlzLmNvbnRhaW5lci5xdWVyeVNlbGVjdG9yKFNJTVBMRV9MT0FERVJfSUQpOiBudWxsO1xyXG4gICAgfVxyXG5cclxuICAgIGFkZENsYXNzKGNsYXNzZSkge1xyXG4gICAgICAgIHRoaXMubG9hZGVyLmNsYXNzTGlzdC5hZGQoY2xhc3NlKTtcclxuICAgIH1cclxuICAgIHJlbW92ZUNsYXNzKGNsYXNzZSkge1xyXG4gICAgICAgIHRoaXMubG9hZGVyLmNsYXNzTGlzdC5yZW1vdmUoY2xhc3NlKTtcclxuICAgIH0gICAgXHJcbn1cclxuXHJcbmV4cG9ydCBjb25zdCBHbG9iYWxMb2FkZXIgPSBuZXcgc2ltcGxlTG9hZGVyICh7fSkiLCJleHBvcnQgY29uc3QgQ29va2llVXRpbHMgPSB7XHJcbiAgICBjcmVhdGU6IChuYW1lLCB2YWx1ZSwgZXhwaXJ5ID0gNykgPT4ge1xyXG4gICAgICAgIGxldCB0b2RheSA9IG5ldyBEYXRlKCksXHJcbiAgICAgICAgICAgIGV4cGlyeURhdGUgPSB0b2RheTtcclxuXHJcbiAgICAgICAgZXhwaXJ5RGF0ZS5zZXREYXRlKGV4cGlyeURhdGUuZ2V0RGF0ZSgpICsgZXhwaXJ5KTtcclxuXHJcbiAgICAgICAgZG9jdW1lbnQuY29va2llID0gYCR7bmFtZX09JHt2YWx1ZX07IGV4cGlyZXM9JHtleHBpcnlEYXRlfWA7XHJcbiAgICB9LFxyXG5cclxuICAgIGRlbGV0ZTogKG5hbWUpID0+IHtcclxuICAgICAgICBsZXQgdG9kYXkgPSBuZXcgRGF0ZSgpLFxyXG4gICAgICAgICAgICBleHBpcnlEYXRlID0gdG9kYXk7XHJcblxyXG4gICAgICAgIGV4cGlyeURhdGUuc2V0RGF0ZShleHBpcnlEYXRlLmdldERhdGUoKSAtIDEwMCk7XHJcblxyXG4gICAgICAgIGRvY3VtZW50LmNvb2tpZSA9IGAke25hbWV9PVwiXCI7IGV4cGlyZXM9JHtleHBpcnlEYXRlfWA7XHJcbiAgICB9LFxyXG5cclxuICAgIGdldDogKG5hbWUpID0+IHtcclxuICAgICAgICBsZXQgbWF0Y2hzID0gZG9jdW1lbnQuY29va2llLm1hdGNoKFJlZ0V4cCgnKD86Xnw7XFxcXHMqKScgKyBuYW1lICsgJz0oW147XSopJykpO1xyXG5cdFx0cmV0dXJuIG1hdGNocyA/IG1hdGNoc1sxXSA6IG51bGw7XHJcbiAgICB9LFxyXG5cclxuICAgIGdldE9iamVjdDogKG5hbWUpID0+IHtcclxuICAgICAgICBsZXQgdmFsdWUgPSBkb2N1bWVudC5jb29raWUubWF0Y2goUmVnRXhwKCcoPzpefDtcXFxccyopJyArIG5hbWUgKyAnPShbXjtdKiknKSk7XHJcbiAgICAgICAgY29uc3QgY29udGVudCA9IHZhbHVlID8gdmFsdWVbMV0gOiBudWxsO1xyXG4gICAgICAgIGlmKGNvbnRlbnQgIT09IG51bGwpIHtcclxuICAgICAgICAgICAgY29uc3QgY29udGVudFRhYiA9IGNvbnRlbnQuc3BsaXQoJyYnKTtcclxuICAgICAgICAgICAgbGV0IHJlc3BvbnNlID0gW107XHJcbiAgICAgICAgICAgIGZvcih2YXIgaT0wO2k8Y29udGVudFRhYi5sZW5ndGg7aSsrKXtcclxuICAgICAgICAgICAgICAgIGxldCBjb250ID0gY29udGVudFRhYltpXTtcclxuICAgICAgICAgICAgICAgIGNvbnN0IGNvbnRUYWIgPSBjb250LnNwbGl0KFwiPVwiKTtcclxuICAgICAgICAgICAgICAgIHJlc3BvbnNlW2NvbnRUYWJbMF1dID0gY29udFRhYlsxXTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICByZXR1cm4gcmVzcG9uc2U7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59IiwiZXhwb3J0IGRlZmF1bHQgY2xhc3MgVHJhbnNhY3Rpb25BY3Rpb24ge1xyXG4gICAgY29uc3RydWN0b3Iob3B0aW9ucykge1xyXG4gICAgICAgIHRoaXMuaWQgPSBvcHRpb25zLmlkIDtcclxuICAgICAgICB0aGlzLmFmZmlsaWF0aW9uID0gb3B0aW9ucy5hZmZpbGlhdGlvbiA7XHJcbiAgICAgICAgdGhpcy5yZXZlbnVlID0gb3B0aW9ucy5yZXZlbnVlIDtcclxuICAgICAgICB0aGlzLnRheCA9IG9wdGlvbnMudGF4IDtcclxuICAgICAgICB0aGlzLnNoaXBwaW5nID0gb3B0aW9ucy5zaGlwcGluZyA7XHJcbiAgICAgICAgdGhpcy5jb3Vwb24gPSBvcHRpb25zLmNvdXBvbiA7XHJcbiAgICB9XHJcbn0iLCJleHBvcnQgZGVmYXVsdCBjbGFzcyBDaGVja291dEFjdGlvbiB7XHJcbiAgICBjb25zdHJ1Y3RvcihvcHRpb25zKSB7XHJcbiAgICAgICAgdGhpcy5zdGVwID0gb3B0aW9ucy5zdGVwO1xyXG4gICAgfVxyXG5cclxuICAgIFNldE9wdGlvbihvcHQpIHtcclxuICAgICAgICB0aGlzLm9wdGlvbiA9IG9wdDtcclxuICAgICAgICBcclxuICAgIH1cclxufSIsImV4cG9ydCBjb25zdCBPQkpVdGlscyA9IHtcclxuICAgIHVuY2FwaXRhbGlzZUtleTogKG9iaikgPT4ge1xyXG4gICAgICAgIHZhciBvdXRwdXQgPSBbXTtcclxuXHJcbiAgICAgICAgb2JqLm1hcCgoaSkgPT4ge1xyXG4gICAgICAgICAgICBsZXQgYXJyT2JqS2V5ID0gT2JqZWN0LmtleXMoaSksXHJcbiAgICAgICAgICAgICAgICB0ZW1wT2JqID0ge307XHJcblxyXG4gICAgICAgICAgICBmb3IgKGxldCBpbmRleCA9IDA7IGluZGV4IDwgYXJyT2JqS2V5Lmxlbmd0aDsgaW5kZXgrKykge1xyXG4gICAgICAgICAgICAgICAgY29uc3Qga2V5ID0gYXJyT2JqS2V5W2luZGV4XTtcclxuICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgdGVtcE9ialtrZXkudG9Mb3dlckNhc2UoKV0gPSBpW2tleV0gPT0gbnVsbCA/IHVuZGVmaW5lZCA6IGlba2V5XTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBvdXRwdXQucHVzaCh0ZW1wT2JqKTtcclxuICAgICAgICB9KTtcclxuICAgICAgICByZXR1cm4gb3V0cHV0O1xyXG4gICAgfVxyXG59IiwiLyoqXHJcbiAqIEdvb2dsZSBBbmFseXRpY3MgRW5oYW5jZWQgRS1Db21tZXJjZSBJbXBsZW1lbnRhdGlvblxyXG4gKi9cclxuXHJcbmltcG9ydCBUcmFuc2FjdGlvbkFjdGlvbiBmcm9tIFwiLi4vLi4vbW9kZWwvYW5hbHl0aWNzL3RyYW5zYWN0aW9uQWN0aW9uRmllbGRcIjtcclxuaW1wb3J0IENoZWNrb3V0QWN0aW9uIGZyb20gXCIuLi8uLi9tb2RlbC9hbmFseXRpY3MvY2hlY2tvdXRBY3Rpb25GaWVsZFwiO1xyXG5pbXBvcnQgeyBDb29raWVVdGlscyB9IGZyb20gXCIuLi9jb29raWUtdXRpbHNcIjtcclxuaW1wb3J0IHsgT0JKVXRpbHMgfSBmcm9tIFwiLi4vb2JqLXV0aWxzXCI7XHJcbmltcG9ydCB7IF9ETCB9IGZyb20gXCIuL2RhdGFsYXllclwiO1xyXG5cclxuY29uc3QgX1NFTCA9IHtcclxuICAgICAgICBwcm9kOiB7XHJcbiAgICAgICAgICAgIGNhcmQ6IFwiLmpzLXByb2R1Y3QtY2FyZFwiLFxyXG4gICAgICAgICAgICBkZXRhaWxzOiBcIi5wcm9kdWN0LWRldGFpbHNcIlxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgY2hlY2tvdXQ6IHtcclxuICAgICAgICAgICAgbWluaUNhcnQ6IFwiLm1pbmktY2FydF9fYm90dG9tLWN0YXMtY2hlY2tvdXQgLm1pbmktY2FydC1jdGFcIixcclxuICAgICAgICAgICAgY2FydFBhZ2U6IFwiLm15LWNhcnQtY2hlY2tvdXRfX2J1dHRvblwiLFxyXG4gICAgICAgICAgICBndWVzdDogXCIuY2hlY2tvdXRfX2NvbnRpbnVlLWFzLWd1ZXN0XCJcclxuICAgICAgICB9XHJcbiAgICB9LFxyXG4gICAgX1BST0QgPSB7XHJcbiAgICAgICAgbmFtZTogXCJkYXRhLWRsLW5hbWVcIixcclxuICAgICAgICBwcmljZTogXCJkYXRhLWRsLXByaWNlXCIsXHJcbiAgICAgICAgaWQ6IFwiZGF0YS1kbC1pZFwiLFxyXG4gICAgICAgIHZhcmlhbnQ6IFwiZGF0YS1kbC12YXJpYW50XCIsXHJcbiAgICAgICAgY2F0ZWdvcnk6IFwiZGF0YS1zZWxlY3RlZC10eXBlXCIsXHJcbiAgICAgICAgcG9zaXRpb246IFwiZGF0YS1kbC1wb3NpdGlvblwiLFxyXG4gICAgICAgIGJyYW5kOiBcIk1pbGthXCIsXHJcbiAgICAgICAgZGVmYXVsdENhdGVnb3J5OiBcIkNob2NvbGF0ZVwiXHJcbiAgICB9O1xyXG5cclxuZXhwb3J0IGNvbnN0IEVFX0dBID0ge1xyXG4gICAgaW5pdDogKCkgPT4ge1xyXG4gICAgICAgIEVFX0dBLl9pbml0UHJvZHVjdENsaWNrKCk7XHJcbiAgICAgICAgRUVfR0EuX2luaXRDaGVja291dCgpO1xyXG5cclxuICAgICAgICBpZighIWRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoX1NFTC5wcm9kLmRldGFpbHMpKSB7XHJcbiAgICAgICAgICAgIEVFX0dBLl9pbml0UHJvZHVjdERldGFpbHMoKTtcclxuICAgICAgICB9XHJcbiAgICB9LFxyXG4gICAgX2luaXRQcm9kdWN0Q2xpY2s6ICgpID0+IHtcclxuICAgICAgICBsZXQgcHJvZHVjdENUQXMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKF9TRUwucHJvZC5jYXJkKTtcclxuXHJcbiAgICAgICAgZm9yIChsZXQgeCA9IDA7IHggPCBwcm9kdWN0Q1RBcy5sZW5ndGg7IHgrKykge1xyXG4gICAgICAgICAgICBjb25zdCBwcm9kdWN0ID0gcHJvZHVjdENUQXNbeF07XHJcbiAgICAgICAgICAgIFxyXG4gICAgICAgICAgICBwcm9kdWN0LmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCBlID0+IHtcclxuICAgICAgICAgICAgICAgIEVFX0dBLnByb2Nlc3NQcm9kdWN0Q2xpY2socHJvZHVjdCk7XHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgfVxyXG4gICAgfSxcclxuICAgIF9pbml0Q2hlY2tvdXQ6ICgpID0+IHtcclxuICAgICAgICB2YXIgbWluaUNoZWNrb3V0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihfU0VMLmNoZWNrb3V0Lm1pbmlDYXJ0KSxcclxuICAgICAgICAgICAgY2FydENoZWNrb3V0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihfU0VMLmNoZWNrb3V0LmNhcnRQYWdlKSxcclxuICAgICAgICAgICAgZ3Vlc3RDaGVja291dCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoX1NFTC5jaGVja291dC5ndWVzdCksXHJcbiAgICAgICAgICAgIGJvZHkgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiYm9keVwiKSxcclxuICAgICAgICAgICAgbGFuZyA9IGJvZHkuZ2V0QXR0cmlidXRlKFwiZGF0YS1sYW5ndWFnZVwiKTtcclxuXHJcbiAgICAgICAgaWYobGFuZyA9PT0gXCJkZS1ERVwiKSB7XHJcbiAgICAgICAgICAgIEVFX0dBLnByb2Nlc3NDaGVja291dEV2ZW50KG1pbmlDaGVja291dClcclxuICAgICAgICAgICAgRUVfR0EucHJvY2Vzc0NoZWNrb3V0RXZlbnQoY2FydENoZWNrb3V0KVxyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIEVFX0dBLnByb2Nlc3NDaGVja291dEV2ZW50KGd1ZXN0Q2hlY2tvdXQpXHJcbiAgICAgICAgfVxyXG4gICAgfSxcclxuICAgIF9pbml0UHJvZHVjdERldGFpbHM6ICgpID0+IHtcclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICB2YXIgZWNvbW1lcmNlVkFSID0gZWNvbW1lcmNlRGV0YWlscztcclxuXHJcbiAgICAgICAgICAgIGlmKCB0eXBlb2YgZWNvbW1lcmNlVkFSID09PSBcIm9iamVjdFwiIFxyXG4gICAgICAgICAgICAgICAgJiYgISFlY29tbWVyY2VWQVIucHJvZHVjdCkge1xyXG4gICAgICAgICAgICAgICAgbGV0IGFuYWx5dGljc0RhdGEgPSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZWNvbW1lcmNlOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGRldGFpbDoge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYWN0aW9uRmllbGQ6IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsaXN0OiBcIlByb2R1Y3QgQ2F0YWxvZ3VlXCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcm9kdWN0czogW1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmFtZTogZWNvbW1lcmNlVkFSLnByb2R1Y3QubmFtZSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWQ6IGVjb21tZXJjZVZBUi5wcm9kdWN0Lmd0aW4sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByaWNlOiBlY29tbWVyY2VWQVIucHJvZHVjdC5wcmljZS5yZXBsYWNlKCcsJywnLicpLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmFuZDogX1BST0QuYnJhbmQsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhdGVnb3J5OiBfUFJPRC5kZWZhdWx0Q2F0ZWdvcnksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhcmlhbnQ6IGVjb21tZXJjZVZBUi5wcm9kdWN0LnZhcmlhbnRcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBdXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgX0RMLnB1c2goe1xyXG4gICAgICAgICAgICAgICAgICAgIGN1c3RvbUV2ZW50OiB0cnVlLFxyXG4gICAgICAgICAgICAgICAgICAgIGRhdGE6IGFuYWx5dGljc0RhdGFcclxuICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9IGNhdGNoIChlKSB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoXCJQUk9EVUNUIERFVEFJTFMgUFVTSCBGQUlMRURcIik7XHJcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoZSlcclxuICAgICAgICB9XHJcbiAgICB9LFxyXG4gICAgcHJvY2Vzc0NoZWNrb3V0RXZlbnQ6IChidG4pID0+IHtcclxuICAgICAgICBpZighIWJ0bikge1xyXG4gICAgICAgICAgICBidG4uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIGUgPT4ge1xyXG4gICAgICAgICAgICAgICAgdmFyIHJlZGlyZWN0aW9uTGluayA9ICEhQ29va2llVXRpbHMuZ2V0KFwicGF5bWVudC1saW5rXCIpID8gQ29va2llVXRpbHMuZ2V0KFwicGF5bWVudC1saW5rXCIpIDogYnRuLmdldEF0dHJpYnV0ZSgnaHJlZicpO1xyXG5cdFx0XHRcdGlmKCEhcmVkaXJlY3Rpb25MaW5rKSB7XHJcblx0XHRcdFx0XHRlLnByZXZlbnREZWZhdWx0KCk7XHJcblx0XHRcdFx0fVxyXG5cclxuXHRcdFx0XHRDaGVja291dENsaWNrKDEpO1xyXG5cclxuXHRcdFx0XHRpZighIXJlZGlyZWN0aW9uTGluaykge1xyXG5cdFx0XHRcdFx0d2luZG93LmxvY2F0aW9uLmhyZWYgPSByZWRpcmVjdGlvbkxpbms7XHJcblx0XHRcdFx0fVxyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgIH1cclxuICAgIH0sXHJcbiAgICBwcm9jZXNzUHJvZHVjdENsaWNrOiAoY3RhKSA9PiB7XHJcbiAgICAgICAgY29uc3QgY3VycmVudFBvcmR1Y3QgPSBwb3B1bGF0ZVByb2R1Y3QoY3RhKTtcclxuXHJcbiAgICAgICAgX0RMLnB1c2goe1xyXG4gICAgICAgICAgICBjdXN0b21FdmVudDogdHJ1ZSxcclxuICAgICAgICAgICAgZGF0YToge1xyXG4gICAgICAgICAgICAgICAgZXZlbnQ6ICdwcm9kdWN0LWNsaWNrJyxcclxuICAgICAgICAgICAgICAgIHNlcnZlck5hbWU6IGRhdGFMYXllclswXT8uY29udGVudD8uc2VydmVyTmFtZSA/PyBcInVuZGVmaW5lZFwiICxcclxuICAgICAgICAgICAgICAgIGVjb21tZXJjZToge1xyXG4gICAgICAgICAgICAgICAgICAgIGNsaWNrOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGFjdGlvbkZpZWxkOiB7fSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgcHJvZHVjdHM6IFtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRQb3JkdWN0XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIF1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgZXZlbnRDYWxsYmFjazogZnVuY3Rpb24gKCkge30sXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KVxyXG4gICAgfSxcclxuICAgIGNoZWNrb3V0Q2xpY2s6ICgpID0+IHtcclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICBsZXQgY2hlY2tvdXRWQVIgPSBlY29tbWVyY2VEZXRhaWxzO1xyXG5cclxuICAgICAgICAgICAgaWYodHlwZW9mIGNoZWNrb3V0VkFSLmVjb21tZXJjZSA9PT0gXCJvYmplY3RcIikge1xyXG4gICAgICAgICAgICAgICAgX0RMLnB1c2goe1xyXG4gICAgICAgICAgICAgICAgICAgIGN1c3RvbUV2ZW50OiB0cnVlLFxyXG4gICAgICAgICAgICAgICAgICAgIGRhdGE6IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZXZlbnQ6IFwiY2hlY2tvdXRcIixcclxuICAgICAgICAgICAgICAgICAgICAgICAgc2VydmVyTmFtZTogZGF0YUxheWVyWzBdPy5jb250ZW50Py5zZXJ2ZXJOYW1lID8/IFwidW5kZWZpbmVkXCIgLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBlY29tbWVyY2U6IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNoZWNrb3V0OiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYWN0aW9uRmllbGQ6IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RlcDogMVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJvZHVjdHM6IGNoZWNrb3V0VkFSLmVjb21tZXJjZS5wcm9kdWN0c1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0gY2F0Y2ggKGUpIHtcclxuICAgICAgICAgICAgY29uc29sZS5lcnJvcihcIkNIRUNLT1VUIFBVU0ggRkFJTEVEXCIpO1xyXG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKGUpXHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gQ2hlY2tvdXRDbGljayhzdGVwLCBvcHRpb24gPSBudWxsKSB7XHJcbiAgICB0cnkge1xyXG4gICAgICAgIGxldCBjaGVja291dFZBUiA9IGVjb21tZXJjZURldGFpbHMsXHJcbiAgICAgICAgICAgIGN1cnJlbnRBY3Rpb24gPSBuZXcgQ2hlY2tvdXRBY3Rpb24oeyBzdGVwOiBzdGVwIH0pLFxyXG4gICAgICAgICAgICBvcHRpb25hbENoZWNrb3V0ID0gbnVsbCxcclxuICAgICAgICAgICAgYW5hbHl0aWNzRGF0YSA9IHtcclxuICAgICAgICAgICAgICAgIGV2ZW50OiBcImNoZWNrb3V0XCIsXHJcbiAgICAgICAgICAgICAgICBzZXJ2ZXJOYW1lOiBkYXRhTGF5ZXJbMF0/LmNvbnRlbnQ/LnNlcnZlck5hbWUgPz8gXCJ1bmRlZmluZWRcIiAsXHJcbiAgICAgICAgICAgICAgICBlY29tbWVyY2U6IHtcclxuICAgICAgICAgICAgICAgICAgICBjaGVja291dDoge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBhY3Rpb25GaWVsZDogY3VycmVudEFjdGlvbixcclxuICAgICAgICAgICAgICAgICAgICAgICAgcHJvZHVjdHM6IFtdXHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgIGV2ZW50Q2FsbGJhY2s6IGZ1bmN0aW9uICgpIHsgfVxyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmKHR5cGVvZiBjaGVja291dFZBUi5lY29tbWVyY2UgPT09IFwib2JqZWN0XCIpIHtcclxuICAgICAgICAgICAgaWYoISFvcHRpb24pIHtcclxuICAgICAgICAgICAgICAgIGN1cnJlbnRBY3Rpb24uU2V0T3B0aW9uKG9wdGlvbilcclxuICAgICAgICAgICAgICAgIGFuYWx5dGljc0RhdGEuZWNvbW1lcmNlLmNoZWNrb3V0LmFjdGlvbkZpZWxkLm9wdGlvbiA9IG9wdGlvbjtcclxuICAgICAgICAgICAgICAgIG9wdGlvbmFsQ2hlY2tvdXQgPSBjaGVja291dE9wdGlvbihjdXJyZW50QWN0aW9uKTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgaWYoY2hlY2tvdXRWQVIuZWNvbW1lcmNlLnByb2R1Y3RzLmxlbmd0aCA+IDApIHtcclxuICAgICAgICAgICAgICAgIGFuYWx5dGljc0RhdGEuZWNvbW1lcmNlLmNoZWNrb3V0LnByb2R1Y3RzID0gY2hlY2tvdXRWQVIuZWNvbW1lcmNlLnByb2R1Y3RzXHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIF9ETC5wdXNoKHtcclxuICAgICAgICAgICAgICAgIGN1c3RvbUV2ZW50OiB0cnVlLFxyXG4gICAgICAgICAgICAgICAgZGF0YTogYW5hbHl0aWNzRGF0YVxyXG4gICAgICAgICAgICB9KVxyXG5cclxuICAgICAgICAgICAgaWYoISFvcHRpb25hbENoZWNrb3V0KSB7XHJcbiAgICAgICAgICAgICAgICBfREwucHVzaCh7XHJcbiAgICAgICAgICAgICAgICAgICAgY3VzdG9tRXZlbnQ6IHRydWUsXHJcbiAgICAgICAgICAgICAgICAgICAgZGF0YTogb3B0aW9uYWxDaGVja291dFxyXG4gICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH0gY2F0Y2ggKGUpIHtcclxuICAgICAgICBjb25zb2xlLmVycm9yKFwiQ0hFQ0tPVVQgUFVTSCBGQUlMRURcIik7XHJcbiAgICAgICAgY29uc29sZS5sb2coZSlcclxuICAgIH1cclxufVxyXG5cclxuZnVuY3Rpb24gY2hlY2tvdXRPcHRpb24oe3N0ZXAsIG9wdGlvbn0pIHtcclxuICAgIGxldCBhbmFseXRpY3NEYXRhID0ge1xyXG4gICAgICAgIGV2ZW50OiBcImNoZWNrb3V0T3B0aW9uXCIsXHJcbiAgICAgICAgc2VydmVyTmFtZTogZGF0YUxheWVyWzBdPy5jb250ZW50Py5zZXJ2ZXJOYW1lID8/IFwidW5kZWZpbmVkXCIgLFxyXG4gICAgICAgIGVjb21tZXJjZToge1xyXG4gICAgICAgICAgICBjaGVja291dF9vcHRpb246IHtcclxuICAgICAgICAgICAgICAgIGFjdGlvbkZpZWxkOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgc3RlcDogc3RlcCxcclxuICAgICAgICAgICAgICAgICAgICBvcHRpb246IG9wdGlvblxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuXHJcbiAgICByZXR1cm4gYW5hbHl0aWNzRGF0YTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIFRyYW5zYWN0aW9uUHVzaCgpIHtcclxuICAgIHRyeSB7XHJcbiAgICAgICAgbGV0IERPTV9EQVRBID0gZWNvbW1lcmNlRGV0YWlscyxcclxuICAgICAgICAgICAgYW5hbHl0aWNzRGF0YSA9IHtcclxuICAgICAgICAgICAgICAgIGV2ZW50Oid0cmFuc2FjdGlvbicsXHJcbiAgICAgICAgICAgICAgICBzZXJ2ZXJOYW1lOiBkYXRhTGF5ZXJbMF0/LmNvbnRlbnQ/LnNlcnZlck5hbWUgPz8gXCJ1bmRlZmluZWRcIiAsXHJcbiAgICAgICAgICAgICAgICBlY29tbWVyY2U6IHtcclxuICAgICAgICAgICAgICAgICAgICBwdXJjaGFzZToge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBhY3Rpb25GaWVsZDoge30sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHByb2R1Y3RzOiBbXVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICBpZighIURPTV9EQVRBLmVjb21tZXJjZS50cmFuc2FjdGlvbikge1xyXG4gICAgICAgICAgICBsZXQgZmllbGRzID0gbmV3IFRyYW5zYWN0aW9uQWN0aW9uKHtcclxuICAgICAgICAgICAgICAgIGlkOiBET01fREFUQS5lY29tbWVyY2UudHJhbnNhY3Rpb24uaWQsXHJcbiAgICAgICAgICAgICAgICBhZmZpbGlhdGlvbjogRE9NX0RBVEEuZWNvbW1lcmNlLnRyYW5zYWN0aW9uLnN0b3JlLFxyXG4gICAgICAgICAgICAgICAgcmV2ZW51ZTogRE9NX0RBVEEuZWNvbW1lcmNlLnRyYW5zYWN0aW9uLnJldmVudWUsXHJcbiAgICAgICAgICAgICAgICB0YXg6IERPTV9EQVRBLmVjb21tZXJjZS50cmFuc2FjdGlvbi50YXgsXHJcbiAgICAgICAgICAgICAgICBzaGlwcGluZzogRE9NX0RBVEEuZWNvbW1lcmNlLnRyYW5zYWN0aW9uLnNoaXBwaW5nLFxyXG4gICAgICAgICAgICAgICAgY291cG9uOiBET01fREFUQS5lY29tbWVyY2UudHJhbnNhY3Rpb24uZGlzY291bnRcclxuICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgYW5hbHl0aWNzRGF0YS5lY29tbWVyY2UucHVyY2hhc2UuYWN0aW9uRmllbGQgPSBmaWVsZHM7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmKCEhRE9NX0RBVEEuZWNvbW1lcmNlLnByb2R1Y3RzKSB7XHJcbiAgICAgICAgICAgIGFuYWx5dGljc0RhdGEuZWNvbW1lcmNlLnB1cmNoYXNlLnByb2R1Y3RzID0gRE9NX0RBVEEuZWNvbW1lcmNlLnByb2R1Y3RzO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgX0RMLnB1c2goe1xyXG4gICAgICAgICAgICBjdXN0b21FdmVudDogdHJ1ZSxcclxuICAgICAgICAgICAgZGF0YTogYW5hbHl0aWNzRGF0YVxyXG4gICAgICAgIH0pO1xyXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgICBjb25zb2xlLmVycm9yKFwiVFJBTlNBQ1RJT04gUFVTSCBFUlJPUlwiKVxyXG4gICAgfVxyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gdXBkYXRlQ2FydEl0ZW0oeyBwcm9kdWN0RWNvbUxheWVyIH0gPSB7fSkge1xyXG4gICAgdHJ5IHtcclxuICAgICAgICBsZXQgYW5hbHl0aWNzSW5mbyA9IHsuLi5lY29tbWVyY2VEZXRhaWxzfTtcclxuXHJcbiAgICAgICAgaWYoISFwcm9kdWN0RWNvbUxheWVyKSB7XHJcbiAgICAgICAgICAgIGFuYWx5dGljc0luZm8uZWNvbW1lcmNlLnByb2R1Y3RzID0gT0JKVXRpbHMudW5jYXBpdGFsaXNlS2V5KHByb2R1Y3RFY29tTGF5ZXIpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYoISFhbmFseXRpY3NJbmZvLmVjb21tZXJjZSkge1xyXG4gICAgICAgICAgICB2YXIgZVByb2R1Y3RzID0gYW5hbHl0aWNzSW5mby5lY29tbWVyY2UucHJvZHVjdHMsXHJcbiAgICAgICAgICAgICAgICBwcm9kdWN0U3RyaW5nID0gXCJcIjtcclxuXHJcbiAgICAgICAgICAgIHByb2R1Y3RTdHJpbmcgPSBlUHJvZHVjdHMubWFwKCBwcm9kdWN0ID0+IHtcclxuICAgICAgICAgICAgICAgIGlmKCEhcHJvZHVjdC5pZCAmJiBwcm9kdWN0LmlkLmxlbmd0aCA+IDApIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gcHJvZHVjdC5pZFxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgaWYoISFwcm9kdWN0LnNrdSAmJiBwcm9kdWN0LnNrdS5sZW5ndGggPiAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHByb2R1Y3Quc2t1XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pLmpvaW4oXCIsXCIpO1xyXG5cclxuICAgICAgICAgICAgYW5hbHl0aWNzSW5mby5lY29tbWVyY2UuY2FydF9pdGVtcyA9IHByb2R1Y3RTdHJpbmc7XHJcblxyXG4gICAgICAgICAgICBjb25zdCBjYXJ0SW5mbyA9IENvb2tpZVV0aWxzLmdldE9iamVjdChcImNhcnRJbmZvXCIpO1xyXG4gICAgICAgICAgICBpZighIWNhcnRJbmZvKSB7XHJcbiAgICAgICAgICAgICAgICBhbmFseXRpY3NJbmZvLmVjb21tZXJjZS5vcmRlcklkID0gY2FydEluZm9bXCJjYXJ0VG9rZW5cIl07XHJcbiAgICAgICAgICAgICAgICAkKCcuanMtc2hvcHBpbmctYmFnJykuZmluZCgnc3BhbicpLmF0dHIoXCJkYXRhLWNvdW50XCIsIGNhcnRJbmZvW1wiaXRlbUNvdW50XCJdKTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgT2JqZWN0LmtleXMoYW5hbHl0aWNzSW5mbykubWFwKCBrZXkgPT4ge1xyXG4gICAgICAgICAgICAgICAgaWYoYW5hbHl0aWNzSW5mb1trZXldID09PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgICAgICAgICBkZWxldGUgYW5hbHl0aWNzSW5mb1trZXldXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pXHJcblxyXG5cclxuICAgICAgICAgICAgX0RMLnB1c2goe1xyXG4gICAgICAgICAgICAgICAgY3VzdG9tRXZlbnQ6IHRydWUsXHJcbiAgICAgICAgICAgICAgICBkYXRhOiBhbmFseXRpY3NJbmZvXHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgfVxyXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgICBjb25zb2xlLmVycm9yKGVycm9yKTtcclxuICAgIH1cclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGFkZFByb2R1Y3QoZWxlbWVudCwgcXVhbnRpdHkgPSAtMSwgc2x1ZyApIHtcclxuICAgIGlmKCEhZWxlbWVudCkge1xyXG5cdFx0Y29uc3QgICBzdGVwcGVyQ29udGFpbmVyID0gZWxlbWVudC5wYXJlbnROb2RlLnF1ZXJ5U2VsZWN0b3IoJy5zdGVwcGVyX19jb250YWluZXInKSxcclxuICAgICAgICAgICAgICAgIGlucHV0ID0gKHN0ZXBwZXJDb250YWluZXIgIT09IG51bGwpID8gc3RlcHBlckNvbnRhaW5lci5xdWVyeVNlbGVjdG9yKCcuanMtc3RlcHBlci1pbnB1dCcpIDogbnVsbCxcclxuICAgICAgICAgICAgICAgIHF0eSA9IChpbnB1dCAhPT0gbnVsbCkgPyBpbnB1dC52YWx1ZSA6IHF1YW50aXR5LFxyXG4gICAgICAgICAgICAgICAgcHJvZHVjdERPTSA9IGVsZW1lbnQ/LmNsb3Nlc3QoXCIucHJvZHVjdF9fY2FyZFwiKTtcclxuXHJcbiAgICAgICAgbGV0IHByb2R1Y3QgPSBwb3B1bGF0ZVByb2R1Y3QocHJvZHVjdERPTSwgcXR5LCBzbHVnKSxcclxuICAgICAgICAgICAgYWRkQW5hbHl0aWNzID0ge1xyXG4gICAgICAgICAgICAgICAgZXZlbnQ6IFwiYWRkVG9DYXJ0XCIsXHJcbiAgICAgICAgICAgICAgICBzZXJ2ZXJOYW1lOiBkYXRhTGF5ZXJbMF0/LmNvbnRlbnQ/LnNlcnZlck5hbWUgPz8gXCJ1bmRlZmluZWRcIiAsXHJcbiAgICAgICAgICAgICAgICBlY29tbWVyY2U6IHtcclxuICAgICAgICAgICAgICAgICAgICBjdXJyZW5jeUNvZGU6IFwiRVVSXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgYWRkOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHByb2R1Y3RzOiBbIHByb2R1Y3QgXVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICBfREwucHVzaCh7XHJcbiAgICAgICAgICAgIGN1c3RvbUV2ZW50OiB0cnVlLFxyXG4gICAgICAgICAgICBkYXRhOiBhZGRBbmFseXRpY3NcclxuICAgICAgICB9KTtcclxuICAgIH1cclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIHJlbW92ZVByb2R1Y3QoZWxlbWVudCkge1xyXG4gICAgaWYoISFlbGVtZW50KSB7XHJcbiAgICAgICAgbGV0IHByb2R1Y3QgPSBwb3B1bGF0ZVByb2R1Y3QoZWxlbWVudCksXHJcbiAgICAgICAgICAgIHJlbW92ZUFuYWx5dGljcyA9IHtcclxuICAgICAgICAgICAgICAgIGV2ZW50OiBcInJlbW92ZUZyb21DYXJ0XCIsXHJcbiAgICAgICAgICAgICAgICBzZXJ2ZXJOYW1lOiBkYXRhTGF5ZXJbMF0/LmNvbnRlbnQ/LnNlcnZlck5hbWUgPz8gXCJ1bmRlZmluZWRcIiAsXHJcbiAgICAgICAgICAgICAgICBlY29tbWVyY2U6IHtcclxuICAgICAgICAgICAgICAgICAgICByZW1vdmU6IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcHJvZHVjdHM6IFsgcHJvZHVjdCBdXHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgIF9ETC5wdXNoKHtcclxuICAgICAgICAgICAgY3VzdG9tRXZlbnQ6IHRydWUsXHJcbiAgICAgICAgICAgIGRhdGE6IHJlbW92ZUFuYWx5dGljc1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgIH1cclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIHByb2R1Y3RJbXByZXNzaW9uKGVsZW1lbnQpIHtcclxuICAgIGlmKCEhZWxlbWVudCkge1xyXG4gICAgICAgIGxldCBwcm9kdWN0ID0gcG9wdWxhdGVQcm9kdWN0KGVsZW1lbnQsIC0xKSxcclxuICAgICAgICAgICAgZUltcHJlc3Npb25zID0gX0RMLmdldEltcHJlc3Npb25zKCk7XHJcblxyXG4gICAgICAgIGlmKCEhZUltcHJlc3Npb25zKSB7XHJcbiAgICAgICAgICAgIGVJbXByZXNzaW9ucy5wdXNoKHByb2R1Y3QpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxufVxyXG5cclxuZnVuY3Rpb24gcG9wdWxhdGVQcm9kdWN0KGVsZW1lbnQsIHF0eSA9IDEsIHNsdWcgPSBcIlwiKSB7XHJcbiAgICBsZXQgbmFtZSA9IFwiXCIsXHJcbiAgICAgICAgaWQgPSBcIlwiLFxyXG4gICAgICAgIHByaWNlID0gXCJcIixcclxuICAgICAgICBicmFuZCA9IF9QUk9ELmJyYW5kLFxyXG4gICAgICAgIGNhdGVnb3J5ID0gXCJcIixcclxuICAgICAgICB2YXJpYW50ID0gXCJcIixcclxuICAgICAgICBsaXN0ID0gXCJcIixcclxuICAgICAgICBwb3NpdGlvbiA9IFwiXCI7XHJcblxyXG4gICAgaWYoISFlbGVtZW50KSB7XHJcbiAgICAgICAgbmFtZSA9IGVsZW1lbnQuZ2V0QXR0cmlidXRlKF9QUk9ELm5hbWUpO1xyXG4gICAgICAgIGlkID0gaWQubGVuZ3RoIDwgMSA/IGVsZW1lbnQuZ2V0QXR0cmlidXRlKF9QUk9ELmlkKSA6IGlkO1xyXG4gICAgICAgIHByaWNlID0gZWxlbWVudC5nZXRBdHRyaWJ1dGUoX1BST0QucHJpY2UpO1xyXG4gICAgICAgIGNhdGVnb3J5ID0gZWxlbWVudC5nZXRBdHRyaWJ1dGUoX1BST0QuY2F0ZWdvcnkpO1xyXG4gICAgICAgIHZhcmlhbnQgPSBlbGVtZW50LmdldEF0dHJpYnV0ZShfUFJPRC52YXJpYW50KTtcclxuICAgICAgICBsaXN0ID0gZWxlbWVudC5nZXRBdHRyaWJ1dGUoX1BST0QuY2F0ZWdvcnkpO1xyXG4gICAgICAgIHBvc2l0aW9uID0gZWxlbWVudC5nZXRBdHRyaWJ1dGUoX1BST0QucG9zaXRpb24pO1xyXG4gICAgICAgIFxyXG4gICAgICAgIGxldCBwcm9kdWN0QW5jaG9yID0gZWxlbWVudC5jbG9zZXN0KFwiYVtocmVmPScjJ11cIik7XHJcbiAgICAgICAgaWYoISFwcm9kdWN0QW5jaG9yKSB7XHJcbiAgICAgICAgICAgIG5hbWUgPSBwcm9kdWN0QW5jaG9yLmdldEF0dHJpYnV0ZShfUFJPRC5uYW1lKTtcclxuICAgICAgICAgICAgaWQgPSBwcm9kdWN0QW5jaG9yLmdldEF0dHJpYnV0ZShfUFJPRC5pZCk7XHJcbiAgICAgICAgICAgIHByaWNlID0gcHJvZHVjdEFuY2hvci5nZXRBdHRyaWJ1dGUoX1BST0QucHJpY2UpO1xyXG4gICAgICAgICAgICBjYXRlZ29yeSA9IHByb2R1Y3RBbmNob3IuZ2V0QXR0cmlidXRlKF9QUk9ELmNhdGVnb3J5KTtcclxuICAgICAgICAgICAgdmFyaWFudCA9IHByb2R1Y3RBbmNob3IuZ2V0QXR0cmlidXRlKF9QUk9ELnZhcmlhbnQpO1xyXG4gICAgICAgICAgICBsaXN0ID0gcHJvZHVjdEFuY2hvci5nZXRBdHRyaWJ1dGUoX1BST0QuY2F0ZWdvcnkpO1xyXG4gICAgICAgICAgICBwb3NpdGlvbiA9IHByb2R1Y3RBbmNob3IuZ2V0QXR0cmlidXRlKF9QUk9ELnBvc2l0aW9uKTtcclxuICAgICAgICAgICAgcXR5ID0gMTtcclxuICAgICAgICB9XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgIHZhciBlY29tSW5mbyA9IGVjb21tZXJjZURldGFpbHM7XHJcbiAgICAgICAgICAgIGlmKHR5cGVvZiBlY29tSW5mby5wcm9kdWN0ID09IFwib2JqZWN0XCIpIHtcclxuICAgICAgICAgICAgICAgIG5hbWUgPSBlY29tSW5mby5wcm9kdWN0Lm5hbWU7XHJcbiAgICAgICAgICAgICAgICBpZCA9IGVjb21JbmZvLnByb2R1Y3QuZ3RpbjtcclxuICAgICAgICAgICAgICAgIHByaWNlID0gZWNvbUluZm8ucHJvZHVjdC5wcmljZTtcclxuICAgICAgICAgICAgICAgIGNhdGVnb3J5ID0gXCJDaG9jb2xhdGVcIjtcclxuICAgICAgICAgICAgICAgIHZhcmlhbnQgPSBlY29tSW5mby5wcm9kdWN0LnZhcmlhbnQ7XHJcbiAgICAgICAgICAgICAgICBsaXN0ID0gXCJDaG9jb2xhdGVcIjtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0gY2F0Y2goZXgpIHtcclxuICAgICAgICAgICAgY29uc29sZS5lcnJvcihleClcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgbGV0IHByb2R1Y3QgPSB7XHJcbiAgICAgICAgbmFtZTogbmFtZSxcclxuICAgICAgICBpZDogc2x1Zy5sZW5ndGggPCAxID8gaWQgOiBzbHVnLFxyXG4gICAgICAgIHByaWNlOiBwcmljZS5yZXBsYWNlKFwiLFwiLFwiLlwiKSxcclxuICAgICAgICBicmFuZDogYnJhbmQsXHJcbiAgICAgICAgY2F0ZWdvcnk6IGNhdGVnb3J5LFxyXG4gICAgICAgIHZhcmlhbnQ6IHZhcmlhbnQsXHJcbiAgICAgICAgbGlzdDogbGlzdCxcclxuICAgICAgICBwb3NpdGlvbjogcG9zaXRpb25cclxuICAgIH07XHJcblxyXG4gICAgaWYoICEhcXR5ICYmIHF0eSA+IDApIHtcclxuICAgICAgICBwcm9kdWN0LnF1YW50aXR5ID0gcXR5O1xyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiBwcm9kdWN0O1xyXG59XHJcbiIsImltcG9ydCB7IHNjcm9sbCB9IGZyb20gXCIuLi8uLi91dGlscy9kb2N1bWVudFNjcm9sbFwiO1xyXG5cclxuLyoqXHJcbiAqIFRoZSBvdmVybGF5IGNsYXNzIHdpdGggZGVmaW5pdGlvbiBvZiBvcGVuT3ZlcmxheSBhbmQgY2xvc2VPdmVybGF5XHJcbiAqL1xyXG5leHBvcnQgY2xhc3MgcG9wdXAge1xyXG4gICAgLyoqXHJcbiAgICAqIEBwYXJhbSBjb250YWluZXIgLSBPdmVybGF5IENvbnRhaW5lclxyXG4gICAgKiBAcGFyYW0gb3ZlcmxheSAtIE92ZXJsYXkgc2VsZWN0b3IgKElEIHdvdWxkIGJlIGlkZWFsKVxyXG4gICAgKiBAcGFyYW0gdHJpZ2dlciAtIFRyaWdnZXIgdG8gb3BlbiBQb3B1cFxyXG4gICAgKiBAcGFyYW0gY2xvc2UgLSBUcmlnZ2VyIHRvIGNsb3NlIFBvcHVwXHJcbiAgICAqL1xyXG4gICAgY29uc3RydWN0b3Iob3B0aW9ucykge1xyXG4gICAgICAgIHRoaXMub25DbG9zZSA9ICghIW9wdGlvbnMub25DbG9zZSkgPyBvcHRpb25zLm9uQ2xvc2UgOiBudWxsO1xyXG4gICAgICAgIHRoaXMuY29udGFpbmVyID0gKG9wdGlvbnMuY29udGFpbmVyICE9PSBudWxsIHx8IG9wdGlvbnMuY29udGFpbmVyICE9PSB1bmRlZmluZWQgfHwgb3B0aW9ucy5jb250YWluZXIgIT09ICcgJyApID8gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihvcHRpb25zLmNvbnRhaW5lcikgOiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdzZWN0aW9uLmpzLW92ZXJsYXknKTtcclxuICAgICAgICB0aGlzLm92ZXJsYXkgPSAodGhpcy5jb250YWluZXIgIT09IG51bGwpID8gdGhpcy5jb250YWluZXIucXVlcnlTZWxlY3RvcihvcHRpb25zLnNlbGVjdG9yKSA6IG51bGw7XHJcbiAgICAgICAgdGhpcy5jb250YWluZXJNb2RpZmllciA9IG9wdGlvbnMuY29udGFpbmVyTW9kaWZpZXIgfHwgbnVsbDtcclxuICAgICAgICB0aGlzLnRpbWVvdXQgPSBvcHRpb25zLnRpbWVvdXQgfHwgMDtcclxuXHJcbiAgICAgICAgdGhpcy50cmlnZ2VyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihvcHRpb25zLnRyaWdnZXIpO1xyXG4gICAgICAgIHRoaXMuY2xvc2UgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKG9wdGlvbnMuY2xvc2UpO1xyXG5cclxuICAgICAgICB0aGlzLnNjcm9sbCA9IG5ldyBzY3JvbGwoKTtcclxuXHJcbiAgICAgICAgdGhpcy5jb250YWluc0Zvcm0gPSAodGhpcy5jb250YWluZXIgIT0gbnVsbCAmJiB0aGlzLmNvbnRhaW5lci5xdWVyeVNlbGVjdG9yKCdmb3JtJykgIT0gbnVsbCkgPyB0cnVlIDogZmFsc2U7XHJcblxyXG4gICAgICAgIGlmKHRoaXMudHJpZ2dlciAhPT0gbnVsbCkge1xyXG4gICAgICAgICAgICB0aGlzLnRyaWdnZXIuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoZXZlbnQpID0+IHtcclxuICAgICAgICAgICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KCgpPT57XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5vcGVuT3ZlcmxheSgpO1xyXG4gICAgICAgICAgICAgICAgfSwgdGhpcy50aW1lb3V0KVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9IFxyXG5cclxuICAgICAgICBpZih0aGlzLmNsb3NlICE9PSBudWxsKSB7XHJcbiAgICAgICAgICAgIGZvcihsZXQgaT0wOyBpIDwgdGhpcy5jbG9zZS5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgbGV0IGNsID0gdGhpcy5jbG9zZVtpXTtcclxuICAgICAgICAgICAgICAgIGNsLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKGV2ZW50KSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmNsb3NlT3ZlcmxheSgpO1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9IFxyXG5cclxuICAgICAgICBpZih0aGlzLmNvbnRhaW5lciAhPSBudWxsKSB7XHJcbiAgICAgICAgICAgIHRoaXMuY29udGFpbmVyLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKGUpID0+IHtcclxuICAgICAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgICAgICAgICAgIGlmKGUudGFyZ2V0ID09IHRoaXMuY29udGFpbmVyKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5jbG9zZU92ZXJsYXkoKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSlcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBAcGFyYW0ge0V2ZW50fSBlXHJcbiAgICAgKi9cclxuICAgIG9wZW5PdmVybGF5KCl7XHJcbiAgICAgICAgaWYodGhpcy5jb250YWluZXIgIT09IG51bGwgJiYgdGhpcy5vdmVybGF5ICE9PSBudWxsKSB7XHJcbiAgICAgICAgICAgIHRoaXMuc2Nyb2xsLmRpc2FibGVTY3JvbGwoKTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMuY29udGFpbmVyLnN0eWxlLmRpc3BsYXkgPSBcIlwiO1xyXG5cclxuICAgICAgICAgICAgaWYodGhpcy5jb250YWluZXJNb2RpZmllciAhPT0gbnVsbCkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5jb250YWluZXIuY2xhc3NMaXN0LmFkZCh0aGlzLmNvbnRhaW5lck1vZGlmaWVyKTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgdGhpcy5vdmVybGF5LnN0eWxlLmNzc1RleHQgPSBcIlwiO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIEBwYXJhbSB7RXZlbnR9IGVcclxuICAgICAqL1xyXG4gICAgY2xvc2VPdmVybGF5KCl7XHJcbiAgICAgICAgaWYoISF0aGlzLm9uQ2xvc2UpIHtcclxuICAgICAgICAgICAgdGhpcy5vbkNsb3NlKCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmKHRoaXMuY29udGFpbmVyICE9PSBudWxsICYmIHRoaXMub3ZlcmxheSAhPT0gbnVsbCkge1xyXG4gICAgICAgICAgICB0aGlzLnNjcm9sbC5lbmFibGVTY3JvbGwoKTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMuY29udGFpbmVyLnN0eWxlLmNzc1RleHQgPSAnZGlzcGxheTogbm9uZSc7XHJcblxyXG4gICAgICAgICAgICBpZih0aGlzLmNvbnRhaW5lck1vZGlmaWVyICE9PSBudWxsKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmNvbnRhaW5lci5jbGFzc0xpc3QucmVtb3ZlKHRoaXMuY29udGFpbmVyTW9kaWZpZXIpO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICB0aGlzLm92ZXJsYXkuc3R5bGUuY3NzVGV4dCA9ICdkaXNwbGF5OiBub25lJztcclxuXHJcbiAgICAgICAgICAgIGlmKHRoaXMuY29udGFpbnNGb3JtKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnJlc2V0Rm9ybSgpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHJlc2V0Rm9ybSgpIHtcclxuICAgICAgICB2YXIgZm9ybSA9IHRoaXMuY29udGFpbmVyLnF1ZXJ5U2VsZWN0b3IoJ2Zvcm0nKSxcclxuICAgICAgICAgICAgaW5wdXRzID0gZm9ybS5xdWVyeVNlbGVjdG9yQWxsKCdpbnB1dFt0eXBlXTpub3QoW3R5cGU9XCJzdWJtaXRcIl0pLCB0ZXh0YXJlYScpLFxyXG4gICAgICAgICAgICBjaGVja0JveGVzID0gdGhpcy5jb250YWluZXIucXVlcnlTZWxlY3RvckFsbCgnaW5wdXRbdHlwZT1cImNoZWNrYm94XCJdJylcclxuXHJcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBpbnB1dHMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgY29uc3QgICBpbnB1dCA9IGlucHV0c1tpXSxcclxuICAgICAgICAgICAgICAgICAgICB0eXBlID0gaW5wdXQuZ2V0QXR0cmlidXRlKCd0eXBlJyk7XHJcbiAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgaWYoIWlucHV0LmNsYXNzTGlzdC5jb250YWlucyhcImpzLXJlc2V0LWV4Y2VwdGlvblwiKSkge1xyXG4gICAgICAgICAgICAgICAgaW5wdXQudmFsdWUgPSBcIlwiO1xyXG4gICAgICAgICAgICAgICAgaWYodHlwZSA9PT0gJ2hpZGRlbicpIHtcclxuICAgICAgICAgICAgICAgICAgICBpbnB1dC5kaXNwYXRjaEV2ZW50KG5ldyBFdmVudChcImNoYW5nZVwiKSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBpZih0eXBlID09PSAnbnVtYmVyJykge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmKGlucHV0LnBhcmVudE5vZGUucXVlcnlTZWxlY3RvckFsbChcIi5qcy1yZXZpZXctaXRlbVwiKS5sZW5ndGggPiAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHJldmlld0l0ZW1zID0gaW5wdXQucGFyZW50Tm9kZS5xdWVyeVNlbGVjdG9yQWxsKFwiLmpzLXJldmlldy1pdGVtXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBmb3IodmFyIGo9MDsgaiA8IHJldmlld0l0ZW1zLmxlbmd0aDsgaisrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXZpZXdJdGVtc1tqXS5jbGFzc0xpc3QucmVtb3ZlKFwicHJvZHVjdC1yZXZpZXctLWFjdGl2ZVwiKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGlmKHR5cGUgPT09ICdjaGVja2JveCcpIHtcclxuICAgICAgICAgICAgICAgICAgICBpbnB1dC5jaGVja2VkID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgaW5wdXQucGFyZW50RWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKFwiYWN0aXZlXCIpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgaWYoaW5wdXQucGFyZW50Tm9kZSAhPT0gbnVsbCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlucHV0LnBhcmVudE5vZGUuY2xhc3NMaXN0LnJlbW92ZShcIm5vdHZhbGlkXCIpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZihmb3JtLnF1ZXJ5U2VsZWN0b3IoJy5mb3JtLWlucHV0X19lcnJvci0tZ2xvYmFsJykgIT09IG51bGwpIHtcclxuICAgICAgICAgICAgZm9ybS5xdWVyeVNlbGVjdG9yKCcuZm9ybS1pbnB1dF9fZXJyb3ItLWdsb2JhbCcpLmNsYXNzTGlzdC5yZW1vdmUoXCJzaG93XCIpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxufSIsImV4cG9ydCBjb25zdCBhZGRUb0NhcnQgPSBcIi9hcGkvY2FydC9ndWVzdC9pdGVtXCI7XHJcbmV4cG9ydCBjb25zdCBwYXltZW50ID0gXCIvYXBpL2NoZWNrb3V0L2d1ZXN0L2RlbGl2ZXJ5XCI7XHJcbmV4cG9ydCBjb25zdCByZXZpZXcgPSBcIi9hcGkvY2hlY2tvdXQvZ3Vlc3QvcGF5bWVudFwiO1xyXG5leHBvcnQgY29uc3QgbWluaUNhcnQgPSBcIi9hcGkvbWluaS1jYXJ0XCI7XHJcbmV4cG9ydCBjb25zdCB1cGRhdGVJdGVtID0gXCIvYXBpL2NhcnQvZ3Vlc3QvdXBkYXRlLWl0ZW1cIjtcclxuZXhwb3J0IGNvbnN0IHJlbW92ZUl0ZW0gPSBcIi9hcGkvY2FydC9ndWVzdC9yZW1vdmUtaXRlbVwiO1xyXG5leHBvcnQgY29uc3QgcGxhY2VPcmRlciA9IFwiL2FwaS9jaGVja291dC9ndWVzdC9vcmRlclwiOyIsImV4cG9ydCBjb25zdCBBcnJheVV0aWxzID0ge1xyXG4gICAgaW5jbHVkZXM6IChpdGVtLCBhcnJheSkgPT4ge1xyXG4gICAgICAgIGZvciAobGV0IGluZGV4ID0gMDsgaW5kZXggPCBhcnJheS5sZW5ndGg7IGluZGV4KyspIHtcclxuICAgICAgICAgICAgY29uc3QgYXJyVmFsdWUgPSBhcnJheVtpbmRleF07XHJcblxyXG4gICAgICAgICAgICBpZihhcnJWYWx1ZSA9PSBpdGVtKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgfSxcclxuXHJcbiAgICBmaWx0ZXI6IChhcnIsIGNvbmRpdGlvbikgPT4ge1xyXG4gICAgICAgIGxldCBpdGVtcyA9IFtdO1xyXG5cclxuICAgICAgICBhcnIuZmlsdGVyKChpdGVtKSA9PiB7XHJcbiAgICAgICAgICAgIGxldCBhdHRyaWJ1dGUgPSBpdGVtLmdldEF0dHJpYnV0ZShjb25kaXRpb24pO1xyXG5cclxuICAgICAgICAgICAgaWYoYXR0cmlidXRlICE9PSB1bmRlZmluZWQgJiYgYXR0cmlidXRlICE9PSBudWxsKSB7XHJcbiAgICAgICAgICAgICAgICBpdGVtcy5wdXNoKGl0ZW0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSlcclxuXHJcbiAgICAgICAgcmV0dXJuIGl0ZW1zO1xyXG4gICAgfSxcclxuICAgIFxyXG5cclxuICAgIGNsYXNzRXhjZXB0aW9uRE9NOiAoYXJyLCBzZWxlY3RvcikgPT4ge1xyXG4gICAgICAgIGxldCBsaW5rcyA9IFtdO1xyXG5cclxuICAgICAgICBmb3IobGV0IGkgPSAwOyBpIDwgYXJyLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgIGxldCBsaW5rID0gYXJyW2ldO1xyXG4gICAgICAgICAgICBpZighQXJyYXlVdGlscy5pbmNsdWRlcyhzZWxlY3RvciwgbGluay5jbGFzc0xpc3QpKXtcclxuICAgICAgICAgICAgICAgIGxpbmtzLnB1c2gobGluayk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHJldHVybiBsaW5rcztcclxuICAgIH0sXHJcblxyXG5cdGR5bmFtaWNTb3J0OiAocHJvcGVydHkpID0+IHtcclxuXHRcdGxldCBzb3J0T3JkZXIgPSAxO1xyXG5cdFx0aWYocHJvcGVydHlbMF0gPT09ICctJyl7XHJcblx0XHRcdHNvcnRPcmRlciA9IC0xO1xyXG5cdFx0XHRwcm9wZXJ0eSA9IHByb3BlcnR5LnN1YnN0cigxKTtcclxuXHRcdH1cclxuXHRcdHJldHVybiBmdW5jdGlvbihhLGIpe1xyXG5cdFx0XHRsZXQgcmVzdWx0ID0gKGFbcHJvcGVydHldIDwgYltwcm9wZXJ0eV0pID8gLTEgOiAoYVtwcm9wZXJ0eV0gPiBiW3Byb3BlcnR5XSkgPyAxIDogMDtcclxuXHRcdFx0cmV0dXJuIHJlc3VsdCAqIHNvcnRPcmRlcjtcclxuXHRcdH1cclxuXHR9XHJcbn0iLCJleHBvcnQgZnVuY3Rpb24gbGF6eUxvYWRJbWFnZSgpIHtcclxuICAgIGxldCBpbWFnZXMgPSAkKFwiaW1nW2RhdGEtc3JjXVwiKSxcclxuICAgICAgICBzb3VyY2VzID0gJChcInNvdXJjZVtkYXRhLXNyY11cIik7XHJcblxyXG4gICAgZm9yKHZhciBqID0gMDsgaiA8IGltYWdlcy5sZW5ndGg7IGorKykge1xyXG4gICAgICAgIGNvbnN0IGltZyA9IGltYWdlc1tqXTtcclxuXHJcbiAgICAgICAgLy9vbmx5IGxhenkgbG9hZCBpbWFnZSBpZiBpbWFnZSBpcyBub3QgaW5zaWRlIHByb2R1Y3QgbGlzdCBcclxuICAgICAgICBpZigkKGltZykuY2xvc2VzdChcIi5wcm9kdWN0LWxpc3RfX2NvbnRhaW5lclwiKS5sZW5ndGggPT09IDApIHtcclxuICAgICAgICAgICAgaWYoICQoaW1nKS5hdHRyKFwic3JjXCIpID09PSBcIlwiIFxyXG4gICAgICAgICAgICAgICAgfHwgJChpbWcpLmF0dHIoXCJzcmNcIikgPT09IG51bGxcclxuICAgICAgICAgICAgICAgIHx8ICQoaW1nKS5hdHRyKFwic3JjXCIpID09PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgICAgICQoaW1nKS5hdHRyKFwic3JjXCIsJChpbWcpLmF0dHIoXCJkYXRhLXNyY1wiKSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBcclxuICAgIGZvcih2YXIgaiA9IDA7IGogPCBzb3VyY2VzLmxlbmd0aDsgaisrKSB7XHJcbiAgICAgICAgY29uc3Qgc291cmNlID0gc291cmNlc1tqXTtcclxuXHJcbiAgICAgICAgLy9vbmx5IGxhenkgbG9hZCBpbWFnZSBpZiBpbWFnZSBpcyBub3QgaW5zaWRlIHByb2R1Y3QgbGlzdCBcclxuICAgICAgICBpZigkKHNvdXJjZSkuY2xvc2VzdChcIi5wcm9kdWN0LWxpc3RfX2NvbnRhaW5lclwiKS5sZW5ndGggPT09IDApIHtcclxuICAgICAgICAgICAgaWYoICQoc291cmNlKS5hdHRyKFwic3Jjc2V0XCIpID09PSBcIlwiIFxyXG4gICAgICAgICAgICAgICAgfHwgJChzb3VyY2UpLmF0dHIoXCJzcmNzZXRcIikgPT09IG51bGwpIHtcclxuICAgICAgICAgICAgICAgICQoc291cmNlKS5hdHRyKFwic3Jjc2V0XCIsICQoc291cmNlKS5hdHRyKFwiZGF0YS1zcmNcIikpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC8vIEltZ1V0aWxzLmxhenlMb2FkSW5pdCgpO1xyXG59IiwiZXhwb3J0IGNsYXNzIGFjY29yZGlvbiB7XHJcbiAgICBjb25zdHJ1Y3RvcihvcHRpb25zKSB7XHJcbiAgICAgICAgdGhpcy5FeHBhbmRlZCA9IGZhbHNlO1xyXG4gICAgICAgIHRoaXMuY29udGFpbmVyID0gKHR5cGVvZiBvcHRpb25zLmNvbnRhaW5lciA9PSBcIm9iamVjdFwiKSA/IG9wdGlvbnMuY29udGFpbmVyIDogZG9jdW1lbnQucXVlcnlTZWxlY3RvcihvcHRpb25zLmNvbnRhaW5lcik7XHJcbiAgICAgICAgdGhpcy50cmlnZ2VyID0gISF0aGlzLmNvbnRhaW5lciA/IHRoaXMuY29udGFpbmVyLnF1ZXJ5U2VsZWN0b3Iob3B0aW9ucy50cmlnZ2VyKSA6IG51bGw7XHJcbiAgICAgICAgdGhpcy5jb250ZW50ID0gISF0aGlzLmNvbnRhaW5lciA/IHRoaXMuY29udGFpbmVyLnF1ZXJ5U2VsZWN0b3Iob3B0aW9ucy5jb250ZW50KSA6IG51bGw7XHJcblxyXG4gICAgICAgIHRoaXMuaWNvbiA9ICEhdGhpcy5jb250YWluZXIgPyB0aGlzLmNvbnRhaW5lci5xdWVyeVNlbGVjdG9yKG9wdGlvbnMuaWNvbikgOiBudWxsO1xyXG4gICAgICAgIHRoaXMuaWNvbk1vZGlmaWVyID0gb3B0aW9ucy5pY29uTW9kaWZpZXI7XHJcbiAgICAgICAgdGhpcy5jb250ZW50TW9kaWZpZXIgPSBvcHRpb25zLmNvbnRlbnRNb2RpZmllcjtcclxuICAgICAgICB0aGlzLm11bHRpcGxlVHJpZ2dlciA9ICEhb3B0aW9ucy5tdWx0aXBsZVRyaWdnZXIgPyBvcHRpb25zLm11bHRpcGxlVHJpZ2dlciA6IGZhbHNlO1xyXG4gICAgICAgIHRoaXMubXVsdGlwbGVDb250ZW50ID0gISF0aGlzLmNvbnRhaW5lciA/IHRoaXMuY29udGFpbmVyLnF1ZXJ5U2VsZWN0b3JBbGwob3B0aW9ucy5tdWx0aXBsZUNvbnRlbnQpIDogbnVsbDtcclxuICAgICAgICB0aGlzLm11bHRpcGxlQ29udGVudE1vZGlmaWVyID0gb3B0aW9ucy5tdWx0aXBsZUNvbnRlbnRNb2RpZmllcjtcclxuXHJcbiAgICAgICAgdGhpcy5vbk9wZW4gPSAhIW9wdGlvbnMub25PcGVuICYmIHR5cGVvZiBvcHRpb25zLm9uT3BlbiA9PSBcImZ1bmN0aW9uXCIgPyBvcHRpb25zLm9uT3BlbiA6IG51bGw7XHJcbiAgICAgICAgdGhpcy5vbkNsb3NlID0gISFvcHRpb25zLm9uQ2xvc2UgJiYgdHlwZW9mIG9wdGlvbnMub25DbG9zZSA9PSBcImZ1bmN0aW9uXCIgPyBvcHRpb25zLm9uQ2xvc2UgOiBudWxsO1xyXG5cclxuICAgICAgICBpZiggdGhpcy5tdWx0aXBsZVRyaWdnZXIgXHJcbiAgICAgICAgICAgICYmICEhdGhpcy50cmlnZ2VyKSB7XHJcbiAgICAgICAgICAgIHRoaXMudHJpZ2dlciA9IHRoaXMuY29udGFpbmVyLnF1ZXJ5U2VsZWN0b3JBbGwob3B0aW9ucy50cmlnZ2VyKTtcclxuXHJcbiAgICAgICAgICAgIGZvcihsZXQgaT0wOyBpIDwgdGhpcy50cmlnZ2VyLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICBsZXQgdHJpZ2dlciA9IHRoaXMudHJpZ2dlcltpXTtcclxuXHJcbiAgICAgICAgICAgICAgICB0cmlnZ2VyLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKGUpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy50b2dnbGVBY2NvcmRpb24odHJpZ2dlcik7XHJcbiAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmKCAhdGhpcy5tdWx0aXBsZVRyaWdnZXIgXHJcbiAgICAgICAgICAgICYmIHRoaXMudHJpZ2dlciAhPSBudWxsKSB7XHJcbiAgICAgICAgICAgIHRoaXMudHJpZ2dlci5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChlKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnRvZ2dsZUFjY29yZGlvbigpO1xyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICB0b2dnbGVBY2NvcmRpb24odHJpZ2dlcil7XHJcbiAgICAgICAgaWYodGhpcy5jb250ZW50ICE9PSBudWxsIHx8IHRoaXMubXVsdGlwbGVDb250ZW50Lmxlbmd0aCA+IDApIHtcclxuICAgICAgICAgICAgc3dpdGNoICh0aGlzLkV4cGFuZGVkKSB7XHJcbiAgICAgICAgICAgICAgICBjYXNlIHRydWU6XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5jbG9zZUFjY29yZGlvbih0cmlnZ2VyKTtcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICBkZWZhdWx0OlxyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMub3BlbkFjY29yZGlvbih0cmlnZ2VyKTtcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBvcGVuQWNjb3JkaW9uKHRyaWdnZXIgPSBudWxsKXtcclxuICAgICAgICBpZighIXRoaXMub25PcGVuKSB7XHJcbiAgICAgICAgICAgIGlmKCEhdHJpZ2dlcikge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5vbk9wZW4odHJpZ2dlcik7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmKHRoaXMuaWNvbiAhPSBudWxsKSB7XHJcbiAgICAgICAgICAgIHRoaXMuaWNvbi5jbGFzc0xpc3QuYWRkKHRoaXMuaWNvbk1vZGlmaWVyKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGZvcihsZXQgaT0wOyBpPHRoaXMubXVsdGlwbGVDb250ZW50Lmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgIHRoaXMubXVsdGlwbGVDb250ZW50W2ldLmNsYXNzTGlzdC5hZGQodGhpcy5tdWx0aXBsZUNvbnRlbnRNb2RpZmllcik7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB0aGlzLmNvbnRlbnQuY2xhc3NMaXN0LmFkZCh0aGlzLmNvbnRlbnRNb2RpZmllcik7XHJcblxyXG4gICAgICAgIHRoaXMuRXhwYW5kZWQgPSB0cnVlO1xyXG4gICAgfVxyXG5cclxuICAgIGNsb3NlQWNjb3JkaW9uKHRyaWdnZXIgPSBudWxsKXtcclxuICAgICAgICBpZih0aGlzLmljb24gIT0gbnVsbCkge1xyXG4gICAgICAgICAgICB0aGlzLmljb24uY2xhc3NMaXN0LnJlbW92ZSh0aGlzLmljb25Nb2RpZmllcik7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZighIXRoaXMub25DbG9zZSkge1xyXG4gICAgICAgICAgICB0aGlzLm9uQ2xvc2UodGhpcy5jb250ZW50LCB0cmlnZ2VyKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGZvcihsZXQgaT0wOyBpPCB0aGlzLm11bHRpcGxlQ29udGVudC5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICB0aGlzLm11bHRpcGxlQ29udGVudFtpXS5jbGFzc0xpc3QucmVtb3ZlKHRoaXMubXVsdGlwbGVDb250ZW50TW9kaWZpZXIpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdGhpcy5jb250ZW50LmNsYXNzTGlzdC5yZW1vdmUodGhpcy5jb250ZW50TW9kaWZpZXIpO1xyXG5cclxuICAgICAgICB0aGlzLkV4cGFuZGVkID0gZmFsc2U7XHJcbiAgICB9XHJcbn0iLCJpbXBvcnQgeyBhY2NvcmRpb24gfSBmcm9tIFwiLi9jb21wb25lbnRzL2FjY29yZGlvblwiO1xyXG5cclxuZXhwb3J0IGNsYXNzIGFjY29yZGlvbkZhY3Rvcnkge1xyXG4gICAgY29uc3RydWN0b3Iob3B0aW9ucykge1xyXG4gICAgICAgIHRoaXMuY29udGFpbmVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChvcHRpb25zLmNvbnRhaW5lcik7XHJcbiAgICAgICAgdGhpcy50cmlnZ2VyID0gb3B0aW9ucy50cmlnZ2VyO1xyXG4gICAgICAgIHRoaXMuY29udGVudCA9IG9wdGlvbnMuY29udGVudDtcclxuICAgICAgICB0aGlzLmljb24gPSBvcHRpb25zLmljb247XHJcbiAgICAgICAgdGhpcy5pY29uTW9kaWZpZXIgPSBvcHRpb25zLmljb25Nb2RpZmllcjtcclxuICAgICAgICB0aGlzLmNvbnRlbnRNb2RpZmllciA9IG9wdGlvbnMuY29udGVudE1vZGlmaWVyO1xyXG4gICAgICAgIHRoaXMubXVsdGlwbGVUcmlnZ2VyID0gb3B0aW9ucy5tdWx0aXBsZVRyaWdnZXI7XHJcbiAgICAgICAgdGhpcy5tdWx0aXBsZUNvbnRlbnQgPSBvcHRpb25zLm11bHRpcGxlQ29udGVudDtcclxuICAgICAgICB0aGlzLm11bHRpcGxlQ29udGVudE1vZGlmaWVyID0gb3B0aW9ucy5tdWx0aXBsZUNvbnRlbnRNb2RpZmllcjtcclxuICAgICAgICB0aGlzLm9uT3BlbiA9IG9wdGlvbnMub25PcGVuO1xyXG4gICAgICAgIHRoaXMub25DbG9zZSA9IG9wdGlvbnMub25DbG9zZTtcclxuXHJcbiAgICAgICAgaWYodGhpcy50cmlnZ2VyICE9PSBcIi5qcy1mb290ZXItYWNjb3JkaW9uXCIpe1xyXG4gICAgICAgICAgICB0aGlzLmNyZWF0ZUFjY29yZGlvbigpO1xyXG4gICAgICAgIH0gZWxzZSBpZih3aW5kb3cub3V0ZXJXaWR0aDw9MTAyNCkge1xyXG4gICAgICAgICAgICB0aGlzLmNyZWF0ZUFjY29yZGlvbigpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBjcmVhdGVBY2NvcmRpb24oKSB7XHJcbiAgICAgICAgZm9yKGxldCBpID0gMDsgaSA8IHRoaXMuY29udGFpbmVyLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgIG5ldyBhY2NvcmRpb24oe1xyXG4gICAgICAgICAgICAgICAgY29udGFpbmVyOiB0aGlzLmNvbnRhaW5lcltpXSxcclxuICAgICAgICAgICAgICAgIHRyaWdnZXI6IHRoaXMudHJpZ2dlcixcclxuICAgICAgICAgICAgICAgIGNvbnRlbnQ6IHRoaXMuY29udGVudCxcclxuICAgICAgICAgICAgICAgIGljb246IHRoaXMuaWNvbixcclxuICAgICAgICAgICAgICAgIGljb25Nb2RpZmllcjogdGhpcy5pY29uTW9kaWZpZXIsXHJcbiAgICAgICAgICAgICAgICBjb250ZW50TW9kaWZpZXI6IHRoaXMuY29udGVudE1vZGlmaWVyLFxyXG4gICAgICAgICAgICAgICAgbXVsdGlwbGVUcmlnZ2VyOiB0aGlzLm11bHRpcGxlVHJpZ2dlcixcclxuICAgICAgICAgICAgICAgIG11bHRpcGxlQ29udGVudDogdGhpcy5tdWx0aXBsZUNvbnRlbnQsXHJcbiAgICAgICAgICAgICAgICBtdWx0aXBsZUNvbnRlbnRNb2RpZmllcjogdGhpcy5tdWx0aXBsZUNvbnRlbnRNb2RpZmllcixcclxuICAgICAgICAgICAgICAgIG9uT3BlbjogdGhpcy5vbk9wZW4sXHJcbiAgICAgICAgICAgICAgICBvbkNsb3NlOiB0aGlzLm9uQ2xvc2VcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59IiwiaW1wb3J0IFNpbXBsZUxvYWRlciBmcm9tIFwiLi4vLi4vdmlldy9jb21wb25lbnRzL3NpbXBsZS1sb2FkZXJcIjtcclxuaW1wb3J0IHsgc2Nyb2xsIH0gZnJvbSAnLi4vLi4vdXRpbHMvZG9jdW1lbnRTY3JvbGwnO1xyXG5pbXBvcnQgeyBhZGRUb0NhcnQgfSBmcm9tICcuLi8uLi9tb2RlbC9lLWNvbW1lcmNlL3Byb2R1Y3QtZW5kcG9pbnRzJztcclxuaW1wb3J0IHsgQ29va2llVXRpbHMgfSBmcm9tIFwiLi4vLi4vdXRpbHMvY29va2llLXV0aWxzXCI7XHJcbmltcG9ydCB7IGxhenlMb2FkSW1hZ2UgfSBmcm9tICcuLi9sYXp5bG9hZEltYWdlJztcclxuaW1wb3J0IHsgYWRkUHJvZHVjdCwgdXBkYXRlQ2FydEl0ZW0gfSBmcm9tIFwiLi4vLi4vdXRpbHMvYW5hbHl0aWNzL2VuaGFuY2VkLWVjb21cIjtcclxuXHJcbmNvbnN0ICAgVVJMX0FERCA9IGFkZFRvQ2FydCxcclxuICAgICAgICBfRUNPTSA9IHtcclxuICAgICAgICAgICAgYWRkUHJvZHVjdCxcclxuICAgICAgICAgICAgdXBkYXRlQ2FydEl0ZW1cclxuICAgICAgICB9LFxyXG4gICAgICAgIF9JTUcgPSB7XHJcbiAgICAgICAgICAgIGxhenlMb2FkSW1hZ2VcclxuICAgICAgICB9O1xyXG5cclxuY2xhc3MgQWRkVG9DYXJ0Q29udHJvbGxlciB7XHJcblxyXG4gICAgY29uc3RydWN0b3IoKSB7XHJcbiAgICAgICAgdGhpcy5zaW1wbGVMb2FkZXIgPSBuZXcgU2ltcGxlTG9hZGVyKHt9KTtcclxuICAgICAgICB0aGlzLnNjcm9sbCA9IG5ldyBzY3JvbGwoKTtcclxuICAgIH1cclxuXHJcbiAgICBfaW5pdCgpIHtcclxuICAgICAgICB0aGlzLl9pbml0UHJvZHVjdERldGFpbEFkZFRvQ2FydCgpO1xyXG4gICAgICAgIHRoaXMuX2luaXRTaW1wbGVBZGRUb0NhcnQoKTtcclxuICAgIH1cclxuXHJcbiAgICBfaW5pdFNpbXBsZUFkZFRvQ2FydCgpIHtcclxuICAgICAgICAvKipcclxuICAgICAgICAgKiBBZGQgdG8gY2FydCBmcm9tIHByb2R1Y3QgY2F0YWxvZ3VlIGNhcnQgaWNvblxyXG4gICAgICAgICAqL1xyXG4gICAgICAgICQoZG9jdW1lbnQpLm9uKCdjbGljaycsIFwiYVtkYXRhLXNsdWddW2hyZWY9JyMnXVwiLCAoZSkgPT4ge1xyXG4gICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAgICAgICAgIGlmKCQoJy5zZWFyY2gtLXNob3cnKS5sZW5ndGggPiAwKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnNpbXBsZUxvYWRlci5hZGRDbGFzcyhcInNpbXBsZS1sb2FkZXItLXNlYXJjaFwiKTtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuc2ltcGxlTG9hZGVyLnJlbW92ZUNsYXNzKFwic2ltcGxlLWxvYWRlci0tc2VhcmNoXCIpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGNvbnN0IHByb2R1Y3RTbHVnID0gJChlLnRhcmdldCkuY2xvc2VzdChcImFbZGF0YS1zbHVnXVtocmVmPScjJ11cIikgPyAkKGUudGFyZ2V0KS5jbG9zZXN0KFwiYVtkYXRhLXNsdWddW2hyZWY9JyMnXVwiKS5hdHRyKFwiZGF0YS1zbHVnXCIpIDogbnVsbDtcclxuICAgICAgICAgICAgdGhpcy5hZGRUb0NhcnQocHJvZHVjdFNsdWcsIGUudGFyZ2V0KTtcclxuICAgICAgICB9KVxyXG4gICAgfVxyXG5cclxuICAgIF9pbml0UHJvZHVjdERldGFpbEFkZFRvQ2FydCgpIHtcclxuICAgICAgICBsZXQgYWRkQnRuID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnByb2R1Y3QtZGV0YWlscyAuanMtYWRkLXRvLWNhcnQnKTtcclxuXHJcbiAgICAgICAgaWYoISFhZGRCdG4pIHtcclxuICAgICAgICAgICAgYWRkQnRuLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKGUpID0+IHtcclxuICAgICAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgICAgICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgICBjdGFDb250YWluZXIgPSBhZGRCdG4ucGFyZW50Tm9kZSxcclxuICAgICAgICAgICAgICAgICAgICBxdHlDb250YWluZXIgPSBjdGFDb250YWluZXIucXVlcnlTZWxlY3RvcignLnN0ZXBwZXJfX2NvbnRhaW5lcicpLFxyXG4gICAgICAgICAgICAgICAgICAgIHF0eUlucHV0ID0gKHF0eUNvbnRhaW5lciAhPT0gbnVsbCkgPyBxdHlDb250YWluZXIucXVlcnlTZWxlY3RvcignLmpzLXN0ZXBwZXItaW5wdXQnKTogbnVsbCxcclxuICAgICAgICAgICAgICAgICAgICBpdGVtSWQgPSAocXR5SW5wdXQgIT09IG51bGwpID8gcXR5SW5wdXQuZ2V0QXR0cmlidXRlKFwiZGF0YS1pdGVtLWlkXCIpIDogbnVsbCxcclxuICAgICAgICAgICAgICAgICAgICBxdHkgPSAocXR5SW5wdXQgIT09IG51bGwpID8gcXR5SW5wdXQudmFsdWUgOiBudWxsLFxyXG4gICAgICAgICAgICAgICAgICAgIGRlc2NSYWRpbyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuanMtcHJvZHVjdC1kZXNjIGlucHV0W3R5cGU9J3JhZGlvJ11bY2hlY2tlZD0ndHJ1ZSddXCIpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmFkZFRvQ2FydCghIWRlc2NSYWRpbyA/IGRlc2NSYWRpby52YWx1ZSA6IGl0ZW1JZCwgYWRkQnRuLCBxdHkpO1xyXG4gICAgICAgICAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKGVycm9yKVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBhZGRUb0NhcnQoc2x1ZywgdHJpZ2dlciwgcXR5ID0gMSkge1xyXG4gICAgICAgIGNvbnN0IGluQ2FydFByb2R1Y3QgPSAkKCcuaW4tY2FydF9fcHJvZHVjdCcpLFxyXG4gICAgICAgICAgICAgICAgZXJyb3JNc2cgPSAhIWRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCJbZGF0YS1zdG9jay1tc2ddXCIpID8gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIltkYXRhLXN0b2NrLW1zZ11cIikuZ2V0QXR0cmlidXRlKFwiZGF0YS1zdG9jay1tc2dcIikgOiBcIkFuIGVycm9yIG9jY3VyZWRcIjtcclxuXHJcbiAgICAgICAgdmFyIGRhdGEgPSB7XHJcbiAgICAgICAgICAgIGNhY2hlOiBmYWxzZSxcclxuICAgICAgICAgICAgdXJsOiBVUkxfQURELFxyXG4gICAgICAgICAgICBtZXRob2Q6ICdQT1NUJyxcclxuICAgICAgICAgICAgZGF0YVR5cGU6ICdqc29uJyxcclxuICAgICAgICAgICAgZGF0YToge1xyXG4gICAgICAgICAgICAgICAgaXRlbUlkOiBzbHVnLFxyXG4gICAgICAgICAgICAgICAgcXVhbnRpdHk6IHF0eVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfTtcclxuICAgICAgICB0aGlzLnNpbXBsZUxvYWRlci5zaG93TG9hZGVyKCk7XHJcbiAgICAgICAgJC5hamF4KGRhdGEpLnN1Y2Nlc3MoKHJlc3BvbnNlLCBzdGF0dXMpID0+IHtcclxuICAgICAgICAgICAgaWYocmVzcG9uc2Uuc3VjY2Vzcyl7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnNpbXBsZUxvYWRlci5oaWRlTG9hZGVyKCk7XHJcblxyXG4gICAgICAgICAgICAgICAgLyoqXHJcbiAgICAgICAgICAgICAgICAgKiBVcGRhdGUgZGF0YUxheWVyIFxyXG4gICAgICAgICAgICAgICAgICovXHJcbiAgICAgICAgICAgICAgICBfRUNPTS5hZGRQcm9kdWN0KHRyaWdnZXIsIHF0eSwgc2x1Zyk7XHJcbiAgICAgICAgICAgICAgICBfRUNPTS51cGRhdGVDYXJ0SXRlbShyZXNwb25zZSk7XHJcblxyXG4gICAgICAgICAgICAgICAgaW5DYXJ0UHJvZHVjdC5odG1sKHJlc3BvbnNlLnJlc3VsdC50b1N0cmluZygpKTtcclxuICAgICAgICAgICAgICAgIGlmKCQoJy5qcy1wcm9kdWN0LWFkZGVkJykgIT09IG51bGwpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZighISQoJy5qcy1oZWFkZXItbWQtaGFtYnVyZ2VyJykpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkKCcuanMtaGVhZGVyLW1kLWhhbWJ1cmdlcicpLnRyaWdnZXIoXCJjbGlja1wiKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSwzMClcclxuICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc2hvd09ySGlkZUFkZGVkUHJvZHVjdCgpO1xyXG4gICAgICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnNob3dPckhpZGVBZGRlZFByb2R1Y3QoKTtcclxuICAgICAgICAgICAgICAgICAgICB9LCAyMDAwKVxyXG5cclxuICAgICAgICAgICAgICAgICAgICBjb25zdCBjYXJ0SW5mbyA9IENvb2tpZVV0aWxzLmdldE9iamVjdChcImNhcnRJbmZvXCIpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBpZighIWNhcnRJbmZvKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICQoJy5qcy1zaG9wcGluZy1iYWcnKS5maW5kKCdzcGFuJykuYXR0cihcImRhdGEtY291bnRcIiwgY2FydEluZm9bXCJpdGVtQ291bnRcIl0pO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBfSU1HLmxhenlMb2FkSW1hZ2UoKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuc2ltcGxlTG9hZGVyLmhpZGVMb2FkZXIoKTtcclxuICAgICAgICAgICAgICAgIGxldCBvdmVybGF5U2VjdGlvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5qcy1vdmVybGF5JyksXHJcbiAgICAgICAgICAgICAgICAgICAgZXJyb3JPdmVybGF5ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJvdXQtc3RvY2tcIik7XHJcblxyXG4gICAgICAgICAgICAgICAgaWYoISFlcnJvck92ZXJsYXkpIHtcclxuICAgICAgICAgICAgICAgICAgICBvdmVybGF5U2VjdGlvbi5zdHlsZSA9IFwiXCI7XHJcbiAgICAgICAgICAgICAgICAgICAgZXJyb3JPdmVybGF5LnN0eWxlID0gXCJcIjtcclxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgbGV0IGNvbnRhaW5lciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNsb3NlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGl0bGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiaDNcIik7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGNvbnRhaW5lci5jbGFzc0xpc3QuYWRkKFwib3ZlcmxheV9fY29udGFpbmVyXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnRhaW5lci5zZXRBdHRyaWJ1dGUoXCJpZFwiLCBcIm91dC1zdG9ja1wiKTtcclxuICAgICAgICAgICAgICAgICAgICBjbG9zZS5jbGFzc0xpc3QuYWRkKFwib3ZlcmxheV9fY2xvc2VcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgdGl0bGUuY2xhc3NMaXN0LmFkZChcIm92ZXJsYXlfX3RpdGxlXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgIHRpdGxlLmlubmVyVGV4dCA9IGVycm9yTXNnO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBjb250YWluZXIuYXBwZW5kQ2hpbGQoY2xvc2UpO1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnRhaW5lci5hcHBlbmRDaGlsZCh0aXRsZSk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGNsb3NlLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoZSkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBvdmVybGF5U2VjdGlvbi5zdHlsZSA9IFwiZGlzcGxheTogbm9uZVwiO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb250YWluZXIuc3R5bGUgPSBcImRpc3BsYXk6IG5vbmVcIjtcclxuICAgICAgICAgICAgICAgICAgICB9KVxyXG5cclxuICAgICAgICAgICAgICAgICAgICBpZighIW92ZXJsYXlTZWN0aW9uKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG92ZXJsYXlTZWN0aW9uLmFwcGVuZENoaWxkKGNvbnRhaW5lcik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG92ZXJsYXlTZWN0aW9uLnN0eWxlID0gXCJcIjtcclxuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBsZXQgYm9keSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCJib2R5XCIpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBvdmVybGF5U2VjdGlvbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJzZWN0aW9uXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBvdmVybGF5U2VjdGlvbi5jbGFzc0xpc3QuYWRkKFwianMtb3ZlcmxheVwiKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgb3ZlcmxheVNlY3Rpb24uY2xhc3NMaXN0LmFkZChcIm92ZXJsYXlcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG92ZXJsYXlTZWN0aW9uLmNsYXNzTGlzdC5hZGQoXCJvdmVybGF5LS1ibGFja1wiKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgb3ZlcmxheVNlY3Rpb24uYXBwZW5kQ2hpbGQoY29udGFpbmVyKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG92ZXJsYXlTZWN0aW9uLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoZSkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb3ZlcmxheVNlY3Rpb24uc3R5bGUgPSBcImRpc3BsYXk6IG5vbmVcIjtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRhaW5lci5zdHlsZSA9IFwiZGlzcGxheTogbm9uZVwiO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9KVxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgYm9keS5hcHBlbmRDaGlsZChvdmVybGF5U2VjdGlvbik7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSkuZXJyb3IoKFhNTEh0dHBSZXF1ZXN0LCB0ZXh0U3RhdHVzLCBlcnJvclRocm93bikgPT4ge3RoaXMuc2ltcGxlTG9hZGVyLmhpZGVMb2FkZXIoKTt9KTtcclxuICAgIH1cclxuXHJcbiAgICB1bmNhcGl0YWxpc2Uob2JqKSB7XHJcbiAgICAgICAgdmFyIG91dHB1dCA9IFtdO1xyXG5cclxuICAgICAgICBvYmoubWFwKChpKSA9PiB7XHJcbiAgICAgICAgICAgIGxldCBhcnJPYmpLZXkgPSBPYmplY3Qua2V5cyhpKSxcclxuICAgICAgICAgICAgICAgIHRlbXBPYmogPSB7fTtcclxuXHJcbiAgICAgICAgICAgIGZvciAobGV0IGluZGV4ID0gMDsgaW5kZXggPCBhcnJPYmpLZXkubGVuZ3RoOyBpbmRleCsrKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBrZXkgPSBhcnJPYmpLZXlbaW5kZXhdO1xyXG4gICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICB0ZW1wT2JqW2tleS50b0xvd2VyQ2FzZSgpXSA9IGlba2V5XSA9PSBudWxsID8gdW5kZWZpbmVkIDogaVtrZXldO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIG91dHB1dC5wdXNoKHRlbXBPYmopO1xyXG4gICAgICAgIH0pXHJcbiAgICAgICAgcmV0dXJuIG91dHB1dDtcclxuICAgIH1cclxuXHJcbiAgICBzaG93T3JIaWRlQWRkZWRQcm9kdWN0KCkge1xyXG4gICAgICAgIGlmKCQoJy5qcy1wcm9kdWN0LWFkZGVkJykuaGFzQ2xhc3MoXCJhY3RpdmVcIikpe1xyXG4gICAgICAgICAgICAkKCcuanMtcHJvZHVjdC1hZGRlZCcpLnJlbW92ZUNsYXNzKFwiYWN0aXZlXCIpO1xyXG4gICAgICAgICAgICB0aGlzLnNjcm9sbC5lbmFibGVTY3JvbGwoKTtcclxuICAgICAgICAgICAgaWYoJCgnLnNlYXJjaF9fb3ZlcmxheScpICE9PSBudWxsKXtcclxuICAgICAgICAgICAgICAgIGlmKCQoJy5zZWFyY2gtLXNob3cnKS5sZW5ndGggPiAwKSAkKCcuc2VhcmNoX19vdmVybGF5JykucmVtb3ZlQ2xhc3MoXCJzZWFyY2gtLWFkZGVkXCIpO1xyXG4gICAgICAgICAgICAgICAgZWxzZSAkKCcuc2VhcmNoX19vdmVybGF5JykuY3NzKFwiZGlzcGxheVwiLFwibm9uZVwiKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgJCgnLmpzLXByb2R1Y3QtYWRkZWQnKS5hZGRDbGFzcyhcImFjdGl2ZVwiKTtcclxuICAgICAgICAgICAgdGhpcy5zY3JvbGwuZGlzYWJsZVNjcm9sbCgpO1xyXG4gICAgICAgICAgICBpZigkKCcuc2VhcmNoX19vdmVybGF5JykgIT09IG51bGwpe1xyXG4gICAgICAgICAgICAgICAgaWYoJCgnLnNlYXJjaC0tc2hvdycpLmxlbmd0aCA+IDApICQoJy5zZWFyY2hfX292ZXJsYXknKS5hZGRDbGFzcyhcInNlYXJjaC0tYWRkZWRcIik7XHJcbiAgICAgICAgICAgICAgICBlbHNlICQoJy5zZWFyY2hfX292ZXJsYXknKS5jc3MoXCJkaXNwbGF5XCIsXCJibG9ja1wiKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxufVxyXG5cclxuZXhwb3J0IGNvbnN0IF9BRERfQ0FSVCA9IG5ldyBBZGRUb0NhcnRDb250cm9sbGVyKCk7IiwiY29uc3QgU0hPVyA9IFwiYmxvY2tcIixcclxuICAgIEhJREUgPSBcIm5vbmVcIjtcclxuXHJcbmV4cG9ydCBjbGFzcyBQYWdpbmF0aW9uIHtcclxuICAgIGNvbnN0cnVjdG9yKG9wdGlvbnMpIHtcclxuICAgICAgICB0aGlzLml0ZW1zUGVyUGFnZSA9IHBhcnNlSW50KG9wdGlvbnMucGVyUGFnZSk7XHJcbiAgICAgICAgdGhpcy5jb250YWluZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKG9wdGlvbnMuY29udGFpbmVyKTtcclxuICAgICAgICB0aGlzLnBhZ2luYXRpb25Db250cm9sID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihvcHRpb25zLmNvbnRyb2wpO1xyXG4gICAgICAgIHRoaXMucGFnaW5hdGlvbkNvbnRyb2xUb0hpZGUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKG9wdGlvbnMuY29udHJvbFRvSGlkZSk7XHJcbiAgICAgICAgdGhpcy5pdGVtU2VsZWN0b3IgPSBvcHRpb25zLml0ZW1TZWxlY3RvcjtcclxuICAgICAgICB0aGlzLmRhdGFMYXllclB1c2ggPSB0eXBlb2Ygb3B0aW9ucy5kYXRhTGF5ZXJQdXNoID09PSBcImZ1bmN0aW9uXCIgPyBvcHRpb25zLmRhdGFMYXllclB1c2ggOiBudWxsO1xyXG4gICAgICAgIHRoaXMuaXRlbXMgPSBbXTtcclxuICAgICAgICB0aGlzLmRpc3BsYXllZCA9IDA7XHJcbiAgICAgICAgdGhpcy5kaXNwbGF5U3R5bGUgPSAoISFvcHRpb25zLmRpc3BsYXlTdHlsZSkgPyBvcHRpb25zLmRpc3BsYXlTdHlsZSA6IFwiZmxleFwiO1xyXG5cclxuICAgICAgICBpZiAob3B0aW9ucy5pbml0Q2xpY2sgJiYgdGhpcy5wYWdpbmF0aW9uQ29udHJvbCkge1xyXG4gICAgICAgICAgICB0aGlzLmFkZENvbnRyb2xFdmVudCgpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBfaW5pdEZyb21BcnJheShhcnJET00pIHtcclxuICAgICAgICB0aGlzLml0ZW1zID0gKGFyckRPTSAhPT0gbnVsbCkgPyBhcnJET00gOiBbXTtcclxuICAgICAgICB0aGlzLmRpc3BsYXllZCA9IDA7XHJcbiAgICAgICAgbGV0IHJlc3BvbnNlID0gdGhpcy5sb2FkTmV4dCgpO1xyXG4gICAgfVxyXG5cclxuICAgIF9yZWluaXRBcnJheShhcnJET00pe1xyXG4gICAgICAgIHRoaXMuaXRlbXMgPSAhIWFyckRPTSA/IGFyckRPTSA6IFtdO1xyXG4gICAgfVxyXG5cclxuICAgIGxvYWROZXh0KGFuYWx5dGljc1B1c2ggPSBmYWxzZSkge1xyXG4gICAgICAgIGxldCBsaW1pdCA9ICh0aGlzLml0ZW1zLmxlbmd0aCAtIHRoaXMuZGlzcGxheWVkID4gdGhpcy5pdGVtc1BlclBhZ2UpID8gdGhpcy5kaXNwbGF5ZWQgKyB0aGlzLml0ZW1zUGVyUGFnZSA6IHRoaXMuaXRlbXMubGVuZ3RoLFxyXG4gICAgICAgICAgICBjb3VudCA9IDAsXHJcbiAgICAgICAgICAgIGNvbXBsZXRlID0gZmFsc2U7XHJcblxyXG4gICAgICAgIGZvciAobGV0IGkgPSBsaW1pdDsgaSA8IHRoaXMuaXRlbXMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgY29uc3QgZWxlbWVudCA9IHRoaXMuaXRlbXNbaV07XHJcbiAgICAgICAgICAgIGVsZW1lbnQuc3R5bGUub3BhY2l0eSA9IDA7XHJcbiAgICAgICAgICAgIGVsZW1lbnQuc3R5bGUuZGlzcGxheSA9IEhJREU7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBmb3IgKGxldCBpID0gdGhpcy5kaXNwbGF5ZWQ7IGkgPCBsaW1pdDsgaSsrKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IGVsZW1lbnQgPSB0aGlzLml0ZW1zW2ldO1xyXG4gICAgICAgICAgICBlbGVtZW50LnN0eWxlLmRpc3BsYXkgPSBTSE9XO1xyXG5cclxuICAgICAgICAgICAgaWYoISF0aGlzLmRhdGFMYXllclB1c2ggJiYgYW5hbHl0aWNzUHVzaCkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5kYXRhTGF5ZXJQdXNoKGVsZW1lbnQpXHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIHRoaXMubG9hZEltYWdlKGVsZW1lbnQpO1xyXG4gICAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcclxuICAgICAgICAgICAgICAgIGVsZW1lbnQuc3R5bGUub3BhY2l0eSA9IDE7XHJcbiAgICAgICAgICAgIH0sIDEwMCk7XHJcblxyXG4gICAgICAgICAgICBjb3VudCsrO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdGhpcy5kaXNwbGF5ZWQgKz0gY291bnQ7XHJcbiAgICAgICAgdGhpcy5sb2FkTmV4dEltYWdlKCk7XHJcblxyXG4gICAgICAgIGlmIChwYXJzZUludCh0aGlzLmRpc3BsYXllZCkgPj0gdGhpcy5pdGVtcy5sZW5ndGgpIHtcclxuICAgICAgICAgICAgY29tcGxldGUgPSB0cnVlO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgY291bnREaXNwbGF5OiB0aGlzLmRpc3BsYXllZCxcclxuICAgICAgICAgICAgZGlzcGxheWVkQWxsOiBjb21wbGV0ZVxyXG4gICAgICAgIH07XHJcbiAgICB9XHJcblxyXG4gICAgcmVidWlsZFNvcnRMaXN0KCl7XHJcbiAgICAgICAgbGV0IGxpbWl0ID0gKHRoaXMuaXRlbXMubGVuZ3RoIC0gdGhpcy5kaXNwbGF5ZWQgPiB0aGlzLml0ZW1zUGVyUGFnZSkgPyB0aGlzLmRpc3BsYXllZCA6IHRoaXMuaXRlbXMubGVuZ3RoO1xyXG5cclxuICAgICAgICBmb3IgKGxldCBpID0gbGltaXQ7IGkgPCB0aGlzLml0ZW1zLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IGVsZW1lbnQgPSB0aGlzLml0ZW1zW2ldO1xyXG4gICAgICAgICAgICBlbGVtZW50LnN0eWxlLm9wYWNpdHkgPSAwO1xyXG4gICAgICAgICAgICBlbGVtZW50LnN0eWxlLmRpc3BsYXkgPSBISURFO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBsaW1pdDsgaSsrKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IGVsZW1lbnQgPSB0aGlzLml0ZW1zW2ldO1xyXG4gICAgICAgICAgICBlbGVtZW50LnN0eWxlLmRpc3BsYXkgPSBTSE9XO1xyXG4gICAgICAgICAgICB0aGlzLmxvYWRJbWFnZShlbGVtZW50KTtcclxuICAgICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBlbGVtZW50LnN0eWxlLm9wYWNpdHkgPSAxO1xyXG4gICAgICAgICAgICB9LCAxMDApO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBsb2FkTmV4dEltYWdlKCkge1xyXG4gICAgICAgIGxldCBsaW1pdCA9ICh0aGlzLml0ZW1zLmxlbmd0aCAtIHRoaXMuZGlzcGxheWVkID4gdGhpcy5pdGVtc1BlclBhZ2UpID8gdGhpcy5kaXNwbGF5ZWQgKyB0aGlzLml0ZW1zUGVyUGFnZSA6IHRoaXMuaXRlbXMubGVuZ3RoO1xyXG5cclxuICAgICAgICBmb3IgKGxldCBpID0gdGhpcy5kaXNwbGF5ZWQ7IGkgPCBsaW1pdDsgaSsrKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IGVsZW1lbnQgPSB0aGlzLml0ZW1zW2ldO1xyXG4gICAgICAgICAgICB0aGlzLmxvYWRJbWFnZShlbGVtZW50KTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgbG9hZEltYWdlKERPTSkge1xyXG4gICAgICAgIGNvbnN0ICAgc291cmNlcyA9IERPTS5xdWVyeVNlbGVjdG9yQWxsKFwic291cmNlW2RhdGEtc3JjXVwiKSxcclxuICAgICAgICAgICAgICAgIGltZyAgPSBET00ucXVlcnlTZWxlY3RvcihcImltZ1tkYXRhLXNyY11cIik7XHJcbiAgICAgICAgaWYoISFpbWcgJiYgaW1nLnNyYyAhPT0gbnVsbCAmJiBpbWcuc3JjICE9PSBcIlwiKSB7XHJcbiAgICAgICAgICAgIGltZy5zcmMgPSBpbWcuZGF0YXNldC5zcmM7XHJcbiAgICAgICAgICAgIGZvcihsZXQgaiA9IDA7IGogPCBzb3VyY2VzLmxlbmd0aDsgaisrKSB7XHJcbiAgICAgICAgICAgICAgICBzb3VyY2VzW2pdLnNyY3NldCA9IHNvdXJjZXNbal0uZGF0YXNldC5zcmM7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgaGlkZUNvbnRyb2xzKCkge1xyXG4gICAgICAgIGlmICh0aGlzLnBhZ2luYXRpb25Db250cm9sVG9IaWRlICE9PSBudWxsKSB7XHJcbiAgICAgICAgICAgIHRoaXMucGFnaW5hdGlvbkNvbnRyb2xUb0hpZGUuc3R5bGUuZGlzcGxheSA9IEhJREU7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2UgaWYgKHRoaXMucGFnaW5hdGlvbkNvbnRyb2wgIT09IG51bGwpIHtcclxuICAgICAgICAgICAgdGhpcy5wYWdpbmF0aW9uQ29udHJvbC5zdHlsZS5kaXNwbGF5ID0gSElERTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgc2hvd0NvbnRyb2xzKCkge1xyXG4gICAgICAgIGlmICh0aGlzLnBhZ2luYXRpb25Db250cm9sICE9PSBudWxsKSB7XHJcbiAgICAgICAgICAgIHRoaXMucGFnaW5hdGlvbkNvbnRyb2wuc3R5bGUuZGlzcGxheSA9IHRoaXMuZGlzcGxheVN0eWxlO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBhZGRDb250cm9sRXZlbnQoKSB7XHJcbiAgICAgICAgdGhpcy5wYWdpbmF0aW9uQ29udHJvbC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChlKSA9PiB7XHJcbiAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgICAgICAgbGV0IHsgZGlzcGxheWVkQWxsIH0gPSB0aGlzLmxvYWROZXh0KCk7XHJcblxyXG4gICAgICAgICAgICBpZiAoZGlzcGxheWVkQWxsKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmhpZGVDb250cm9scygpO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zaG93Q29udHJvbHMoKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pXHJcbiAgICB9XHJcbn0iLCJleHBvcnQgY2xhc3MgUHJvZHVjdFJldmlldyB7XHJcbiAgICBjb25zdHJ1Y3RvcihvcHRpb25zKSB7XHJcbiAgICAgICAgdGhpcy5jb250YWluZXIgPSBvcHRpb25zLmNvbnRhaW5lcjtcclxuICAgICAgICB0aGlzLmNsaWNrYWJsZSA9IG9wdGlvbnMuY2xpY2thYmxlO1xyXG4gICAgICAgIHRoaXMucmV2aWV3SXRlbXMgPSAodGhpcy5jb250YWluZXIgIT09IG51bGwpID8gdGhpcy5jb250YWluZXIucXVlcnlTZWxlY3RvckFsbChvcHRpb25zLnJldmlld0l0ZW0pIDogbnVsbDtcclxuICAgICAgICB0aGlzLml0ZW1zQ291bnQgPSAodGhpcy5yZXZpZXdJdGVtcyAhPT0gbnVsbCkgPyB0aGlzLnJldmlld0l0ZW1zLmxlbmd0aCA6IDA7XHJcbiAgICAgICAgdGhpcy5pbnB1dCA9ICh0aGlzLmNvbnRhaW5lciAhPT0gbnVsbCkgPyB0aGlzLmNvbnRhaW5lci5xdWVyeVNlbGVjdG9yKCdpbnB1dFt0eXBlPVwibnVtYmVyXCJdJyk6IG51bGw7XHJcblxyXG4gICAgICAgIHRoaXMuaW5pdCgpO1xyXG4gICAgfVxyXG5cclxuICAgIGluaXQoKSB7XHJcbiAgICAgICAgdGhpcy5pbml0SW5wdXRDaGFuZ2UoKTtcclxuICAgICAgICBcclxuICAgICAgICBpZiAoIHRoaXMuY29udGFpbmVyICE9PSBudWxsKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IHtyZXZpZXdJbml0fSA9IHRoaXMuY29udGFpbmVyLmRhdGFzZXQ7XHJcbiAgICAgICAgICAgIHRoaXMuZGlzcGxheVJldmlld3MocmV2aWV3SW5pdCk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiggdGhpcy5jbGlja2FibGUgIT0gXCJmYWxzZVwiKSB7XHJcbiAgICAgICAgICAgIHRoaXMuaXRlbXNFdmVudEhhbmRsZXIoKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgaW5pdElucHV0Q2hhbmdlKCkge1xyXG4gICAgICAgIGlmKHRoaXMuaW5wdXQgIT09IG51bGwpIHtcclxuICAgICAgICAgICAgdGhpcy5pbnB1dC5hZGRFdmVudExpc3RlbmVyKCdjaGFuZ2UnLCAoZSk9PiB7XHJcbiAgICAgICAgICAgICAgICB2YXIgdmFsdWUgPSAodGhpcy5pbnB1dC52YWx1ZSAhPT0gXCJcIiApID8gdGhpcy5pbnB1dC52YWx1ZSA6IFwiMFwiO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5kaXNwbGF5UmV2aWV3cyh2YWx1ZSk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBkaXNwbGF5UmV2aWV3cyh2YWx1ZSkge1xyXG4gICAgICAgIGxldCBpdGVtcyA9IHRoaXMucmV2aWV3SXRlbXMsXHJcbiAgICAgICAgICAgIGxpbWl0ID0gKHBhcnNlSW50KHZhbHVlKSA8IHRoaXMuaXRlbXNDb3VudCkgPyBwYXJzZUludCh2YWx1ZSkgOiB0aGlzLml0ZW1zQ291bnQ7XHJcblxyXG4gICAgICAgIGxpbWl0ID0gTWF0aC5mbG9vcihsaW1pdCk7XHJcbiAgICAgICAgdGhpcy5pbnB1dC52YWx1ZSA9IHZhbHVlO1xyXG5cclxuICAgICAgICBpZih2YWx1ZT4wKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IGVycm9yU3BhbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoYHNwYW5bZGF0YS12YWxtc2ctZm9yPVwiJHt0aGlzLmlucHV0Lm5hbWV9XCJdYCk7XHJcbiAgICAgICAgICAgIGlmKGVycm9yU3BhbiAhPT0gbnVsbCkgZXJyb3JTcGFuLmlubmVySFRNTCA9IFwiXCI7XHJcbiAgICAgICAgICAgIHRoaXMuaW5wdXQucGFyZW50Tm9kZS5jbGFzc0xpc3QucmVtb3ZlKFwibm90dmFsaWRcIik7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBmb3IgKGxldCBpbmRleCA9IDA7IGluZGV4IDwgbGltaXQ7IGluZGV4KyspIHtcclxuICAgICAgICAgICAgY29uc3Qgc3RhciA9IGl0ZW1zW2luZGV4XTtcclxuICAgICAgICAgICAgdGhpcy5kaXNwbGF5UmV2aWV3KHN0YXIpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYobGltaXQgPT0gMCkge1xyXG4gICAgICAgICAgICB0aGlzLnJlbW92ZUFsbFJldmlld3MoKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgZGlzcGxheVJldmlldyhET00pIHtcclxuICAgICAgICBET00uY2xhc3NMaXN0LmFkZCgncHJvZHVjdC1yZXZpZXctLWFjdGl2ZScpO1xyXG4gICAgfVxyXG5cclxuICAgIHJlbW92ZUFsbFJldmlld3MoKSB7XHJcbiAgICAgICAgbGV0IGl0ZW1zID0gdGhpcy5yZXZpZXdJdGVtcztcclxuXHJcbiAgICAgICAgZm9yKGxldCBpbmRleCA9IDA7IGluZGV4IDwgdGhpcy5pdGVtc0NvdW50OyBpbmRleCsrKSB7XHJcbiAgICAgICAgICAgIGxldCBzdGFyID0gaXRlbXNbaW5kZXhdXHJcbiAgICAgICAgICAgIHRoaXMucmVtb3ZlUmV2aWV3KHN0YXIpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICByZW1vdmVSZXZpZXcoRE9NKSB7XHJcbiAgICAgICAgRE9NLmNsYXNzTGlzdC5yZW1vdmUoJ3Byb2R1Y3QtcmV2aWV3LS1hY3RpdmUnKTtcclxuICAgIH1cclxuXHJcbiAgICBpdGVtc0V2ZW50SGFuZGxlcigpIHtcclxuICAgICAgICBsZXQgaXRlbXMgPSB0aGlzLnJldmlld0l0ZW1zO1xyXG5cclxuICAgICAgICBmb3IgKGxldCBpbmRleCA9IDA7IGluZGV4IDwgaXRlbXMubGVuZ3RoOyBpbmRleCsrKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IHN0YXIgPSBpdGVtc1tpbmRleF07XHJcbiAgICAgICAgICAgIFxyXG4gICAgICAgICAgICBzdGFyLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZSA9PiB7XHJcbiAgICAgICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAgICAgICAgICAgICBsZXQge3Jldmlld1ZhbHVlfSA9IHN0YXIuZGF0YXNldDtcclxuXHJcbiAgICAgICAgICAgICAgICB0aGlzLnJlbW92ZUFsbFJldmlld3MoKTtcclxuICAgICAgICAgICAgICAgIHRoaXMuZGlzcGxheVJldmlld3MocmV2aWV3VmFsdWUpO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn0iLCJpbXBvcnQgeyBQcm9kdWN0UmV2aWV3IH0gZnJvbSBcIi4uLy4uL3ZpZXcvY29tcG9uZW50cy9wcm9kdWN0LXJldmlld1wiO1xyXG5cclxuZXhwb3J0IGNsYXNzIFJldmlld1N0YXJzQ29udHJvbGxlciB7XHJcbiAgICBjb25zdHJ1Y3RvcihvcHRpb25zKSB7XHJcbiAgICAgICAgdGhpcy5jb250YWluZXJzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChvcHRpb25zLmNvbnRhaW5lcik7XHJcblxyXG4gICAgICAgIGlmKHRoaXMuY29udGFpbmVycy5sZW5ndGggPiAwKSB7XHJcbiAgICAgICAgICAgIGZvcihsZXQgaSA9IDA7IGkgPCB0aGlzLmNvbnRhaW5lcnMubGVuZ3RoOyBpKyspe1xyXG4gICAgICAgICAgICAgICAgdGhpcy5SZXZpZXdTdGFyc1ZpZXcgPSBuZXcgUHJvZHVjdFJldmlldyh7XHJcbiAgICAgICAgICAgICAgICAgICAgY29udGFpbmVyOiB0aGlzLmNvbnRhaW5lcnNbaV0sXHJcbiAgICAgICAgICAgICAgICAgICAgcmV2aWV3SXRlbTogb3B0aW9ucy5yZXZpZXdJdGVtLFxyXG4gICAgICAgICAgICAgICAgICAgIGNsaWNrYWJsZTogdGhpcy5jb250YWluZXJzW2ldPy5kYXRhc2V0LnJldmlld0NsaWNrIHx8IFwidHJ1ZVwiXHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxufSIsImV4cG9ydCBjbGFzcyBQYWdpbmF0aW9uSW5kaWNhdG9yIHtcclxuICAgIGNvbnN0cnVjdG9yKG9wdGlvbnMpIHtcclxuICAgICAgICB0aGlzLmNvbnRhaW5lciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3Iob3B0aW9ucy5jb250YWluZXIpO1xyXG4gICAgICAgIHRoaXMuZGlzcGxheWVkID0gb3B0aW9ucy5kaXNwbGF5ZWQ7XHJcbiAgICAgICAgdGhpcy5tYXhpbXVtID0gb3B0aW9ucy5tYXhpbXVtO1xyXG5cclxuICAgICAgICBpZih0aGlzLmNvbnRhaW5lciAhPSBudWxsKXtcclxuICAgICAgICAgICAgdGhpcy5tYXhWaWV3ID0gdGhpcy5jb250YWluZXIucXVlcnlTZWxlY3RvcihvcHRpb25zLm1heFZpZXcpO1xyXG4gICAgICAgICAgICB0aGlzLmRpc3BsYXllZFZpZXcgPSB0aGlzLmNvbnRhaW5lci5xdWVyeVNlbGVjdG9yKG9wdGlvbnMuZGlzcGxheWVkVmlldyk7XHJcbiAgICAgICAgICAgIHRoaXMuaW5kaWNhdG9yID0gdGhpcy5jb250YWluZXIucXVlcnlTZWxlY3RvcihvcHRpb25zLmluZGljYXRvcik7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZih0aGlzLm1heGltdW0gPCB0aGlzLmRpc3BsYXllZCkge1xyXG4gICAgICAgICAgICB0aGlzLmRpc3BsYXllZCA9IHRoaXMubWF4aW11bTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHRoaXMuX2luaXQoKTtcclxuICAgIH1cclxuXHJcbiAgICBfaW5pdCgpIHtcclxuICAgICAgICB0aGlzLnVwZGF0ZUluZGljYXRvcigpO1xyXG4gICAgICAgIHRoaXMuc2V0RGlzcGxheWVkVGV4dCgpO1xyXG4gICAgICAgIHRoaXMuc2V0TWF4aW11bVRleHQoKTtcclxuICAgIH1cclxuXHJcbiAgICB1cGRhdGVJbmRpY2F0b3IoKSB7XHJcbiAgICAgICAgbGV0IHdpZHRoID0gKHRoaXMuZGlzcGxheWVkICogMTAwKSAvIHRoaXMubWF4aW11bTtcclxuXHJcbiAgICAgICAgaWYodGhpcy5pbmRpY2F0b3IgIT09IG51bGwgJiYgdGhpcy5pbmRpY2F0b3IgIT09IHVuZGVmaW5lZClcclxuICAgICAgICAgICAgdGhpcy5pbmRpY2F0b3Iuc3R5bGUuY3NzVGV4dCArPSBgd2lkdGg6ICR7d2lkdGh9JTtgO1xyXG5cclxuICAgICAgICB0aGlzLnNldERpc3BsYXllZFRleHQoKTtcclxuICAgICAgICB0aGlzLnNldE1heGltdW1UZXh0KCk7XHJcbiAgICB9XHJcblxyXG4gICAgc2V0RGlzcGxheWVkVGV4dCgpIHtcclxuICAgICAgICBpZih0aGlzLmRpc3BsYXllZFZpZXcgIT09IG51bGwgJiYgdGhpcy5kaXNwbGF5ZWRWaWV3ICE9PSB1bmRlZmluZWQpXHJcbiAgICAgICAgICAgIHRoaXMuZGlzcGxheWVkVmlldy5pbm5lclRleHQgPSB0aGlzLmRpc3BsYXllZDtcclxuICAgIH1cclxuXHJcbiAgICBzZXRNYXhpbXVtVGV4dCgpIHtcclxuICAgICAgICBpZih0aGlzLm1heFZpZXcgIT09IG51bGwgJiYgdGhpcy5tYXhWaWV3ICE9PSB1bmRlZmluZWQpXHJcbiAgICAgICAgICAgIHRoaXMubWF4Vmlldy5pbm5lclRleHQgPSB0aGlzLm1heGltdW07XHJcbiAgICB9XHJcbn0iLCJleHBvcnQgY2xhc3MgUmVtYWluaW5nQ2hhciB7XHJcbiAgICBjb25zdHJ1Y3RvcihvcHRpb25zKSB7XHJcbiAgICAgICAgdGhpcy5kaXNwbGF5ID0gb3B0aW9ucy5kaXNwbGF5OyAvLyEgVEFLRVMgQSBET00gT0JKRUNUXHJcbiAgICAgICAgdGhpcy5saW1pdCA9IG9wdGlvbnMubGltaXQgfHwgMDtcclxuXHJcbiAgICAgICAgdGhpcy5faW5pdCgpO1xyXG4gICAgfVxyXG5cclxuICAgIF9pbml0KCkge1xyXG4gICAgICAgIHRoaXMuZGlzcGxheVJlbWFpbmluZyh0aGlzLmxpbWl0KTtcclxuICAgIH1cclxuXHJcbiAgICBkaXNwbGF5UmVtYWluaW5nKGNoYXIpIHtcclxuICAgICAgICBpZih0aGlzLmRpc3BsYXkgIT09IG51bGwpIHtcclxuICAgICAgICAgICAgdGhpcy5kaXNwbGF5LmlubmVyVGV4dCA9IGNoYXI7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHVwZGF0ZVJlbWFpbmluZ0NoYXIoY3VycmVudExlbmd0aCkge1xyXG4gICAgICAgIHRoaXMuZGlzcGxheVJlbWFpbmluZyh0aGlzLmxpbWl0IC0gY3VycmVudExlbmd0aCk7XHJcbiAgICB9XHJcbn0iLCJpbXBvcnQgeyBTdHJpbmdVdGlscyB9IGZyb20gXCIuLi8uLi91dGlscy9zdHJpbmctdXRpbHNcIjtcclxuXHJcbmNsYXNzIGZpbHRlclNldHRpbmdzIHtcclxuICAgIGNvbnN0cnVjdG9yKCl7XHJcbiAgICAgICAgdGhpcy5maWx0ZXJzID0gW107IC8vISBhcnJheSBvZiBmaWx0ZXJzIGdyb3VwZWQgYnkgY2F0ZWdvcnlcclxuICAgICAgICB0aGlzLkZJTFRFUl9PUiA9ICdPUicsXHJcbiAgICAgICAgdGhpcy5GSUxURVJfQU5EID0gJ0FORCc7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBBZGQgYSBmaWx0ZXIgdG8gdGhlIGxpc3Qgb2YgZmlsdGVycyBpbiBGaWx0ZXJTZXR0aW5nc1xyXG4gICAgICogQHBhcmFtIHtGaWx0ZXJ9IGZpbHRlciBcclxuICAgICAqL1xyXG4gICAgYWRkKGZpbHRlcikge1xyXG4gICAgICAgIGxldCBzdWNjZXNzID0gZmFsc2UsXHJcbiAgICAgICAgICAgIGNhdGVnb3J5SW5kZXggPSB0aGlzLmdldENhdGVnb3J5KGZpbHRlci5jYXRlZ29yeSksXHJcbiAgICAgICAgICAgIGZpbHRlcnNBZGRlZCA9IDA7XHJcblxyXG4gICAgICAgIC8vICogQ2hlY2sgaWYgZmlsdGVyIGNhdGVnb3J5IGlzIHByZXNlbnQgaW4gc2V0dGluZ3MgYmVmb3JlIGFkZGluZ1xyXG4gICAgICAgIGlmKGNhdGVnb3J5SW5kZXggPT09IC0xKSB7XHJcbiAgICAgICAgICAgIGxldCBmaWx0ZXJDYXRlZ29yeSA9IG5ldyBGaWx0ZXJDYXRlZ29yeSh7XHJcbiAgICAgICAgICAgICAgICBjYXRlZ29yeTogZmlsdGVyLmNhdGVnb3J5LFxyXG4gICAgICAgICAgICAgICAgY29uZGl0aW9uOiBmaWx0ZXIuY29uZGl0aW9uXHJcbiAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgZmlsdGVyQ2F0ZWdvcnkuYWRkSXRlbSh7bmFtZTogZmlsdGVyLm5hbWUsIGxhYmVsOiBmaWx0ZXIubGFiZWx9KTtcclxuICAgICAgICAgICAgdGhpcy5maWx0ZXJzLnB1c2goZmlsdGVyQ2F0ZWdvcnkpO1xyXG4gICAgICAgICAgICBmaWx0ZXJzQWRkZWQgPSAxO1xyXG5cclxuICAgICAgICAgICAgc3VjY2VzcyA9IHRydWU7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgbGV0IGZpbHRlckNhdGVnb3J5ID0gdGhpcy5maWx0ZXJzW2NhdGVnb3J5SW5kZXhdLFxyXG4gICAgICAgICAgICAgICAgLy8gKiBDaGVjayBpZiBmaWx0ZXIgaXRlbSBpcyBhbHJlYWR5IHByZXNlbnQgaW4gc2V0dGluZ3NcclxuICAgICAgICAgICAgICAgIGZpbHRlckluZGV4ID0gdGhpcy5nZXRGaWx0ZXIoZmlsdGVyQ2F0ZWdvcnksIGZpbHRlci5uYW1lKTtcclxuXHJcbiAgICAgICAgICAgIGlmKGZpbHRlckNhdGVnb3J5LmNvbmRpdGlvbi50b1VwcGVyQ2FzZSgpICE9PSB0aGlzLkZJTFRFUl9PUikgeyAvLyogRmlsdGVyIHdhcyBub3QgZm91bmQgXHJcbiAgICAgICAgICAgICAgICBpZihmaWx0ZXJJbmRleCAhPT0gLTEpXHJcbiAgICAgICAgICAgICAgICAgICAgZmlsdGVyQ2F0ZWdvcnkuaXRlbS5zcGxpY2UoZmlsdGVySW5kZXgsIDEpO1xyXG5cclxuICAgICAgICAgICAgICAgIGZpbHRlckNhdGVnb3J5Lml0ZW0ucHVzaCh7bmFtZTogZmlsdGVyLm5hbWUsIGxhYmVsOiBmaWx0ZXIubGFiZWx9KTtcclxuICAgICAgICAgICAgICAgIGZpbHRlcnNBZGRlZCA9IGZpbHRlckNhdGVnb3J5Lml0ZW0ubGVuZ3RoO1xyXG5cclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgc3VjY2VzcyA9IHRydWU7XHJcblxyXG4gICAgICAgICAgICBpZihmaWx0ZXJJbmRleCA9PSAtMSAmJiBmaWx0ZXJDYXRlZ29yeS5jb25kaXRpb24udG9VcHBlckNhc2UoKSA9PT0gdGhpcy5GSUxURVJfT1IpIFxyXG4gICAgICAgICAgICAgICAgc3VjY2VzcyA9IGZhbHNlO1xyXG5cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgIHN1Y2Nlc3M6IHN1Y2Nlc3MsIFxyXG4gICAgICAgICAgICBmaWx0ZXJDb3VudDogZmlsdGVyc0FkZGVkIFxyXG4gICAgICAgIH07XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBcclxuICAgICAqIEBwYXJhbSB7RmlsdGVyfSBmaWx0ZXIgXHJcbiAgICAgKi9cclxuICAgIHJlbW92ZShmaWx0ZXIpIHtcclxuICAgICAgICBsZXQgc3VjY2VzcyA9IGZhbHNlLFxyXG4gICAgICAgICAgICBjYXRlZ29yeUluZGV4ID0gdGhpcy5nZXRDYXRlZ29yeShmaWx0ZXIuY2F0ZWdvcnkpLFxyXG4gICAgICAgICAgICBjb25kaXRpb24gPSBcIlwiO1xyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAqICogQ2hlY2sgaWYgZmlsdGVyIGlzIHByZXNlbnQgaW4gc2V0dGluZ3MgYmVmb3JlIHJlbW92aW5nXHJcbiAgICAgICAgICovXHJcbiAgICAgICAgaWYoY2F0ZWdvcnlJbmRleCAhPT0gLTEpIHtcclxuICAgICAgICAgICAgbGV0IGZpbHRlckNhdGVnb3J5ID0gdGhpcy5maWx0ZXJzW2NhdGVnb3J5SW5kZXhdLFxyXG4gICAgICAgICAgICAgICAgZmlsdGVySW5kZXggPSB0aGlzLmdldEZpbHRlcihmaWx0ZXJDYXRlZ29yeSwgZmlsdGVyLm5hbWUpO1xyXG5cclxuICAgICAgICAgICAgY29uZGl0aW9uID0gZmlsdGVyQ2F0ZWdvcnkuY29uZGl0aW9uO1xyXG4gICAgICAgICAgICBpZihmaWx0ZXJJbmRleCAhPT0gLTEpeyAvLyogRmlsdGVyIHdhcyBmb3VuZCBpbiBGaWx0ZXIgc2V0dGluZ3NcclxuICAgICAgICAgICAgICAgIGZpbHRlckNhdGVnb3J5Lml0ZW0uc3BsaWNlKGZpbHRlckluZGV4LCAxKTtcclxuXHJcbiAgICAgICAgICAgICAgICBpZihmaWx0ZXJDYXRlZ29yeS5pdGVtLmxlbmd0aCA+IDApIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmZpbHRlcnNbY2F0ZWdvcnlJbmRleF0gPSBmaWx0ZXJDYXRlZ29yeTtcclxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5maWx0ZXJzLnNwbGljZShjYXRlZ29yeUluZGV4LCAxKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBzdWNjZXNzID0gdHJ1ZTtcclxuICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICBzdWNjZXNzOiBzdWNjZXNzLFxyXG4gICAgICAgICAgICBjb25kaXRpb246IGNvbmRpdGlvblxyXG4gICAgICAgIH07XHJcbiAgICB9XHJcblxyXG4gICAgY2xlYXJGaWx0ZXJzKCkge1xyXG4gICAgICAgIHRoaXMuZmlsdGVycyA9IFtdO1xyXG4gICAgfVxyXG5cclxuICAgIGdldENhdGVnb3J5KGZpbHRlckNhdGVnb3J5KSB7XHJcbiAgICAgICAgbGV0IGluZGV4ID0gLTE7XHJcblxyXG4gICAgICAgIGZvcihsZXQgaSA9IDA7IGkgPCB0aGlzLmZpbHRlcnMubGVuZ3RoOyBpKyspe1xyXG4gICAgICAgICAgICBsZXQgZmlsdGVyID0gdGhpcy5maWx0ZXJzW2ldO1xyXG4gICAgICAgICAgICBpZihmaWx0ZXIuY2F0ZWdvcnkgIT0gbnVsbCAmJiBmaWx0ZXJDYXRlZ29yeSAhPSBudWxsKXtcclxuICAgICAgICAgICAgICAgIGlmKGZpbHRlci5jYXRlZ29yeS50b0xvd2VyQ2FzZSgpID09PSBmaWx0ZXJDYXRlZ29yeS50b0xvd2VyQ2FzZSgpKXtcclxuICAgICAgICAgICAgICAgICAgICBpbmRleCA9IGk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICByZXR1cm4gaW5kZXg7XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0RmlsdGVyKGZpbHRlckNhdGVnb3J5LCBmaWx0ZXJOYW1lKSB7XHJcbiAgICAgICAgbGV0IGl0ZW1zID0gZmlsdGVyQ2F0ZWdvcnkuaXRlbSxcclxuICAgICAgICAgICAgaW5kZXggPSAtMTtcclxuXHJcbiAgICAgICAgLy8gaXRlbXMuZmluZChmdW5jdGlvbihpdGVtKSB7XHJcbiAgICAgICAgZm9yKGxldCBpID0gMDsgaSA8IGl0ZW1zLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgIGxldCBpdGVtID0gaXRlbXNbaV07XHJcblxyXG4gICAgICAgICAgICBpZihpdGVtLm5hbWUudG9Mb3dlckNhc2UoKSA9PT0gZmlsdGVyTmFtZS50b0xvd2VyQ2FzZSgpKVxyXG4gICAgICAgICAgICAgICAgaW5kZXggPSBpdGVtcy5pbmRleE9mKGl0ZW0pXHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICByZXR1cm4gaW5kZXg7XHJcbiAgICB9XHJcblxyXG4gICAgYWxsRmlsdGVycygpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5maWx0ZXJzO1xyXG4gICAgfVxyXG5cclxuICAgIGdldEZpbHRlckl0ZW1zQnlDYXQoKSB7XHJcbiAgICAgICAgbGV0IGl0ZW1zQnlDYXRlZ29yeSA9IFtdO1xyXG5cclxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMuZmlsdGVycy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICBjb25zdCAgIGVsZW1lbnQgPSB0aGlzLmZpbHRlcnNbaV0sXHJcbiAgICAgICAgICAgICAgICAgICAge2l0ZW0sIGNhdGVnb3J5fSA9IGVsZW1lbnQ7XHJcbiAgICAgICAgICAgIGxldCBvYmogPSB7fSxcclxuICAgICAgICAgICAgICAgIGZpbHRlck5hbWVzID0gW107XHJcblxyXG4gICAgICAgICAgICBvYmouY2F0ZWdvcnkgPSBTdHJpbmdVdGlscy50b0RhdGFTZWxlY3RvcihjYXRlZ29yeSk7XHJcbiAgICAgICAgICAgIFxyXG4gICAgICAgICAgICBmb3IgKGxldCBqID0gMDsgaiA8IGl0ZW0ubGVuZ3RoOyBqKyspIHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IGZpbHRlckl0ZW0gPSBpdGVtW2pdO1xyXG4gICAgICAgICAgICAgICAgZmlsdGVyTmFtZXMucHVzaChmaWx0ZXJJdGVtLm5hbWUpO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBvYmoubmFtZSA9IGZpbHRlck5hbWVzO1xyXG4gICAgICAgICAgICBpdGVtc0J5Q2F0ZWdvcnkucHVzaChvYmopO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcmV0dXJuIGl0ZW1zQnlDYXRlZ29yeTtcclxuICAgIH1cclxufVxyXG5cclxuLy8gISBTaW5nbGUgRmlsdGVyU2V0dGluZ3MgT2JqZWN0IFVzZWQgaW4gdGhlIGFwcGxpY2F0aW9uXHJcbmV4cG9ydCBsZXQgRmlsdGVyU2V0dGluZ3MgPSBuZXcgZmlsdGVyU2V0dGluZ3MoKTtcclxuXHJcbmNsYXNzIEZpbHRlckNhdGVnb3J5IHtcclxuICAgIGNvbnN0cnVjdG9yKG9wdGlvbnMpIHtcclxuICAgICAgICB0aGlzLmNhdGVnb3J5ID0gb3B0aW9ucy5jYXRlZ29yeTtcclxuICAgICAgICB0aGlzLmNvbmRpdGlvbiA9IG9wdGlvbnMuY29uZGl0aW9uO1xyXG4gICAgICAgIHRoaXMuaXRlbSA9IFtdO1xyXG4gICAgfVxyXG5cclxuICAgIGFkZEl0ZW0oaXRlbSkge1xyXG4gICAgICAgIHRoaXMuaXRlbS5wdXNoKGl0ZW0pO1xyXG4gICAgfVxyXG59IiwiZXhwb3J0IGNsYXNzIEZpbHRlciB7XHJcbiAgICBjb25zdHJ1Y3RvcihvcHRpb25zKSB7XHJcbiAgICAgICAgdGhpcy5jYXRlZ29yeSA9IG9wdGlvbnMuY2F0ZWdvcnk7XHJcbiAgICAgICAgdGhpcy5jb25kaXRpb24gPSBvcHRpb25zLmNvbmRpdGlvbjtcclxuICAgICAgICB0aGlzLm5hbWUgPSBvcHRpb25zLm5hbWU7XHJcbiAgICAgICAgdGhpcy5sYWJlbCA9IG9wdGlvbnMubGFiZWw7XHJcbiAgICB9XHJcbn0iLCJleHBvcnQgY2xhc3MgU29ydCB7XHJcbiAgICBjb25zdHJ1Y3RvcihvcHRpb25zKSB7XHJcbiAgICAgICAgdGhpcy5pc09wZW4gPSBmYWxzZTtcclxuICAgICAgICB0aGlzLmNvbnRhaW5lciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3Iob3B0aW9ucy5jb250YWluZXIpO1xyXG4gICAgICAgIHRoaXMubW9kaWZpZXIgPSBvcHRpb25zLm1vZGlmaWVyO1xyXG4gICAgICAgIHRoaXMudHJpZ2dlciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3Iob3B0aW9ucy50cmlnZ2VyKTtcclxuICAgICAgICB0aGlzLm1vZGlmaWVyVGFyZ2V0ID0gKHRoaXMuY29udGFpbmVyICE9IG51bGwpID8gdGhpcy5jb250YWluZXIucXVlcnlTZWxlY3RvcihvcHRpb25zLm1vZGlmaWVyVGFyZ2V0KSA6IG51bGw7XHJcbiAgICAgICAgdGhpcy5uYW1lRGlzcGxheSA9ICh0aGlzLmNvbnRhaW5lciAhPSBudWxsKSA/IHRoaXMuY29udGFpbmVyLnF1ZXJ5U2VsZWN0b3Iob3B0aW9ucy5uYW1lRGlzcGxheSkgOiBudWxsO1xyXG4gICAgICAgIHRoaXMuaXRlbVNlbGVjdG9yID0gKHRoaXMuY29udGFpbmVyICE9IG51bGwpID8gdGhpcy5jb250YWluZXIucXVlcnlTZWxlY3RvckFsbChvcHRpb25zLml0ZW1TZWxlY3RvcikgOiBudWxsO1xyXG5cclxuICAgICAgICBpZih0aGlzLnRyaWdnZXIgIT09IG51bGwpIHtcclxuICAgICAgICAgICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKGUpID0+IHtcclxuXHJcbiAgICAgICAgICAgICAgICBpZih0aGlzLmlzQ2hpbGQoZS50YXJnZXQpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy50b2dnbGVTb3J0KGUpO1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmNsb3NlU29ydChlKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSlcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhgJWNFUlItUzogJHtvcHRpb25zLnRyaWdnZXJ9IGlzIGFic2VudCBmcm9tIERPTWAsICdjb2xvcjogcmVkJyk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgXHJcbiAgICB0b2dnbGVTb3J0KGV2ZW50KSB7XHJcbiAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgICBcclxuICAgICAgICBzd2l0Y2ggKHRoaXMuaXNPcGVuKSB7XHJcbiAgICAgICAgICAgIGNhc2UgZmFsc2U6XHJcbiAgICAgICAgICAgICAgICB0aGlzLm9wZW5Tb3J0KCk7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgZGVmYXVsdDpcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmNsb3NlU29ydCgpO1xyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBvcGVuU29ydCgpIHtcclxuICAgICAgICBpZih0aGlzLm1vZGlmaWVyVGFyZ2V0ICE9PSBudWxsICYmICF0aGlzLmlzT3Blbil7XHJcbiAgICAgICAgICAgIHRoaXMubW9kaWZpZXJUYXJnZXQuY2xhc3NMaXN0LmFkZCh0aGlzLm1vZGlmaWVyKTsgICAgICAgICAgICBcclxuICAgICAgICAgICAgdGhpcy5pc09wZW4gPSB0cnVlO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBjbG9zZVNvcnQoKSB7XHJcbiAgICAgICAgaWYodGhpcy5tb2RpZmllclRhcmdldCAhPT0gbnVsbCAmJiB0aGlzLmlzT3Blbil7XHJcbiAgICAgICAgICAgIHRoaXMubW9kaWZpZXJUYXJnZXQuY2xhc3NMaXN0LnJlbW92ZSh0aGlzLm1vZGlmaWVyKTtcclxuICAgICAgICAgICAgdGhpcy5pc09wZW4gPSBmYWxzZTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgdXBkYXRlRGlzcGxheSh7bmFtZSwgbGFiZWx9KSB7XHJcbiAgICAgICAgaWYodGhpcy5uYW1lRGlzcGxheSAhPT0gbnVsbCkge1xyXG4gICAgICAgICAgICB0aGlzLm5hbWVEaXNwbGF5LmlubmVyVGV4dCA9IGxhYmVsO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBpc0NoaWxkKERPTSkge1xyXG4gICAgICAgIGxldCBjaGlsZHJlbiA9IHRoaXMudHJpZ2dlci5jaGlsZHJlbjtcclxuXHJcbiAgICAgICAgZm9yKGxldCBpPTA7IGkgPCBjaGlsZHJlbi5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICBsZXQgY2hpbGQgPSBjaGlsZHJlbltpXTtcclxuICAgICAgICAgICAgXHJcbiAgICAgICAgICAgIGlmKERPTSA9PSBjaGlsZCkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBsZXQgZ3JhbmRDaGlsZHJlbiA9IGNoaWxkLmNoaWxkcmVuO1xyXG5cclxuICAgICAgICAgICAgICAgIGZvcihsZXQgaj0wOyBqIDwgZ3JhbmRDaGlsZHJlbi5sZW5ndGg7IGorKykge1xyXG4gICAgICAgICAgICAgICAgICAgIGxldCBncmFuZENoaWxkID0gZ3JhbmRDaGlsZHJlbltqXTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgaWYoRE9NID09IGdyYW5kQ2hpbGQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICB9XHJcbn0iLCJpbXBvcnQgeyBGaWx0ZXIgfSBmcm9tIFwiLi4vLi4vbW9kZWwvZS1jb21tZXJjZS9maWx0ZXJcIjtcclxuaW1wb3J0IHsgRmlsdGVyU2V0dGluZ3MgfSBmcm9tIFwiLi4vLi4vbW9kZWwvZS1jb21tZXJjZS9maWx0ZXItc2V0dGluZ1wiO1xyXG5pbXBvcnQgeyBTdHJpbmdVdGlscyB9IGZyb20gXCIuLi8uLi91dGlscy9zdHJpbmctdXRpbHNcIjtcclxuXHJcbmNvbnN0ICAgSElERSA9IFwiZGlzcGxheTogbm9uZVwiO1xyXG5cclxuZXhwb3J0IGNsYXNzIFByb2R1Y3RGaWx0ZXJEZXNrdG9wVmlldyB7XHJcbiAgICBjb25zdHJ1Y3RvcihvcHRpb25zKSB7XHJcbiAgICAgICAgdGhpcy5maWx0ZXJWaWV3ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihvcHRpb25zLmZpbHRlclZpZXcpO1xyXG4gICAgICAgIHRoaXMuZmlsdGVyU2VsZWN0b3IgPSBvcHRpb25zLmZpbHRlcjtcclxuICAgICAgICB0aGlzLmFjdGl2ZUZpbHRlclNlbGVjdG9yID0gb3B0aW9ucy5hY3RpdmVGaWx0ZXI7XHJcbiAgICAgICAgdGhpcy5jbGVhckFsbFNlbGVjdG9yID0gb3B0aW9ucy5jbGVhckFsbCA9PT0gbnVsbCA/IG9wdGlvbnMuY2xlYXJBbGwgOiBudWxsO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogRnJvbSBhIGZpbHRlciAoRE9NIG9iamVjdCkgY3JlYXRlcyBhIGZpbHRlciBhbmQgdXBkYXRlcyB0aGUgY29tbW9uIEZpbHRlclNldHRpbmdzXHJcbiAgICAgKiBAcGFyYW0ge01BUktVUH0gRE9NIERPTSBvYmplY3Qgb2YgYSBmaWx0ZXIgaXRlbSBpbiB0aGUgTWFya3VwXHJcbiAgICAgKi9cclxuICAgIGFkZEZpbHRlcihET00pIHtcclxuICAgICAgICBpZighIURPTSkge1xyXG4gICAgICAgICAgICBsZXQgcGFyZW50ID0gRE9NLnBhcmVudE5vZGUsXHJcbiAgICAgICAgICAgIG5ld0ZpbHRlciA9IG5ldyBGaWx0ZXIoe1xyXG4gICAgICAgICAgICAgICAgY2F0ZWdvcnk6IHBhcmVudC5kYXRhc2V0LmZpbHRlckNhdGVnb3J5LFxyXG4gICAgICAgICAgICAgICAgY29uZGl0aW9uOiBwYXJlbnQuZGF0YXNldC5maWx0ZXJDb25kaXRpb24sXHJcbiAgICAgICAgICAgICAgICBuYW1lOiBET00uZGF0YXNldC5maWx0ZXJOYW1lLFxyXG4gICAgICAgICAgICAgICAgbGFiZWw6IERPTS5pbm5lclRleHRcclxuICAgICAgICAgICAgfSksXHJcbiAgICAgICAgICAgIGFkZFJlc3BvbnNlID0gRmlsdGVyU2V0dGluZ3MuYWRkKG5ld0ZpbHRlciksXHJcbiAgICAgICAgICAgIHN1Y2Nlc3MgPSBmYWxzZTtcclxuICAgICAgICAgICAgXHJcbiAgICAgICAgICAgIC8vICogTWFuaXB1bGF0ZSBET00gb25seSBhZnRlciBmaWx0ZXIgd2FzIHN1Y2Nlc3NmdWxseSBhZGRlZCB0byBjdXJyZW50IEZJTFRFUiBTRVRUSU5HXHJcbiAgICAgICAgICAgIGlmKGFkZFJlc3BvbnNlLnN1Y2Nlc3MpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMudG9nZ2xlRmlsdGVyRGlzcGxheShuZXdGaWx0ZXIsIGFkZFJlc3BvbnNlLmZpbHRlckNvdW50KVxyXG4gICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICBzdWNjZXNzID0gdHJ1ZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlXHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKGAlY0VSUi1WUEY6IEZJTFRFUiAke0RPTS5pbm5lclRleHR9IC8gQ0FURUdPUlkgJHtwYXJlbnQuZGF0YXNldC5maWx0ZXJDYXRlZ29yeX0gQUxSRUFEWSBBRERFRGAgLCAnY29sb3I6IGJsdWUnKTtcclxuICAgICAgICAgICAgXHJcbiAgICAgICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgICAgICBzdWNjZXNzOiBzdWNjZXNzLFxyXG4gICAgICAgICAgICAgICAgZmlsdGVyOiBuZXdGaWx0ZXJcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICBzdWNjZXNzOiBmYWxzZVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIEZyb20gYSBGaWx0ZXIgb2JqZWN0IGFuZCBhIGNvdW50ZXIsIGRlY2lkZXMgd2hldGhlciB0byBkaXNwbGF5IG9yIGhpZGUgdGhlIGZpbHRlciBpdGVtIC8gY2F0ZWdvcnkgaW4gdGhlIERlc2t0b3AgZmlsdGVyIG1hcmt1cFxyXG4gICAgICogQHBhcmFtIHtGSUxURVJ9IEZpbHRlciBGaWx0ZXIgb2JqZWN0IGZyb20gdGhlIEZpbHRlciBtb2RlbFxyXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGNvdW50X1VzZWRGaWx0ZXJzIENvdW50ZXIgb2YgZmlsdGVycyBpbmNsdWRlZCBpbiB0aGUgRmlsdGVyU2V0dGluZ3MgZnJvbSB0aGF0IGNhdGVnb3J5XHJcbiAgICAgKi9cclxuICAgIHRvZ2dsZUZpbHRlckRpc3BsYXkoRmlsdGVyLCBjb3VudF9Vc2VkRmlsdGVycyA9IC0xKSB7XHJcbiAgICAgICAgbGV0IHsgY29uZGl0aW9uIH0gPSBGaWx0ZXIsXHJcbiAgICAgICAgICAgIGZpbHRlckRPTSA9IHRoaXMuZmluZEZpbHRlcihGaWx0ZXIpLFxyXG4gICAgICAgICAgICBjYXRlZ29yeURPTSA9IGZpbHRlckRPTT8ucGFyZW50Tm9kZSxcclxuICAgICAgICAgICAgY291bnRfZmlsdGVyc0luQ2F0ZWdvcnkgPSBjYXRlZ29yeURPTT8uY2hpbGRFbGVtZW50Q291bnQgLSAxOyAvLyogQ291bnQgdGhlIG51bWJlciBvZiBmaWx0ZXJzIGF2YWlsYWJsZSB1bmRlciBvbmUgY2F0ZWdvcnlcclxuXHJcbiAgICAgICAgaWYoY291bnRfVXNlZEZpbHRlcnMgIT09IC0xKSB7XHJcbiAgICAgICAgICAgIHN3aXRjaCAoY29uZGl0aW9uLnRvVXBwZXJDYXNlKCkpIHtcclxuICAgICAgICAgICAgICAgIGNhc2UgRmlsdGVyU2V0dGluZ3MuRklMVEVSX09SOlxyXG4gICAgICAgICAgICAgICAgICAgIGNhdGVnb3J5RE9NLnN0eWxlLmNzc1RleHQgPSBISURFOyAvLyogSGlkZSBGaWx0ZXIgY2F0ZWdvcnkgZnJvbSBET00gd2hlbiBzZWxlY3RlZFxyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgXHJcbiAgICAgICAgICAgICAgICBkZWZhdWx0OlxyXG4gICAgICAgICAgICAgICAgICAgIGZpbHRlckRPTS5zdHlsZS5jc3NUZXh0ID0gSElERTsgLy8qIEhpZGUgRmlsdGVyIGl0ZW0gZnJvbSBET00gd2hlbiBzZWxlY3RlZFxyXG4gICAgXHJcbiAgICAgICAgICAgICAgICAgICAgaWYoY291bnRfVXNlZEZpbHRlcnMgPT0gY291bnRfZmlsdGVyc0luQ2F0ZWdvcnkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY2F0ZWdvcnlET00uc3R5bGUuY3NzVGV4dCA9IEhJREU7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgaWYoISFmaWx0ZXJET00pIHtcclxuICAgICAgICAgICAgICAgIGZpbHRlckRPTS5zdHlsZS5jc3NUZXh0ID0gXCJcIjtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgaWYoISFjYXRlZ29yeURPTSkge1xyXG4gICAgICAgICAgICAgICAgY2F0ZWdvcnlET00uc3R5bGUuY3NzVGV4dCA9IFwiXCI7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgXHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBGaW5kcyB0aGUgRE9NIHJlbGF0ZWQgdG8gdGhlIGZpbHRlciBvYmplY3QgaW4gdGhlIERlc2t0b3AgRmlsdGVyIGNvbnRhaW5lclxyXG4gICAgICogQHBhcmFtIHtGSUxURVJ9IEZpbHRlciBGaWx0ZXIgb2JqZWN0IGZyb20gRmlsdGVyIG1vZGVsXHJcbiAgICAgKi9cclxuICAgIGZpbmRGaWx0ZXIoRmlsdGVyKSB7XHJcbiAgICAgICAgbGV0IHsgY2F0ZWdvcnksIGNvbmRpdGlvbiwgbmFtZSB9ID0gRmlsdGVyLFxyXG4gICAgICAgICAgICBzZWxlY3RvciA9IGBkaXZbZGF0YS1maWx0ZXItY2F0ZWdvcnk9XCIke2NhdGVnb3J5fVwiXVtkYXRhLWZpbHRlci1jb25kaXRpb249XCIke2NvbmRpdGlvbn1cIl0gJHt0aGlzLmZpbHRlclNlbGVjdG9yfVtkYXRhLWZpbHRlci1uYW1lPVwiJHtuYW1lfVwiXWA7XHJcblxyXG4gICAgICAgIGlmKCEhdGhpcy5maWx0ZXJWaWV3KSB7XHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmZpbHRlclZpZXcucXVlcnlTZWxlY3RvcihzZWxlY3Rvcik7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogRnJvbSBhIGZpbHRlciBPQkogKENhdGVnb3J5LCBDb25kaXRpb24sIE5hbWUpIGFuZCBhIGdpdmVuIGludGVnZXIsIHVwZGF0ZXMgdGhlIGZpbHRlciBjb3VudGVyXHJcbiAgICAgKiBAcGFyYW0ge0ZJTFRFUiBPQkp9IEZpbHRlciBcclxuICAgICAqIEBwYXJhbSB7SU5URUdFUn0gY291bnQgXHJcbiAgICAgKi9cclxuICAgIHVwZGF0ZUZpbHRlckNvdW50KEZpbHRlciwgY291bnQpIHtcclxuICAgICAgICBsZXQgZmlsdGVyRE9NID0gdGhpcy5maW5kRmlsdGVyKEZpbHRlciksXHJcbiAgICAgICAgICAgIHRleHRDb3VudCA9IGAke2NvdW50fWA7XHJcbiAgICAgICAgICAgIFxyXG4gICAgICAgIGlmKHRleHRDb3VudC5sZW5ndGggPCAyKSB7XHJcbiAgICAgICAgICAgIHRleHRDb3VudCA9IFwiMFwiICsgdGV4dENvdW50XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZihjb3VudCA8IDEpIHtcclxuICAgICAgICAgICAgaWYgKGZpbHRlckRPTSAhPT0gbnVsbCkge1xyXG4gICAgICAgICAgICAgICAgZmlsdGVyRE9NLnN0eWxlLmRpc3BsYXkgPSBcIlwiO1xyXG4gICAgICAgICAgICAgICAgZmlsdGVyRE9NLmRhdGFzZXQuZmlsdGVyQ291bnQgPSBcIjAwXCI7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBpZiAoZmlsdGVyRE9NICE9PSBudWxsKSB7XHJcbiAgICAgICAgICAgICAgICBmaWx0ZXJET00uZGF0YXNldC5maWx0ZXJDb3VudCA9IHRleHRDb3VudDtcclxuICAgICAgICAgICAgICAgIGZpbHRlckRPTS5zdHlsZS5kaXNwbGF5ID0gXCJmbGV4XCI7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLy8gISBORUVEIE9QVElNSVpBVElPTiBUTyBNVUNIIExPT1BTXHJcbiAgICBjb3VudERpc3BsYXllZFByb2R1Y3RzKGFyclByb2R1Y3QpIHtcclxuICAgICAgICBsZXQgcHJvZHVjdHMgPSBhcnJQcm9kdWN0LFxyXG4gICAgICAgICAgICBmaWx0ZXJzID0gdGhpcy5nZXRBbGxGaWx0ZXJOYW1lcygpLFxyXG4gICAgICAgICAgICBmaWx0ZXJDb3VudCA9IFtdXHJcblxyXG4gICAgICAgIGZvciAobGV0IGogPSAwOyBqIDwgZmlsdGVycy5sZW5ndGg7IGorKykge1xyXG4gICAgICAgICAgICBjb25zdCBmaWx0ZXJOYW1lcyA9IGZpbHRlcnNbal0uaXRlbXM7XHJcblxyXG4gICAgICAgICAgICBmb3IgKGxldCBrID0gMDsgayA8IGZpbHRlck5hbWVzLmxlbmd0aDsgaysrKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBmaWx0ZXJOYW1lID0gZmlsdGVyTmFtZXNba107XHJcbiAgICAgICAgICAgICAgICBsZXQgZmlsdGVyQ291bnQgPSAwO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHByb2R1Y3RzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0ICAgcHJvZHVjdCA9IHByb2R1Y3RzW2ldLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGtleXMgPSBPYmplY3Qua2V5cyhwcm9kdWN0LmRhdGFzZXQpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgZm9yIChsZXQgbCA9IDA7IGwgPCBrZXlzLmxlbmd0aDsgbCsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCAgIGtleSA9IGtleXNbbF0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRhdGFzZXRWYWx1ZSA9IHByb2R1Y3QuZGF0YXNldFtrZXldLnRvTG93ZXJDYXNlKCk7XHJcbiAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYoU3RyaW5nVXRpbHMuZmluZENoYXIoZmlsdGVyTmFtZS50b0xvd2VyQ2FzZSgpLCBkYXRhc2V0VmFsdWUpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZmlsdGVyQ291bnQrKztcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgbGV0IG9iaiA9IHtcclxuICAgICAgICAgICAgICAgICAgICBmaWx0ZXI6IG5ldyBGaWx0ZXIoe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjYXRlZ29yeTogZmlsdGVyc1tqXS5jYXRlZ29yeSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29uZGl0aW9uOiBmaWx0ZXJzW2pdLmNvbmRpdGlvbixcclxuICAgICAgICAgICAgICAgICAgICAgICAgbmFtZTogZmlsdGVyTmFtZVxyXG4gICAgICAgICAgICAgICAgICAgIH0pLFxyXG4gICAgICAgICAgICAgICAgICAgIGNvdW50OiBmaWx0ZXJDb3VudFxyXG4gICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgIHRoaXMudXBkYXRlRmlsdGVyQ291bnQob2JqLmZpbHRlciwgb2JqLmNvdW50KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIEdldCBhbGwgZmlsdGVyIG5hbWVzIGZyb20gdGhlIERPTSBieSBjYXRlZ29yeVxyXG4gICAgICogUmV0dXJucyBhbiBhcnJheSBvZiBPQkoge2NhdGVnb3J5LCBjb25kaXRpb24sIGl0ZW1zIFtBcnJheSBvZiBmaWx0ZXIgTmFtZXNdfVxyXG4gICAgICovXHJcbiAgICBnZXRBbGxGaWx0ZXJOYW1lcygpIHtcclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICBpZighIXRoaXMuZmlsdGVyVmlldykge1xyXG4gICAgICAgICAgICAgICAgbGV0IGZpbHRlckNhdGVnb3JpZXMgPSB0aGlzLmZpbHRlclZpZXcucXVlcnlTZWxlY3RvckFsbCgnLmpzLWZpbHRlci1jYXRlZ29yeScpLFxyXG4gICAgICAgICAgICAgICAgICAgIGZpbHRlck5hbWVzID0gW107XHJcbiAgICAgICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGZpbHRlckNhdGVnb3JpZXMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCAgIGNhdGVnb3J5ID0gZmlsdGVyQ2F0ZWdvcmllc1tpXSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsgZmlsdGVyQ2F0ZWdvcnksIGZpbHRlckNvbmRpdGlvbiB9ID0gY2F0ZWdvcnkuZGF0YXNldDtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgbGV0ICAgICBmaWx0ZXJzSW5DYXRlZ29yeSA9IGNhdGVnb3J5LnF1ZXJ5U2VsZWN0b3JBbGwodGhpcy5maWx0ZXJTZWxlY3RvciksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBuYW1lcyA9IFtdXHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yIChsZXQgaiA9IDA7IGogPCBmaWx0ZXJzSW5DYXRlZ29yeS5sZW5ndGg7IGorKykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGZpbHRlciA9IGZpbHRlcnNJbkNhdGVnb3J5W2pdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCB7IGZpbHRlck5hbWUgfSA9IGZpbHRlci5kYXRhc2V0O1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuYW1lcy5wdXNoKGZpbHRlck5hbWUpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICBsZXQgb2JqID0ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2F0ZWdvcnk6IGZpbHRlckNhdGVnb3J5LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uZGl0aW9uOiBmaWx0ZXJDb25kaXRpb24sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpdGVtczogbmFtZXNcclxuICAgICAgICAgICAgICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgZmlsdGVyTmFtZXMucHVzaChvYmopO1xyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIHJldHVybiBmaWx0ZXJOYW1lcztcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgcmV0dXJuIFtdO1xyXG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoXCJGYWlsZWQgdG8gZmV0Y2ggYWxsIGZpbHRlciBuYW1lc1wiKVxyXG4gICAgICAgIH1cclxuICAgIH1cclxufSIsImltcG9ydCB7IEZpbHRlclNldHRpbmdzIH0gZnJvbSBcIi4uLy4uL21vZGVsL2UtY29tbWVyY2UvZmlsdGVyLXNldHRpbmdcIjtcclxuaW1wb3J0IHsgRmlsdGVyIH0gZnJvbSBcIi4uLy4uL21vZGVsL2UtY29tbWVyY2UvZmlsdGVyXCI7XHJcblxyXG5leHBvcnQgY2xhc3MgUHJvZHVjdEZpbHRlck1vYmlsZVZpZXcge1xyXG4gICAgY29uc3RydWN0b3Iob3B0aW9ucykge1xyXG4gICAgICAgIHRoaXMuZmlsdGVyQ29udGFpbmVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihvcHRpb25zLmZpbHRlckNvbnRhaW5lcik7XHJcbiAgICAgICAgdGhpcy5maWx0ZXJTZWxlY3RvciA9ICh0aGlzLmZpbHRlckNvbnRhaW5lciAhPSBudWxsKSA/dGhpcy5maWx0ZXJDb250YWluZXIucXVlcnlTZWxlY3RvckFsbChvcHRpb25zLmZpbHRlclNlbGVjdG9yKSA6IG51bGw7XHJcbiAgICAgICAgdGhpcy5hY3RpdmVDbGFzcyA9ICcuZmlsdGVyLW1iX19hY3RpdmUnO1xyXG4gICAgICAgIHRoaXMuZmlsdGVyQ2xhc3MgPSAnLmpzLWZpbHRlci1pdGVtLW1iJztcclxuICAgIH1cclxuXHJcbiAgICBhZGRGaWx0ZXIoZmlsdGVyRE9NKSB7XHJcbiAgICAgICAgaWYoISFmaWx0ZXJET00pIHtcclxuICAgICAgICAgICAgbGV0IGNhdGVnb3J5ID0gZmlsdGVyRE9NLnBhcmVudE5vZGUucGFyZW50Tm9kZTtcclxuICAgICAgICAgICAgaWYoY2F0ZWdvcnkucXVlcnlTZWxlY3RvcignLmZpbHRlci1tYl9fdGl0bGUnKSAhPSBudWxsKXtcclxuICAgICAgICAgICAgICAgICAgICBsZXQgdGl0bGUgPSBjYXRlZ29yeS5xdWVyeVNlbGVjdG9yKCcuZmlsdGVyLW1iX190aXRsZScpLFxyXG4gICAgICAgICAgICAgICAgICAgIGFjdGl2ZUZpbHRlcnMgPSAoY2F0ZWdvcnkucXVlcnlTZWxlY3RvcignLmZpbHRlci1tYl9fYWN0aXZlJykgPT0gdW5kZWZpbmVkKSA/IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpIDogY2F0ZWdvcnkucXVlcnlTZWxlY3RvcignLmZpbHRlci1tYl9fYWN0aXZlJyksXHJcbiAgICAgICAgICAgICAgICAgICAgeyBmaWx0ZXJDYXRlZ29yeSwgZmlsdGVyQ29uZGl0aW9uIH0gPSB0aXRsZS5kYXRhc2V0LFxyXG4gICAgICAgICAgICAgICAgICAgIHsgZmlsdGVyTmFtZSB9ID0gZmlsdGVyRE9NLmRhdGFzZXQsXHJcbiAgICAgICAgICAgICAgICAgICAgY2xpY2tlZEZpbHRlckRldGFpbHMgPSBuZXcgRmlsdGVyKHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY2F0ZWdvcnk6IGZpbHRlckNhdGVnb3J5LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25kaXRpb246IGZpbHRlckNvbmRpdGlvbixcclxuICAgICAgICAgICAgICAgICAgICAgICAgbmFtZTogZmlsdGVyTmFtZSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgbGFiZWw6IGZpbHRlckRPTS5pbm5lclRleHRcclxuICAgICAgICAgICAgICAgICAgICB9KSxcclxuICAgICAgICAgICAgICAgICAgICBzcGFuID0gdGhpcy5hZGRGaWx0ZXJUb0RPTShjbGlja2VkRmlsdGVyRGV0YWlscyksXHJcbiAgICAgICAgICAgICAgICAgICAgYWRkUmVzcG9uc2UgPSBGaWx0ZXJTZXR0aW5ncy5hZGQoY2xpY2tlZEZpbHRlckRldGFpbHMpLFxyXG4gICAgICAgICAgICAgICAgICAgIHN1Y2Nlc3MgPSBmYWxzZTtcclxuXHJcbiAgICAgICAgICAgICAgICBpZihhZGRSZXNwb25zZS5zdWNjZXNzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgZmlsdGVyQWN0aXZlID0gY2F0ZWdvcnkucXVlcnlTZWxlY3RvcihgLmZpbHRlci1tYl9fdGl0bGUgc3BhbltkYXRhLWZpbHRlci1uYW1lPVwiJHtmaWx0ZXJOYW1lfVwiXWApO1xyXG4gICAgICAgICAgICBcclxuICAgICAgICAgICAgICAgICAgICBpZihjYXRlZ29yeS5xdWVyeVNlbGVjdG9yKCcuZmlsdGVyLW1iX19hY3RpdmUnKSA9PT0gbnVsbCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBhY3RpdmVGaWx0ZXJzLmNsYXNzTGlzdC5hZGQoJ2ZpbHRlci1tYl9fYWN0aXZlJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGFjdGl2ZUZpbHRlcnMuYXBwZW5kQ2hpbGQoc3Bhbik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRpdGxlLmFwcGVuZENoaWxkKGFjdGl2ZUZpbHRlcnMpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYoY2xpY2tlZEZpbHRlckRldGFpbHMuY29uZGl0aW9uID09PSBGaWx0ZXJTZXR0aW5ncy5GSUxURVJfT1IpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGJvZHkgPSBjYXRlZ29yeS5xdWVyeVNlbGVjdG9yKFwiLmpzLWZpbHRlci1hY2NvcmRpb24tY29udGVudFwiKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJvZHkuc3R5bGUuZGlzcGxheSA9IFwibm9uZVwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZihmaWx0ZXJBY3RpdmUgPT0gbnVsbCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYWN0aXZlRmlsdGVycy5hcHBlbmRDaGlsZChzcGFuKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBzdWNjZXNzID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2VcclxuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhgJWNFUlItVlBGTTogRklMVEVSICR7ZmlsdGVyRE9NLmlubmVyVGV4dH0gLyBDQVRFR09SWSAke3RpdGxlLmRhdGFzZXQuZmlsdGVyQ2F0ZWdvcnl9IEFMUkVBRFkgQURERURgLCAnY29sb3I6IGJsdWUnKTtcclxuXHJcbiAgICAgICAgICAgICAgICAvLyB0aGlzLnRyaWdnZXJBZGREZXNrdG9wKGZpbHRlckNhdGVnb3J5LCBmaWx0ZXJOYW1lKTtcclxuXHJcbiAgICAgICAgICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICAgICAgICAgIHN1Y2Nlc3M6IHN1Y2Nlc3MsIFxyXG4gICAgICAgICAgICAgICAgICAgIGZpbHRlcjogY2xpY2tlZEZpbHRlckRldGFpbHNcclxuICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygnLmZpbHRlci1tYl9fdGl0bGU6IG5vdCBmb3VuZCcpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGFkZEZpbHRlclRvRE9NKEZpbHRlcikge1xyXG4gICAgICAgIGxldCB7IG5hbWUsIGxhYmVsIH0gPSBGaWx0ZXIsXHJcbiAgICAgICAgICAgIHNwYW4gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzcGFuJyk7XHJcblxyXG4gICAgICAgIHNwYW4uZGF0YXNldC5maWx0ZXJOYW1lID0gbmFtZTtcclxuICAgICAgICBzcGFuLnRleHRDb250ZW50ID0gbGFiZWw7XHJcblxyXG4gICAgICAgIHJldHVybiBzcGFuO1xyXG4gICAgfVxyXG5cclxuICAgIHRvZ2dsZUZpbHRlckRpc3BsYXkoRmlsdGVyKSB7XHJcbiAgICAgICAgaWYoRmlsdGVyLmNvbmRpdGlvbiA9PT0gRmlsdGVyU2V0dGluZ3MuRklMVEVSX09SKSB7XHJcbiAgICAgICAgICAgIHZhciBjYXRlZ29yeSA9IHRoaXMuZmlsdGVyQ29udGFpbmVyPy5xdWVyeVNlbGVjdG9yKGBbZGF0YS1maWx0ZXItY2F0ZWdvcnk9JyR7RmlsdGVyLmNhdGVnb3J5fSddW2RhdGEtZmlsdGVyLWNvbmRpdGlvbj0nJHtGaWx0ZXIuY29uZGl0aW9ufSddYCksXHJcbiAgICAgICAgICAgICAgICBib2R5ID0gISFjYXRlZ29yeSA/IGNhdGVnb3J5Lm5leHRFbGVtZW50U2libGluZyA6IG51bGw7XHJcblxyXG4gICAgICAgICAgICBpZighIWJvZHkpIHtcclxuICAgICAgICAgICAgICAgIGJvZHkuc3R5bGUuZGlzcGxheSA9IFwiXCI7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBGcm9tIGEgZmlsdGVyIE9CSiAoQ2F0ZWdvcnksIENvbmRpdGlvbiwgTmFtZSkgYW5kIGEgZ2l2ZW4gaW50ZWdlciwgdXBkYXRlcyB0aGUgZmlsdGVyIGNvdW50ZXJcclxuICAgICAqIEBwYXJhbSB7RklMVEVSIE9CSn0gRmlsdGVyIFxyXG4gICAgICogQHBhcmFtIHtJTlRFR0VSfSBjb3VudCBcclxuICAgICAqL1xyXG4gICAgdXBkYXRlRmlsdGVyQ291bnQoRmlsdGVyLCBjb3VudCkge1xyXG4gICAgICAgIGxldCBmaWx0ZXJET00gPSB0aGlzLmZpbmRGaWx0ZXIoRmlsdGVyKSxcclxuICAgICAgICAgICAgdGV4dENvdW50ID0gYCR7Y291bnR9YDtcclxuICAgICAgICAgICAgXHJcbiAgICAgICAgaWYodGV4dENvdW50Lmxlbmd0aCA8IDIpIHtcclxuICAgICAgICAgICAgdGV4dENvdW50ID0gXCIwXCIgKyB0ZXh0Q291bnRcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmKGNvdW50IDwgMSkge1xyXG4gICAgICAgICAgICBpZiAoZmlsdGVyRE9NICE9PSBudWxsKSB7XHJcbiAgICAgICAgICAgICAgICBmaWx0ZXJET00uc3R5bGUuZGlzcGxheSA9IFwibm9uZVwiO1xyXG4gICAgICAgICAgICAgICAgZmlsdGVyRE9NLmRhdGFzZXQuZmlsdGVyQ291bnQgPSBcIjAwXCI7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBpZiAoZmlsdGVyRE9NICE9PSBudWxsKSB7XHJcbiAgICAgICAgICAgICAgICBmaWx0ZXJET00uZGF0YXNldC5maWx0ZXJDb3VudCA9IHRleHRDb3VudDtcclxuICAgICAgICAgICAgICAgIGZpbHRlckRPTS5zdHlsZS5kaXNwbGF5ID0gXCJmbGV4XCI7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBGaW5kcyB0aGUgRE9NIHJlbGF0ZWQgdG8gdGhlIGZpbHRlciBvYmplY3QgaW4gdGhlIERlc2t0b3AgRmlsdGVyIGNvbnRhaW5lclxyXG4gICAgICogQHBhcmFtIHtGSUxURVJ9IEZpbHRlciBGaWx0ZXIgb2JqZWN0IGZyb20gRmlsdGVyIG1vZGVsXHJcbiAgICAgKi9cclxuICAgIGZpbmRGaWx0ZXIoRmlsdGVyKSB7XHJcbiAgICAgICAgbGV0IHsgY2F0ZWdvcnksIGNvbmRpdGlvbiwgbmFtZSB9ID0gRmlsdGVyLFxyXG4gICAgICAgICAgICBzZWxlY3RvciA9IGBzcGFuJHt0aGlzLmZpbHRlckNsYXNzfVtkYXRhLWZpbHRlci1uYW1lPVwiJHtuYW1lfVwiXWA7XHJcblxyXG4gICAgICAgIGlmKCEhdGhpcy5maWx0ZXJDb250YWluZXIpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuZmlsdGVyQ29udGFpbmVyLnF1ZXJ5U2VsZWN0b3Ioc2VsZWN0b3IpO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIEdldCBhbGwgZmlsdGVyIG5hbWVzIGZyb20gdGhlIERPTSBieSBjYXRlZ29yeVxyXG4gICAgICogUmV0dXJucyBhbiBhcnJheSBvZiBPQkoge2NhdGVnb3J5LCBjb25kaXRpb24sIGl0ZW1zIFtBcnJheSBvZiBmaWx0ZXIgTmFtZXNdfVxyXG4gICAgICovXHJcbiAgICBnZXRBbGxGaWx0ZXJOYW1lcygpIHtcclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICBpZighIXRoaXMuZmlsdGVyQ29udGFpbmVyKSB7XHJcbiAgICAgICAgICAgICAgICBsZXQgZmlsdGVyQ2F0ZWdvcmllcyA9IHRoaXMuZmlsdGVyQ29udGFpbmVyLnF1ZXJ5U2VsZWN0b3JBbGwoJy5maWx0ZXItbWJfX2NhdGVnb3J5LmpzLWFjY29yZGlvbicpLFxyXG4gICAgICAgICAgICAgICAgICAgIGZpbHRlck5hbWVzID0gW107XHJcbiAgICAgICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGZpbHRlckNhdGVnb3JpZXMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCAgIGNhdGVnb3J5ID0gZmlsdGVyQ2F0ZWdvcmllc1tpXS5xdWVyeVNlbGVjdG9yKCcuanMtZmlsdGVyLWFjY29yZGlvbicpLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgeyBmaWx0ZXJDYXRlZ29yeSwgZmlsdGVyQ29uZGl0aW9uIH0gPSBjYXRlZ29yeS5kYXRhc2V0O1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBsZXQgICAgIGZpbHRlcnNJbkNhdGVnb3J5ID0gZmlsdGVyQ2F0ZWdvcmllc1tpXS5xdWVyeVNlbGVjdG9yQWxsKFwiLmpzLWZpbHRlci1pdGVtLW1iXCIpLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbmFtZXMgPSBbXVxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciAobGV0IGogPSAwOyBqIDwgZmlsdGVyc0luQ2F0ZWdvcnkubGVuZ3RoOyBqKyspIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBmaWx0ZXIgPSBmaWx0ZXJzSW5DYXRlZ29yeVtqXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgeyBmaWx0ZXJOYW1lIH0gPSBmaWx0ZXIuZGF0YXNldDtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmFtZXMucHVzaChmaWx0ZXJOYW1lKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgbGV0IG9iaiA9IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhdGVnb3J5OiBmaWx0ZXJDYXRlZ29yeSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbmRpdGlvbjogZmlsdGVyQ29uZGl0aW9uLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaXRlbXM6IG5hbWVzXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGZpbHRlck5hbWVzLnB1c2gob2JqKTtcclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICByZXR1cm4gZmlsdGVyTmFtZXM7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIHJldHVybiBbXTtcclxuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKFwiRmFpbGVkIHRvIGZldGNoIGFsbCBmaWx0ZXIgbmFtZXNcIilcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn0iLCJpbXBvcnQgeyBGaWx0ZXJTZXR0aW5ncyB9IGZyb20gJy4uLy4uL21vZGVsL2UtY29tbWVyY2UvZmlsdGVyLXNldHRpbmcnO1xyXG5cclxuY29uc3QgICBTSE9XID0gXCJkaXNwbGF5OiBibG9ja1wiO1xyXG5cclxuZXhwb3J0IGNsYXNzIEFjdGl2ZUZpbHRlclZpZXcge1xyXG4gICAgY29uc3RydWN0b3Iob3B0aW9ucykge1xyXG4gICAgICAgIHRoaXMuYWN0aXZlQ29udGFpbmVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihvcHRpb25zLmFjdGl2ZUNvbnRhaW5lcik7XHJcbiAgICAgICAgdGhpcy5hbmFseXRpY3NFdmVudFNlbGVjdG9yID0gXCJqcy1ldmVudC11bnNlbGVjdC1maWx0ZXJcIjtcclxuICAgICAgICB0aGlzLmFjdGl2ZUZpbHRlckNsYXNzID0gJ2ZpbHRlci1kX19pdGVtJztcclxuICAgICAgICB0aGlzLmFjdGl2ZUV2ZW50U2VsZWN0b3IgPSAnanMtZmlsdGVyLWl0ZW0tYWN0aXZlJztcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIFVzZXMgYSBGaWx0ZXIgT2JqZWN0IHRvIFVwZGF0ZSB0aGUgQWN0aXZlIGZpbHRlciBjb250YWluZXIgKFZJRVcpXHJcbiAgICAgKiBAcGFyYW0ge0ZJTFRFUn0gRmlsdGVyIEZpbHRlciBPYmplY3QgZm9ybSB0aGUgRmlsdGVyIG1vZGVsXHJcbiAgICAgKi9cclxuICAgIGFkZEFjdGl2ZUZpbHRlcihGaWx0ZXIsYW5hbHl0aWNzQ2xhc3MpIHtcclxuICAgICAgICBsZXQgeyBuYW1lIH0gPSBGaWx0ZXIsXHJcbiAgICAgICAgICAgIGFjdGl2ZUZpbHRlciA9IHRoaXMuY3JlYXRlQWN0aXZlRmlsdGVyKEZpbHRlcixhbmFseXRpY3NDbGFzcyk7XHJcblxyXG4gICAgICAgIGlmKHRoaXMuYWN0aXZlQ29udGFpbmVyICE9PSBudWxsICYmIHRoaXMuYWN0aXZlQ29udGFpbmVyLnF1ZXJ5U2VsZWN0b3JBbGwoYFtkYXRhLWZpbHRlci1uYW1lPVwiJHtuYW1lfVwiXWApLmxlbmd0aCA9PSAwKSB7XHJcbiAgICAgICAgICAgIHRoaXMuYWN0aXZlQ29udGFpbmVyLmFwcGVuZENoaWxkKGFjdGl2ZUZpbHRlcik7XHJcbiAgICAgICAgICAgIGxldCBhZGRGaWx0ZXJSZXNwID0gRmlsdGVyU2V0dGluZ3MuYWRkKEZpbHRlcilcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vICogT25jZSBuZXcgZmlsdGVyIGlzIGFkZGVkIHRvIGFjdGl2ZSBzZWN0aW9uLCB0b2dnbGUgQWN0aXZlIGZpbHRlciBkaXNwbGF5XHJcbiAgICAgICAgdGhpcy50b2dnbGVBY3RpdmVGaWx0ZXJzKCk7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBVc2VzIGEgRmlsdGVyIE9iamVjdCB0byBjcmVhdGUgdGhlIERPTSBtYXJrdXAgb2YgYW4gYWN0aXZlIGZpbHRlclxyXG4gICAgICogQHBhcmFtIHtGSUxURVJ9IEZpbHRlciBGaWx0ZXIgT2JqZWN0IGZvcm0gdGhlIEZpbHRlciBtb2RlbFxyXG4gICAgICovXHJcbiAgICBjcmVhdGVBY3RpdmVGaWx0ZXIoRmlsdGVyLGFuYWx5dGljc0NsYXNzKSB7XHJcbiAgICAgICAgbGV0IHsgY2F0ZWdvcnksIGNvbmRpdGlvbiwgbmFtZSwgbGFiZWwgfSA9IEZpbHRlcixcclxuICAgICAgICAgICAgYWN0aXZlRmlsdGVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2JyksXHJcbiAgICAgICAgICAgIGNsb3NlSWNvbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3NwYW4nKSxcclxuICAgICAgICAgICAgZmlsdGVyTGFiZWwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzcGFuJyk7XHJcblxyXG4gICAgICAgIGFjdGl2ZUZpbHRlci5zZXRBdHRyaWJ1dGUoJ2NsYXNzJywgYCR7dGhpcy5hY3RpdmVGaWx0ZXJDbGFzc30gJHt0aGlzLmFjdGl2ZUV2ZW50U2VsZWN0b3J9ICR7dGhpcy5hbmFseXRpY3NFdmVudFNlbGVjdG9yfSAke2FuYWx5dGljc0NsYXNzfWApO1xyXG4gICAgICAgIGFjdGl2ZUZpbHRlci5kYXRhc2V0LmZpbHRlckNhdGVnb3J5ID0gY2F0ZWdvcnk7XHJcbiAgICAgICAgYWN0aXZlRmlsdGVyLmRhdGFzZXQuZmlsdGVyQ29uZGl0aW9uID0gY29uZGl0aW9uO1xyXG4gICAgICAgIGFjdGl2ZUZpbHRlci5kYXRhc2V0LmZpbHRlck5hbWUgPSBuYW1lO1xyXG4gICAgICAgIGZpbHRlckxhYmVsLmlubmVyVGV4dCA9IGxhYmVsO1xyXG5cclxuICAgICAgICBhY3RpdmVGaWx0ZXIuYXBwZW5kQ2hpbGQoY2xvc2VJY29uKTtcclxuICAgICAgICBhY3RpdmVGaWx0ZXIuYXBwZW5kQ2hpbGQoZmlsdGVyTGFiZWwpO1xyXG5cclxuICAgICAgICByZXR1cm4gYWN0aXZlRmlsdGVyO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogUmVzcG9uc2libGUgdG8gZGlzcGxheSBvciBoaWRlIEFDVElWRSBmaWx0ZXJzIGNvbnRhaW5lciBiYXNlZCBvbiB0aGUgY29tbW9uIEZpbHRlclNldHRpbmdzXHJcbiAgICAgKi9cclxuICAgIHRvZ2dsZUFjdGl2ZUZpbHRlcnMoKSB7XHJcbiAgICAgICAgbGV0IHtmaWx0ZXJzfSA9IEZpbHRlclNldHRpbmdzO1xyXG5cclxuICAgICAgICBpZihmaWx0ZXJzLmxlbmd0aCA+IDApIHtcclxuICAgICAgICAgICAgdGhpcy5hY3RpdmVDb250YWluZXIuc3R5bGUuY3NzVGV4dCA9IFNIT1c7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgdGhpcy5hY3RpdmVDb250YWluZXIuc3R5bGUuY3NzVGV4dCA9IFwiXCI7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogRnJvbSBhIGZpbHRlciBPYmplY3QgaWRlbnRpZmllcyB0aGUgRE9NIG9iamVjdCBpbiB0aGUgQWN0aXZlIGZpbHRlcnMgY29udGFpbmVyXHJcbiAgICAgKiBAcGFyYW0ge0ZJTFRFUn0gRmlsdGVyIEZpbHRlciBPYmplY3QgZm9ybSB0aGUgRmlsdGVyIG1vZGVsXHJcbiAgICAgKi9cclxuICAgIGZpbmRBY3RpdmVGaWx0ZXIoRmlsdGVyKSB7XHJcbiAgICAgICAgbGV0IHtjYXRlZ29yeSwgY29uZGl0aW9uLCBuYW1lfSA9IEZpbHRlcixcclxuICAgICAgICAgICAgc2VsZWN0b3IgPSBgLiR7dGhpcy5hY3RpdmVFdmVudFNlbGVjdG9yfVtkYXRhLWZpbHRlci1jYXRlZ29yeT1cIiR7Y2F0ZWdvcnl9XCJdW2RhdGEtZmlsdGVyLWNvbmRpdGlvbj1cIiR7Y29uZGl0aW9ufVwiXVtkYXRhLWZpbHRlci1uYW1lPVwiJHtuYW1lfVwiXWA7XHJcblxyXG4gICAgICAgIHJldHVybiB0aGlzLmFjdGl2ZUNvbnRhaW5lci5xdWVyeVNlbGVjdG9yKHNlbGVjdG9yKTtcclxuICAgIH1cclxufSIsImNvbnN0ICAgSElERSA9IFwibm9uZVwiLFxyXG4gICAgICAgIFNIT1cgPSBcImJsb2NrXCI7XHJcblxyXG5leHBvcnQgY2xhc3MgUHJvZHVjdExpc3RWaWV3IHtcclxuICAgIGNvbnN0cnVjdG9yKG9wdGlvbnMpIHtcclxuICAgICAgICB0aGlzLmNvbnRhaW5lciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3Iob3B0aW9ucy5jb250YWluZXIpO1xyXG4gICAgfVxyXG5cclxuICAgIGZpbmRQcm9kdWN0KHNlbGVjdG9yKSB7XHJcbiAgICAgICAgaWYodGhpcy5jb250YWluZXIgIT09IG51bGwpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuY29udGFpbmVyLnF1ZXJ5U2VsZWN0b3JBbGwoc2VsZWN0b3IpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBoaWRlQWxsKCkge1xyXG4gICAgICAgIGlmKHRoaXMuY29udGFpbmVyICE9PSBudWxsKSB7XHJcbiAgICAgICAgICAgIGxldCBwcm9kdWN0cyA9IHRoaXMuY29udGFpbmVyLnF1ZXJ5U2VsZWN0b3JBbGwoJy5qcy1wcm9kdWN0LWNhcmQnKTtcclxuXHJcbiAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgcHJvZHVjdHMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IHByb2R1Y3RDYXJkID0gcHJvZHVjdHNbaV07XHJcbiAgICAgICAgICAgICAgICBwcm9kdWN0Q2FyZC5zdHlsZS5kaXNwbGF5ID0gSElERTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBkaXNwbGF5UHJvZHVjdHMocHJvZHVjdHNET00pIHtcclxuICAgICAgICBpZihwcm9kdWN0c0RPTSAhPT0gbnVsbCB8fCBwcm9kdWN0c0RPTSAhPT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgIGZvciAobGV0IGluZGV4ID0gMDsgaW5kZXggPCBwcm9kdWN0c0RPTS5sZW5ndGg7IGluZGV4KyspIHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IHByb2R1Y3QgPSBwcm9kdWN0c0RPTVtpbmRleF07XHJcbiAgICAgICAgICAgICAgICBwcm9kdWN0LnN0eWxlLmRpc3BsYXkgPSBTSE9XO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59IiwiZXhwb3J0IGNvbnN0IFNvcnRVdGlscyA9IHtcclxuICAgIGJ1YmJsZVNvcnRieUludEF0dHI6IChhcnIsYXR0cmlidXRlKSA9PiB7XHJcbiAgICAgICAgdmFyIGxlbiA9IGFyci5sZW5ndGgsXHJcbiAgICAgICAgICAgIHNvcnRlZEFyciA9IG5ldyBBcnJheShsZW4pO1xyXG5cclxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGFyci5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICBzb3J0ZWRBcnJbaV0gPSBhcnJbaV07XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBmb3IgKHZhciBpID0gbGVuIC0gMTsgaSA+PSAwOyBpLS0pe1xyXG4gICAgICAgICAgICBmb3IodmFyIGogPSAxOyBqIDw9IGk7IGorKyl7XHJcbiAgICAgICAgICAgICAgICBpZihwYXJzZUludChzb3J0ZWRBcnJbai0xXS5nZXRBdHRyaWJ1dGUoYXR0cmlidXRlKSkgPiBwYXJzZUludChzb3J0ZWRBcnJbal0uZ2V0QXR0cmlidXRlKGF0dHJpYnV0ZSkpKXtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgdGVtcCA9IHNvcnRlZEFycltqLTFdO1xyXG4gICAgICAgICAgICAgICAgICAgIHNvcnRlZEFycltqLTFdID0gc29ydGVkQXJyW2pdO1xyXG4gICAgICAgICAgICAgICAgICAgIHNvcnRlZEFycltqXSA9IHRlbXA7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHJldHVybiBzb3J0ZWRBcnI7XHJcbiAgICB9XHJcbn0iLCJleHBvcnQgY2xhc3Mgc29ydExpc3Qge1xyXG4gICAgY29uc3RydWN0b3Iob3B0aW9uKSB7XHJcbiAgICAgICAgdGhpcy50cmlnZ2VyID0gKG9wdGlvbi50cmlnZ2VyICE9IG51bGwpP29wdGlvbi50cmlnZ2VyOm51bGw7XHJcbiAgICAgICAgdGhpcy5jb250YWluZXIgPSAob3B0aW9uLmNvbnRhaW5lciAhPSBudWxsKT9vcHRpb24uY29udGFpbmVyOm51bGw7XHJcbiAgICAgICAgdGhpcy5maWVsZE5hbWUgPSAob3B0aW9uLmZpZWxkTmFtZSAhPSBudWxsKT9vcHRpb24uZmllbGROYW1lOm51bGw7XHJcbiAgICAgICAgdGhpcy5vcmRlciA9IChvcHRpb24ub3JkZXIgIT0gbnVsbCk/b3B0aW9uLm9yZGVyOnRydWU7XHJcbiAgICAgICAgdGhpcy5hdHRyID0gW107XHJcbiAgICAgICAgdGhpcy5fZ2V0T3JkZXJBdHRyaWJ1cmUoKTtcclxuICAgICAgICB0aGlzLmZpZWxkID0gKHRoaXMuZmllbGROYW1lICE9IG51bGwpID8gdGhpcy5hdHRyW3RoaXMuZmllbGROYW1lXSA6bnVsbDtcclxuICAgICAgICB0aGlzLl91cGRhdGVPcmRlcigpO1xyXG4gICAgfVxyXG5cclxuICAgIF91cGRhdGVPcmRlcigpIHtcclxuICAgICAgICB2YXIgb3JkID0gMSxcclxuICAgICAgICAgICAgbGlzdENvbnRhaW5lcjtcclxuICAgICAgICBcclxuICAgICAgICBpZighdGhpcy5vcmRlcikge1xyXG4gICAgICAgICAgICBvcmQgPSAtMTtcclxuICAgICAgICB9XHJcbiAgICAgICAgXHJcbiAgICAgICAgaWYodGhpcy5jb250YWluZXIgIT0gbnVsbCkge1xyXG4gICAgICAgICAgICBsaXN0Q29udGFpbmVyID0gJCh0aGlzLmNvbnRhaW5lcik7XHJcbiAgICAgICAgfSBcclxuICAgICAgICBpZiAodGhpcy5maWVsZCA9PSAnc29ydFByaWNlJyBcclxuICAgICAgICAgICAgfHwgdGhpcy5maWVsZCA9PSAnc29ydE5hbWUnIFxyXG4gICAgICAgICAgICB8fCB0aGlzLmZpZWxkID09ICdzb3J0UmF0aW5ncycgXHJcbiAgICAgICAgICAgIHx8IHRoaXMuZmllbGQgPT0gJ2RsUG9zaXRpb24nKSB7XHJcblxyXG4gICAgICAgICAgICB2YXIgZmllbGRPcmRlciA9IHRoaXMuZmllbGQsXHJcbiAgICAgICAgICAgICAgICBkaXZMaXN0ID0gJCh0aGlzLnRyaWdnZXIsICQodGhpcy5jb250YWluZXIpKSxcclxuICAgICAgICAgICAgICAgIGRpdkxpc3RSZW1vdmUgPSAkKHRoaXMudHJpZ2dlciwgJCh0aGlzLmNvbnRhaW5lcikpO1xyXG5cclxuICAgICAgICAgICAgICAgIHN3aXRjaCAodGhpcy5maWVsZCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgJ3NvcnRQcmljZSc6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX3NvcnRQcmljZShkaXZMaXN0LCBmaWVsZE9yZGVyLCBvcmQpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgJ3NvcnROYW1lJzpcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fc29ydE5hbWUoZGl2TGlzdCwgZmllbGRPcmRlciwgb3JkKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAnc29ydFJhdGluZ3MnOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl9zb3J0UmF0aW5ncyhkaXZMaXN0LCBmaWVsZE9yZGVyLCBvcmQpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAnZGxQb3NpdGlvbic6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX3NvcnRTdGFuZGFyZChkaXZMaXN0LCBmaWVsZE9yZGVyLCBvcmQpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgZGVmYXVsdDpcclxuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBpZihsaXN0Q29udGFpbmVyICE9IG51bGwpe1xyXG4gICAgICAgICAgICAgICAgZGl2TGlzdFJlbW92ZS5yZW1vdmUoKTtcclxuICAgICAgICAgICAgICAgIGxpc3RDb250YWluZXIucHJlcGVuZChkaXZMaXN0KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBfc29ydFByaWNlKGxpc3QsIGF0dHJpYnV0ZSwgb3JkZXIpIHtcclxuICAgICAgICBsaXN0LnNvcnQoZnVuY3Rpb24gKGEsIGIpIHtcclxuICAgICAgICAgICAgbGV0IHByaWNlQSA9IGEucXVlcnlTZWxlY3RvcihcIi5wcm9kdWN0X19wcmljZVwiKTtcclxuXHJcbiAgICAgICAgICAgIGlmKCQoYSkuZGF0YShhdHRyaWJ1dGUpID09IDAgJiYgcHJpY2VBKSAge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIC0xO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmKHByaWNlQSA9PSBudWxsIHx8IHByaWNlQSA9PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiAtMTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICByZXR1cm4gIG9yZGVyICogKCQoYSkuZGF0YShhdHRyaWJ1dGUpIC0gJChiKS5kYXRhKGF0dHJpYnV0ZSkpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIF9zb3J0TmFtZShsaXN0LCBhdHRyaWJ1dGUsIG9yZGVyKSB7XHJcbiAgICAgICAgbGlzdC5zb3J0KGZ1bmN0aW9uIChhLCBiKSB7XHJcbiAgICAgICAgICAgIHZhciBjb21wQSA9ICQoYSkuZGF0YShhdHRyaWJ1dGUpLnRvVXBwZXJDYXNlKCk7XHJcbiAgICAgICAgICAgIHZhciBjb21wQiA9ICQoYikuZGF0YShhdHRyaWJ1dGUpLnRvVXBwZXJDYXNlKCk7XHJcbiAgICAgICAgICAgIFxyXG4gICAgICAgICAgICByZXR1cm4gKGNvbXBBIDwgY29tcEIpID8gb3JkZXIgKiAoLTEpIDogKGNvbXBBID4gY29tcEIpID8gb3JkZXIgKiAoMSkgOiBvcmRlciAqICgwKTtcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICBfc29ydFJhdGluZ3MobGlzdCwgYXR0cmlidXRlLCBvcmRlcikge1xyXG4gICAgICAgIGxpc3Quc29ydChmdW5jdGlvbiAoYSwgYikge1xyXG4gICAgICAgICAgICByZXR1cm4gIG9yZGVyICogKHBhcnNlSW50KCQoYSkuZGF0YShhdHRyaWJ1dGUpKSAtIHBhcnNlSW50KCQoYikuZGF0YShhdHRyaWJ1dGUpKSk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgX3NvcnRTdGFuZGFyZChsaXN0LCBhdHRyaWJ1dGUsIG9yZGVyKSB7XHJcbiAgICAgICAgbGlzdC5zb3J0KGZ1bmN0aW9uIChhLGIpIHtcclxuICAgICAgICAgICAgcmV0dXJuICBvcmRlciAqICgkKGEpLmRhdGEoYXR0cmlidXRlKSAtICQoYikuZGF0YShhdHRyaWJ1dGUpKTtcclxuICAgICAgICB9KVxyXG4gICAgfVxyXG5cclxuICAgIF9nZXRPcmRlckF0dHJpYnVyZSgpe1xyXG4gICAgICAgIHRoaXMuYXR0clsnZGF0YS1zb3J0LXByaWNlJ10gPSAnc29ydFByaWNlJztcclxuICAgICAgICB0aGlzLmF0dHJbJ2RhdGEtc29ydC1uYW1lJ10gPSAnc29ydE5hbWUnO1xyXG4gICAgICAgIHRoaXMuYXR0clsnZGF0YS1zb3J0LWFscGhhJ10gPSAnc29ydE5hbWUnO1xyXG4gICAgICAgIHRoaXMuYXR0clsnZGF0YS1zb3J0LXN0ZCddID0gJ2RsUG9zaXRpb24nO1xyXG4gICAgICAgIHRoaXMuYXR0clsnZGF0YS1zb3J0LXJhdGluZ3MnXSA9ICdzb3J0UmF0aW5ncyc7XHJcbiAgICB9XHJcblxyXG59IiwiaW1wb3J0IHsgU3RyaW5nVXRpbHMgfSBmcm9tICcuLi8uLi91dGlscy9zdHJpbmctdXRpbHMnO1xyXG5pbXBvcnQgeyBBcnJheVV0aWxzIH0gZnJvbSBcIi4uLy4uL3V0aWxzL2FycmF5LXV0aWxzXCI7XHJcbmltcG9ydCB7IENvb2tpZVV0aWxzIH0gZnJvbSBcIi4uLy4uL3V0aWxzL2Nvb2tpZS11dGlsc1wiO1xyXG5cclxuaW1wb3J0IHsgRmlsdGVyU2V0dGluZ3MgfSBmcm9tICcuLi8uLi9tb2RlbC9lLWNvbW1lcmNlL2ZpbHRlci1zZXR0aW5nJztcclxuaW1wb3J0IHsgRmlsdGVyIH0gZnJvbSAnLi4vLi4vbW9kZWwvZS1jb21tZXJjZS9maWx0ZXInO1xyXG5cclxuaW1wb3J0IHsgUGFnaW5hdGlvbiB9IGZyb20gXCIuLi8uLi92aWV3L2NvbXBvbmVudHMvcGFnaW5hdGlvblwiO1xyXG5pbXBvcnQgeyBQYWdpbmF0aW9uSW5kaWNhdG9yIH0gZnJvbSBcIi4uLy4uL3ZpZXcvY29tcG9uZW50cy9wYWdpbmF0aW9uLWluZGljYXRvclwiO1xyXG5pbXBvcnQgeyBTb3J0IH0gZnJvbSBcIi4uLy4uL3ZpZXcvY29tcG9uZW50cy9zb3J0XCI7XHJcbmltcG9ydCB7UHJvZHVjdEZpbHRlckRlc2t0b3BWaWV3fSBmcm9tICcuLi8uLi92aWV3L2UtY29tbWVyY2Uvdi1wcm9kdWN0LWZpbHRlci1kZXNrdG9wJztcclxuaW1wb3J0IHtQcm9kdWN0RmlsdGVyTW9iaWxlVmlld30gZnJvbSAnLi4vLi4vdmlldy9lLWNvbW1lcmNlL3YtcHJvZHVjdC1maWx0ZXItbW9iaWxlJztcclxuaW1wb3J0IHtBY3RpdmVGaWx0ZXJWaWV3fSBmcm9tICcuLi8uLi92aWV3L2UtY29tbWVyY2Uvdi1wcm9kdWN0LWZpbHRlci1hY3RpdmUnO1xyXG5pbXBvcnQgeyBQcm9kdWN0TGlzdFZpZXcgfSBmcm9tIFwiLi4vLi4vdmlldy9lLWNvbW1lcmNlL3YtcHJvZHVjdC1saXN0XCI7XHJcbmltcG9ydCBTaW1wbGVMb2FkZXIgZnJvbSBcIi4uLy4uL3ZpZXcvY29tcG9uZW50cy9zaW1wbGUtbG9hZGVyXCI7XHJcbmltcG9ydCB7IFNvcnRVdGlscyB9IGZyb20gJy4uLy4uL3V0aWxzL3NvcnQtdXRpbHMnO1xyXG5pbXBvcnQgeyBzb3J0TGlzdCB9IGZyb20gJy4uLy4uL2NvbnRyb2xsZXIvcHJvZHVjdC1saXN0L3NvcnQtbGlzdCc7XHJcbmltcG9ydCB7IHNjcm9sbCB9IGZyb20gJy4uLy4uL3V0aWxzL2RvY3VtZW50U2Nyb2xsJztcclxuaW1wb3J0IHsgcHJvZHVjdEltcHJlc3Npb24gfSBmcm9tICcuLi8uLi91dGlscy9hbmFseXRpY3MvZW5oYW5jZWQtZWNvbSc7XHJcblxyXG5cclxuY29uc3QgICBJTklUX0RJU1BMQVkgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuanMtcHJvZHVjdC1saXN0IFtkYXRhLXBhZ2UtbWF4XScpIT09dW5kZWZpbmVkICYmIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5qcy1wcm9kdWN0LWxpc3QgW2RhdGEtcGFnZS1tYXhdJykhPT1udWxsID8gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmpzLXByb2R1Y3QtbGlzdCBbZGF0YS1wYWdlLW1heF0nKS5kYXRhc2V0LnBhZ2VNYXggOiAxNSxcclxuICAgICAgICBBTEwgPSAoZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmpzLXByb2R1Y3QtbGlzdCcpICE9PSBudWxsKSA/IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5qcy1wcm9kdWN0LWxpc3QnKS5xdWVyeVNlbGVjdG9yQWxsKCcuanMtcHJvZHVjdC1jYXJkJykgOiBudWxsLFxyXG4gICAgICAgIFNPUlRfSU5JVCA9IChkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuanMtc29ydC1saXN0JykgIT09IG51bGwpID8gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmpzLXNvcnQtbGlzdCcpLnF1ZXJ5U2VsZWN0b3IoJy5qcy1zb3J0LWl0ZW1bZGF0YS1zb3J0LXNlbGVjdGVkXScpOiBudWxsO1xyXG5cclxubGV0IGdsb2JhbERpc3BsYXkgPSBBTEwsXHJcbiAgICBjdXJyZW50U29ydCA9IChTT1JUX0lOSVQgIT09IG51bGwpID8gYGRhdGEtc29ydC0ke1NPUlRfSU5JVC5kYXRhc2V0LnNvcnROYW1lfWAgOiBudWxsO1xyXG5cclxuLy8gdmFyIHNvcnQgPSAnZGF0YS1zb3J0LW5hbWUnO1xyXG5cclxuZXhwb3J0IGNsYXNzIFByb2R1Y3RMaXN0aW5nIHtcclxuICAgIGNvbnN0cnVjdG9yKCkge1xyXG4gICAgICAgIHRoaXMuc2Nyb2xsID0gbmV3IHNjcm9sbCgpO1xyXG4gICAgICAgIHZhciBzb3J0SXRlbSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuanMtc29ydC1pdGVtW2RhdGEtc29ydC1zZWxlY3RlZD0ndHJ1ZSddXCIpXHJcbiAgICAgICAgdGhpcy5Tb3J0ID0gKCEhc29ydEl0ZW0gJiYgISFzb3J0SXRlbS5nZXRBdHRyaWJ1dGUoXCJkYXRhLXNvcnQtbmFtZVwiKSkgPyBgZGF0YS1zb3J0LSR7c29ydEl0ZW0uZ2V0QXR0cmlidXRlKFwiZGF0YS1zb3J0LW5hbWVcIil9YDogXCJcIjtcclxuICAgICAgICBcclxuICAgICAgICB0aGlzLmRpcmVjdGlvbiA9ICdhc2MnO1xyXG4gICAgICAgIENvb2tpZVV0aWxzLmRlbGV0ZSgnZGF0YS1zZWxlY3RlZC1wcm9kdWN0cycpO1xyXG4gICAgICAgIGdsb2JhbERpc3BsYXkgPSB0aGlzLm9yZGVyTGlzdChnbG9iYWxEaXNwbGF5KTtcclxuICAgICAgICB0aGlzLnNpbXBsZUxvYWRlciA9IG5ldyBTaW1wbGVMb2FkZXIoe30pO1xyXG5cclxuICAgICAgICB0aGlzLnByb2R1Y3RTb3J0ID0gbmV3IFNvcnQoe1xyXG4gICAgICAgICAgICBjb250YWluZXI6ICcuanMtc29ydC1jb250YWluZXInLFxyXG4gICAgICAgICAgICBtb2RpZmllcjogJ3NvcnRfX2NvbnRyb2wtLW9wZW4nLFxyXG4gICAgICAgICAgICB0cmlnZ2VyOiAnLmpzLXNvcnQtbGlzdCcsXHJcbiAgICAgICAgICAgIG1vZGlmaWVyVGFyZ2V0OiAnLmpzLXNvcnQtbGlzdCcsXHJcbiAgICAgICAgICAgIGl0ZW1TZWxlY3RvcjogJy5qcy1zb3J0LWl0ZW0nLFxyXG4gICAgICAgICAgICBuYW1lRGlzcGxheTogJyNzb3J0LWRpc3BsYXknXHJcbiAgICAgICAgfSlcclxuXHJcbiAgICAgICAgdGhpcy5wcm9kdWN0UGFnaW5hdGlvbiA9IG5ldyBQYWdpbmF0aW9uKHtcclxuICAgICAgICAgICAgY29udGFpbmVyOiAnLmpzLXByb2R1Y3QtbGlzdCcsXHJcbiAgICAgICAgICAgIGl0ZW1TZWxlY3RvcjogJy5wcm9kdWN0X19jYXJkJyxcclxuICAgICAgICAgICAgcGVyUGFnZTogSU5JVF9ESVNQTEFZLFxyXG4gICAgICAgICAgICBjb250cm9sOiAnLmpzLXBhZ2luYXRpb24tY29udHJvbHMnLFxyXG4gICAgICAgICAgICBkYXRhTGF5ZXJQdXNoOiBmdW5jdGlvbihlbGVtZW50KSB7XHJcbiAgICAgICAgICAgICAgICBwcm9kdWN0SW1wcmVzc2lvbihlbGVtZW50KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICB0aGlzLnByb2R1Y3RQYWdpbmF0aW9uLl9pbml0RnJvbUFycmF5KGdsb2JhbERpc3BsYXkpO1xyXG5cclxuICAgICAgICB0aGlzLnBhZ2luYXRpb25JbmRpY2F0b3IgPSBuZXcgUGFnaW5hdGlvbkluZGljYXRvcih7XHJcbiAgICAgICAgICAgIGNvbnRhaW5lcjogJy5qcy1wYWdpbmF0aW9uLWNvbnRyb2xzJyxcclxuICAgICAgICAgICAgZGlzcGxheWVkOiBJTklUX0RJU1BMQVksXHJcbiAgICAgICAgICAgIG1heGltdW06IHRoaXMucHJvZHVjdFBhZ2luYXRpb24uaXRlbXMubGVuZ3RoLFxyXG4gICAgICAgICAgICBtYXhWaWV3OiAnI2xvYWQtbW9yZS1tYXgnLFxyXG4gICAgICAgICAgICBkaXNwbGF5ZWRWaWV3OiAnI2xvYWQtbW9yZS1kaXNwbGF5ZWQnLFxyXG4gICAgICAgICAgICBpbmRpY2F0b3I6ICcuanMtcGFnaW5hdGlvbi1pbmRpY2F0b3InXHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIHRoaXMuYWN0aXZlRmlsdGVycyA9IG5ldyBBY3RpdmVGaWx0ZXJWaWV3KHtcclxuICAgICAgICAgICAgYWN0aXZlQ29udGFpbmVyOiAnLmpzLWZpbHRlci1hY3RpdmUnXHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIHRoaXMuZmlsdGVyRGVza3RvcCA9IG5ldyBQcm9kdWN0RmlsdGVyRGVza3RvcFZpZXcoe1xyXG4gICAgICAgICAgICBmaWx0ZXJWaWV3OiAnLmZpbHRlci1kX19jb250YWluZXInLFxyXG4gICAgICAgICAgICBmaWx0ZXI6ICcuanMtZmlsdGVyLWl0ZW0nLFxyXG4gICAgICAgICAgICBhY3RpdmVGaWx0ZXI6ICcuanMtZmlsdGVyLWl0ZW0tYWN0aXZlJyxcclxuICAgICAgICAgICAgY2xlYXJBbGw6IG51bGxcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgaWYod2luZG93LmlubmVyV2lkdGggPiAxMDI0KSB7XHJcbiAgICAgICAgICAgIHRoaXMuZmlsdGVyTW9iaWxlID0gbmV3IFByb2R1Y3RGaWx0ZXJNb2JpbGVWaWV3KHtcclxuICAgICAgICAgICAgICAgIGZpbHRlckNvbnRhaW5lcjogJy5ncmlkLTMgLmZpbHRlci1tYl9fY29udGFpbmVyJyxcclxuICAgICAgICAgICAgICAgIGZpbHRlclNlbGVjdG9yOiAnLmpzLWZpbHRlci1pdGVtLW1iJ1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICB0aGlzLmZpbHRlck1vYmlsZSA9IG5ldyBQcm9kdWN0RmlsdGVyTW9iaWxlVmlldyh7XHJcbiAgICAgICAgICAgICAgICBmaWx0ZXJDb250YWluZXI6ICcuZ3JpZC05LW0gLmZpbHRlci1tYl9fY29udGFpbmVyJyxcclxuICAgICAgICAgICAgICAgIGZpbHRlclNlbGVjdG9yOiAnLmpzLWZpbHRlci1pdGVtLW1iJ1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vKiBVcGRhdGUgZmlsdGVyIGNvdW50XHJcbiAgICAgICAgdGhpcy5jb3VudERpc3BsYXllZFByb2R1Y3RzKGdsb2JhbERpc3BsYXkpO1xyXG5cclxuICAgICAgICB0aGlzLnByb2R1Y3RMaXN0VmlldyA9IG5ldyBQcm9kdWN0TGlzdFZpZXcoe1xyXG4gICAgICAgICAgICBjb250YWluZXI6ICcuanMtcHJvZHVjdC1saXN0J1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIFxyXG4gICAgICAgIGlmKHRoaXMucGFnaW5hdGlvbkluZGljYXRvci5tYXhpbXVtID09IHRoaXMucGFnaW5hdGlvbkluZGljYXRvci5kaXNwbGF5ZWQpIHtcclxuICAgICAgICAgICAgdGhpcy5wcm9kdWN0UGFnaW5hdGlvbi5oaWRlQ29udHJvbHMoKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmKHRoaXMucHJvZHVjdFNvcnQuaXRlbVNlbGVjdG9yLmxlbmd0aCA+IDApIHtcclxuICAgICAgICAgICAgZm9yIChsZXQgaW5kZXggPSAwOyBpbmRleCA8IHRoaXMucHJvZHVjdFNvcnQuaXRlbVNlbGVjdG9yLmxlbmd0aDsgaW5kZXgrKykge1xyXG4gICAgICAgICAgICAgICAgY29uc3Qgc29ydEl0ZW0gPSB0aGlzLnByb2R1Y3RTb3J0Lml0ZW1TZWxlY3RvcltpbmRleF07XHJcblxyXG4gICAgICAgICAgICAgICAgc29ydEl0ZW0uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoZSkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgICAgICAgICAgICAgICBsZXQgc29ydCA9IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbmFtZTogc29ydEl0ZW0uZGF0YXNldC5zb3J0TmFtZSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgbGFiZWw6IHNvcnRJdGVtLnRleHRDb250ZW50LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBkaXJlY3Rpb246IChzb3J0SXRlbS5kYXRhc2V0LnNvcnREaXJlY3Rpb24gIT09IHVuZGVmaW5lZCkgPyBzb3J0SXRlbS5kYXRhc2V0LnNvcnREaXJlY3Rpb24gOiAnYXNjJ1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLnByb2R1Y3RTb3J0Lml0ZW1TZWxlY3Rvci5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBzb3J0TGlzdEl0ZW0gPSB0aGlzLnByb2R1Y3RTb3J0Lml0ZW1TZWxlY3RvcltpXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgc29ydExpc3RJdGVtLnJlbW92ZUF0dHJpYnV0ZSgnZGF0YS1zb3J0LXNlbGVjdGVkJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZGlyZWN0aW9uID0gc29ydC5kaXJlY3Rpb247XHJcbiAgICAgICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICAgICAgc29ydEl0ZW0uc2V0QXR0cmlidXRlKCdkYXRhLXNvcnQtc2VsZWN0ZWQnLCd0cnVlJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zZXRTb3J0KHNvcnQpO1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX3JlaW5pdExpc3RET00oKTtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnByb2R1Y3RQYWdpbmF0aW9uLl9yZWluaXRBcnJheShnbG9iYWxEaXNwbGF5KTtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnJlYnVpbGRTb3J0TGlzdCgpO1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5fYWRkQ2xpY2tFdmVudCgpO1xyXG5cclxuICAgICAgICB0aGlzLmxvYWRNb3JlQnRuID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmpzLWxvYWQtcHJvZHVjdHMnKTtcclxuICAgICAgICB0aGlzLmxvYWRNb3JlQnRuLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKGUpID0+IHtcclxuICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICAgICAgICB0aGlzLmxvYWRNb3JlKCk7XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIGlmKGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdwcmVzZWxlY3RlZC1maWx0ZXInKSAhPT0gbnVsbCkge1xyXG4gICAgICAgICAgICB0aGlzLl9pbml0UHJlZmlsdGVyKCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIF9yZWluaXRMaXN0RE9NKCl7XHJcbiAgICAgICAgZ2xvYmFsRGlzcGxheSA9IChkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuanMtcHJvZHVjdC1saXN0JykgIT09IG51bGwpID8gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmpzLXByb2R1Y3QtbGlzdCcpLnF1ZXJ5U2VsZWN0b3JBbGwoJy5qcy1wcm9kdWN0LWNhcmQnKSA6IG51bGw7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBMb2FkIG1vcmUgYnV0dG9uIGZ1bmN0aW9uIGhhbmRsZXJcclxuICAgICAqL1xyXG4gICAgbG9hZE1vcmUoKSB7XHJcbiAgICAgICAgbGV0IHtjb3VudERpc3BsYXksIGRpc3BsYXllZEFsbH0gPSB0aGlzLnByb2R1Y3RQYWdpbmF0aW9uLmxvYWROZXh0KHRydWUpO1xyXG5cclxuICAgICAgICB0aGlzLnBhZ2luYXRpb25JbmRpY2F0b3IuZGlzcGxheWVkID0gY291bnREaXNwbGF5O1xyXG4gICAgICAgIHRoaXMucGFnaW5hdGlvbkluZGljYXRvci5zZXREaXNwbGF5ZWRUZXh0KCk7XHJcbiAgICAgICAgdGhpcy5wYWdpbmF0aW9uSW5kaWNhdG9yLnVwZGF0ZUluZGljYXRvcigpO1xyXG5cclxuICAgICAgICBpZihkaXNwbGF5ZWRBbGwpe1xyXG4gICAgICAgICAgICB0aGlzLnByb2R1Y3RQYWdpbmF0aW9uLmhpZGVDb250cm9scygpO1xyXG4gICAgICAgICAgICB0aGlzLnByb2R1Y3RQYWdpbmF0aW9uLmNvbnRhaW5lci5jbGFzc0xpc3QuYWRkKFwiZnVsbFwiKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIHRoaXMucHJvZHVjdFBhZ2luYXRpb24uY29udGFpbmVyLmNsYXNzTGlzdC5yZW1vdmUoXCJmdWxsXCIpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBpc290b3BlUmVPcmRlcihzb3J0TmFtZSkgeyBcclxuICAgICAgICB2YXIgYXNjT3JkZXIgPSB0cnVlO1xyXG4gICAgICAgIGlmKHRoaXMuZGlyZWN0aW9uLnRvTG93ZXJDYXNlKCkgPT0gJ2Rlc2MnKSB7XHJcbiAgICAgICAgICAgIGFzY09yZGVyID0gZmFsc2U7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB0aGlzLnNvcnRMaXN0ID0gbmV3IHNvcnRMaXN0KHtcclxuICAgICAgICAgICAgdHJpZ2dlcjogJy5wcm9kdWN0X19jYXJkJyxcclxuICAgICAgICAgICAgY29udGFpbmVyOiAnLmpzLXByb2R1Y3QtbGlzdCcsXHJcbiAgICAgICAgICAgIGZpZWxkTmFtZTogc29ydE5hbWUsXHJcbiAgICAgICAgICAgIG9yZGVyOiBhc2NPcmRlclxyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIHJlYnVpbGRTb3J0TGlzdCgpe1xyXG4gICAgICAgIHRoaXMucHJvZHVjdFBhZ2luYXRpb24ucmVidWlsZFNvcnRMaXN0KCk7XHJcbiAgICB9XHJcblxyXG4gICAgc2V0U29ydChzb3J0KSB7ICAgICAgICBcclxuICAgICAgICB0aGlzLnNpbXBsZUxvYWRlci5zaG93TG9hZGVyKCk7XHJcbiAgICAgICAgdGhpcy5wcm9kdWN0U29ydC51cGRhdGVEaXNwbGF5KHNvcnQpO1xyXG5cclxuICAgICAgICBsZXQge25hbWV9ID0gc29ydCxcclxuICAgICAgICAgICAgc29ydE5hbWUgPSBgZGF0YS1zb3J0LSR7bmFtZX1gO1xyXG5cclxuICAgICAgICBzb3J0ID0gc29ydE5hbWU7XHJcbiAgICAgICAgdGhpcy5pc290b3BlUmVPcmRlcihzb3J0TmFtZSk7XHJcblxyXG4gICAgICAgIHNldFRpbWVvdXQoKCk9PntcclxuICAgICAgICAgICAgdGhpcy5zaW1wbGVMb2FkZXIuaGlkZUxvYWRlcigpO1xyXG4gICAgICAgIH0sIDIwMCk7XHJcbiAgICB9XHJcblxyXG4gICAgX2FkZENsaWNrRXZlbnQoKSB7XHJcbiAgICAgICAgdGhpcy5maWx0ZXJEZXNrdG9wX0NsaWNrTGlzdGVuZXIoKTtcclxuICAgICAgICB0aGlzLmZpbHRlck1vYmlsZV9DbGlja0xpc3RlbmVyKCk7XHJcbiAgICB9XHJcblxyXG4gICAgZ2VuZXJhdGVGaWx0ZXJTdHJpbmcoKSB7XHJcbiAgICAgICAgbGV0IGRhdGFTZWxlY3RlZCA9ICdkYXRhLXNlbGVjdGVkLScsXHJcbiAgICAgICAgICAgIGN1cnJlbnRGaWx0ZXJzID0gRmlsdGVyU2V0dGluZ3MuYWxsRmlsdGVycygpLFxyXG4gICAgICAgICAgICBmaWx0ZXJTZWFyY2ggPSBbXTtcclxuXHJcbiAgICAgICAgZm9yKGxldCBpPTA7IGkgPCBjdXJyZW50RmlsdGVycy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICBsZXQge2l0ZW0sIGNvbmRpdGlvbiwgY2F0ZWdvcnl9ID0gY3VycmVudEZpbHRlcnNbaV0sXHJcbiAgICAgICAgICAgICAgICBkYXRhQ2F0ZWdvcnkgPSBgJHtkYXRhU2VsZWN0ZWR9JHtjYXRlZ29yeX1gOyAgLy8qIGRhdGEtc2VsZWN0ZWQtW2ZpbHRlckNhdGVnb3J5XVxyXG4gICAgICAgICAgICBcclxuICAgICAgICAgICAgaWYoaXRlbS5sZW5ndGggPCAxKSB7XHJcbiAgICAgICAgICAgICAgICBmaWx0ZXJTZWFyY2gucHVzaChgWyR7ZGF0YUNhdGVnb3J5fT1cIiR7aXRlbVswXS5uYW1lfVwiXWApO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgbGV0IGluY2x1c2l2ZUZpbHRlcnMgPSBcIlwiO1xyXG4gICAgICAgICAgICAgICAgZm9yIChsZXQgaW5kZXggPSAwOyBpbmRleCA8IGl0ZW0ubGVuZ3RoOyBpbmRleCsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgZmlsdGVyID0gaXRlbVtpbmRleF07XHJcbiAgICAgICAgICAgICAgICAgICAgaW5jbHVzaXZlRmlsdGVycyArPSBmaWx0ZXIubmFtZTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgZmlsdGVyU2VhcmNoLnB1c2goYFske2RhdGFDYXRlZ29yeX09XCIke2ZpbHRlci5uYW1lfVwiXWApO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBpZihpbmRleCA+IDApXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGZpbHRlclNlYXJjaC5wdXNoKGBbJHtkYXRhQ2F0ZWdvcnl9PVwiJHtpbmNsdXNpdmVGaWx0ZXJzfVwiXWApO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBpZihpbmRleCsxICE9PSBpdGVtLmxlbmd0aCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpbmNsdXNpdmVGaWx0ZXJzICs9IFwiLFwiO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcmV0dXJuIGZpbHRlclNlYXJjaDtcclxuXHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiByZXR1cm4gYW4gYXJyYXkgb2YgZGF0YSBhdHRyaWJ1dGVzIFtkYXRhLXNlbGVjdGVkLXtmaWx0ZXJ9XVxyXG4gICAgICovXHJcbiAgICBnZW5lcmF0ZURhdGFTZWxlY3RvcigpIHtcclxuICAgICAgICBsZXQgZGF0YVNlbGVjdGVkID0gJ2RhdGEtc2VsZWN0ZWQtJyxcclxuICAgICAgICAgICAgY3VycmVudEZpbHRlcnMgPSBGaWx0ZXJTZXR0aW5ncy5hbGxGaWx0ZXJzKCksXHJcbiAgICAgICAgICAgIGRhdGFTZWxlY3RvciA9IFtdO1xyXG4gICAgICAgIGZvcihsZXQgaT0wOyBpIDwgY3VycmVudEZpbHRlcnMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgbGV0IHtjYXRlZ29yeX0gPSBjdXJyZW50RmlsdGVyc1tpXSxcclxuICAgICAgICAgICAgICAgIGRhdGFDYXRlZ29yeSA9IGAke2RhdGFTZWxlY3RlZH0ke1N0cmluZ1V0aWxzLmNsZWFuRmlsdGVyQ2F0ZWdvcnkoY2F0ZWdvcnkpfWA7ICAvLyogZGF0YS1zZWxlY3RlZC1bZmlsdGVyQ2F0ZWdvcnldXHJcbiAgICAgICAgICAgIFxyXG4gICAgICAgICAgICBkYXRhU2VsZWN0b3IucHVzaChkYXRhQ2F0ZWdvcnkpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcmV0dXJuIGRhdGFTZWxlY3RvcjtcclxuXHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBDbGljayBldmVudHMgZm9yIERlc2t0b3AgZmlsdGVyIG1hcmt1cFxyXG4gICAgICovXHJcbiAgICBmaWx0ZXJEZXNrdG9wX0NsaWNrTGlzdGVuZXIoKSB7XHJcbiAgICAgICAgbGV0IHsgZmlsdGVyVmlldywgZmlsdGVyU2VsZWN0b3J9ID0gdGhpcy5maWx0ZXJEZXNrdG9wLFxyXG4gICAgICAgICAgICBkZXNrdG9wRmlsdGVycyAgPSAoZmlsdGVyU2VsZWN0b3IgIT09IG51bGwgJiYgISFmaWx0ZXJWaWV3ICYmIGZpbHRlclZpZXcucXVlcnlTZWxlY3RvckFsbChmaWx0ZXJTZWxlY3RvcikubGVuZ3RoID4gMCkgPyBmaWx0ZXJWaWV3LnF1ZXJ5U2VsZWN0b3JBbGwoZmlsdGVyU2VsZWN0b3IpIDogbnVsbDtcclxuXHJcbiAgICAgICAgICAgIGlmKGRlc2t0b3BGaWx0ZXJzICE9PSBudWxsKXtcclxuICAgICAgICAgICAgICAgIGZvcihsZXQgaSA9IDA7IGkgPCBkZXNrdG9wRmlsdGVycy5sZW5ndGg7IGkrKyl7XHJcbiAgICAgICAgICAgICAgICAgICAgbGV0IGl0ZW0gPSBkZXNrdG9wRmlsdGVyc1tpXTtcclxuICAgIFxyXG4gICAgICAgICAgICAgICAgICAgIGl0ZW0uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoZSkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyEgcmVhbCB1c2VyIGV2ZW50IGhhcyBwcm9wZXJ0eSBlLmlzVHJ1c3RlZCA9IHRydWVcclxuICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGFkZGVkRmlsdGVyID0gdGhpcy5maWx0ZXJEZXNrdG9wLmFkZEZpbHRlcihpdGVtKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmKGFkZGVkRmlsdGVyLnN1Y2Nlc3MpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuYWN0aXZlRmlsdGVycy5hZGRBY3RpdmVGaWx0ZXIoYWRkZWRGaWx0ZXIuZmlsdGVyLCB0aGlzLmdldEFuYWx5dGljc0NsYXNzKGl0ZW0pKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMudHJpZ2dlckFkZE1vYmlsZShhZGRlZEZpbHRlci5maWx0ZXIpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyogT25jZSBuZXcgZmlsdGVyIGlzIGFkZGVkIHRvIGFjdGl2ZSBzZWN0aW9uLCBldmVudCBoYW5kbGVyIHNob3VsZCBiZSBhZGRlZFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5hZGRmaWx0ZXJBY3RpdmVfQ2xpY2tMaXN0ZW5lcihhZGRlZEZpbHRlci5maWx0ZXIpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBsaXN0Q29udGFpbmVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnByb2R1Y3QtbGlzdF9fY29udGFpbmVyJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnNjcm9sbC5zY3JvbGxUb3AobGlzdENvbnRhaW5lciwgJ2Zhc3QnKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coYCVjRVJSLVBGOiAke2ZpbHRlclNlbGVjdG9yfSBpcyBhYnNlbnQgZnJvbSBET01gLCAnY29sb3I6IHJlZCcpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBcclxuICAgIC8qKlxyXG4gICAgICogQ2xpY2sgZXZlbnRzIGZvciBNb2JpbGUgZmlsdGVyIG1hcmt1cFxyXG4gICAgICovXHJcbiAgICBmaWx0ZXJNb2JpbGVfQ2xpY2tMaXN0ZW5lcigpIHtcclxuICAgICAgICBsZXQgeyBmaWx0ZXJTZWxlY3RvciB9ID0gdGhpcy5maWx0ZXJNb2JpbGU7XHJcblxyXG4gICAgICAgIGlmKGZpbHRlclNlbGVjdG9yICE9IG51bGwpIHtcclxuICAgICAgICAgICAgZm9yIChsZXQgZmlsdGVySW5kZXggPSAwOyBmaWx0ZXJJbmRleCA8IGZpbHRlclNlbGVjdG9yLmxlbmd0aDsgZmlsdGVySW5kZXgrKykge1xyXG4gICAgICAgICAgICAgICAgY29uc3QgZmlsdGVyTW9iID0gZmlsdGVyU2VsZWN0b3JbZmlsdGVySW5kZXhdO1xyXG5cclxuICAgICAgICAgICAgICAgIGZpbHRlck1vYi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChlKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICAgICAgICAgICAgICAgIGxldCBhZGRlZEZpbHRlciA9IHRoaXMuZmlsdGVyTW9iaWxlLmFkZEZpbHRlcihmaWx0ZXJNb2IpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBpZihhZGRlZEZpbHRlci5zdWNjZXNzKXtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5hY3RpdmVGaWx0ZXJzLmFkZEFjdGl2ZUZpbHRlcihhZGRlZEZpbHRlci5maWx0ZXIsIHRoaXMuZ2V0QW5hbHl0aWNzQ2xhc3MoZmlsdGVyTW9iKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMudHJpZ2dlckFkZERlc2t0b3AoYWRkZWRGaWx0ZXIuZmlsdGVyKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vKiBPbmNlIG5ldyBmaWx0ZXIgaXMgYWRkZWQgdG8gYWN0aXZlIHNlY3Rpb24sIGV2ZW50IGhhbmRsZXIgc2hvdWxkIGJlIGFkZGVkXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuYWRkZmlsdGVyQWN0aXZlX0NsaWNrTGlzdGVuZXIoYWRkZWRGaWx0ZXIuZmlsdGVyKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogR2V0IHRoZSBjbGFzcyBzZWxlY3RvciBmb3IgdGhlIGFuYWx5dGljcyBkYXRhXHJcbiAgICAgKiBcclxuICAgICAqIEBwYXJhbSB7RE9NfSBpdGVtIC0gYSBET00gZWxlbWVudCBjb250YWluaW5nIGFuIGFuYWx5dGljcyBjbGFzc1xyXG4gICAgICovXHJcbiAgICBnZXRBbmFseXRpY3NDbGFzcyhpdGVtKSB7XHJcbiAgICAgICAgbGV0IHJlc3VsdCA9IFwiXCI7XHJcbiAgICAgICAgY29uc3QgY2xhc3NlcyA9ICQoaXRlbSkuYXR0cihcImNsYXNzXCIpID8gJChpdGVtKS5hdHRyKFwiY2xhc3NcIikuc3BsaXQoXCIgXCIpIDogW107XHJcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBjbGFzc2VzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgIGlmIChjbGFzc2VzW2ldLnN0YXJ0c1dpdGgoJ2pzLWFuYWx5dGljcy0nKSkge1xyXG4gICAgICAgICAgICAgICAgaWYgKGpzb25BbmFseXRpY3NbY2xhc3Nlc1tpXV0gIT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJlc3VsdCA9IGNsYXNzZXNbaV07XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gcmVzdWx0O1xyXG4gICAgfVxyXG5cclxuICAgIF9pbml0UHJlZmlsdGVyKCkge1xyXG4gICAgICAgIGxldCB2YWx1ZSA9IChkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgncHJlc2VsZWN0ZWQtZmlsdGVyJykgIT09IG51bGwgKSA/IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdwcmVzZWxlY3RlZC1maWx0ZXInKS52YWx1ZSA6IG51bGwsXHJcbiAgICAgICAgICAgIGZpbHRlcnMgPSAoISF2YWx1ZSkgPyB2YWx1ZS5zcGxpdChcIixcIikgOiBbXTtcclxuXHJcbiAgICAgICAgZm9yKHZhciBpID0gMDsgaSA8IGZpbHRlcnMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgY29uc3QgZmlsdGVyID0gU3RyaW5nVXRpbHMudHJpbShmaWx0ZXJzW2ldKTtcclxuXHJcbiAgICAgICAgICAgIHZhciBzZWxlY3RvckRlc2t0b3AgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGAuZmlsdGVyLWRfX2NvbnRhaW5lciBzcGFuW2RhdGEtZmlsdGVyLW5hbWU9XCIke2ZpbHRlcn1cIl1gKSxcclxuICAgICAgICAgICAgICAgIHNlbGVjdG9yTW9iaWxlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihgLmZpbHRlci1tYl9fY29udGFpbmVyIHNwYW5bZGF0YS1maWx0ZXItbmFtZT1cIiR7ZmlsdGVyfVwiXWApLFxyXG4gICAgICAgICAgICAgICAgZmlsdGVyRGVza3RvcCA9IG51bGwsXHJcbiAgICAgICAgICAgICAgICBmaWx0ZXJNb2JpbGUgPSBudWxsO1xyXG5cclxuICAgICAgICAgICAgaWYoISFzZWxlY3RvckRlc2t0b3ApIHtcclxuICAgICAgICAgICAgICAgIGZpbHRlckRlc2t0b3AgPSB0aGlzLmZpbHRlckRlc2t0b3AuYWRkRmlsdGVyKHNlbGVjdG9yRGVza3RvcCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYoISFzZWxlY3Rvck1vYmlsZSkge1xyXG4gICAgICAgICAgICAgICAgZmlsdGVyTW9iaWxlID0gdGhpcy5maWx0ZXJNb2JpbGUuYWRkRmlsdGVyKHNlbGVjdG9yTW9iaWxlKTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgaWYoISFmaWx0ZXJEZXNrdG9wICYmIGZpbHRlckRlc2t0b3Auc3VjY2Vzcykge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5hY3RpdmVGaWx0ZXJzLmFkZEFjdGl2ZUZpbHRlcihmaWx0ZXJEZXNrdG9wLmZpbHRlciwgdGhpcy5nZXRBbmFseXRpY3NDbGFzcyhzZWxlY3RvckRlc2t0b3ApKTtcclxuICAgICAgICAgICAgICAgIHRoaXMudHJpZ2dlckFkZE1vYmlsZShmaWx0ZXJNb2JpbGUuZmlsdGVyKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZighIWZpbHRlck1vYmlsZSAmJiBmaWx0ZXJNb2JpbGUuc3VjY2Vzcykge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5hY3RpdmVGaWx0ZXJzLmFkZEFjdGl2ZUZpbHRlcihmaWx0ZXJNb2JpbGUuZmlsdGVyLCB0aGlzLmdldEFuYWx5dGljc0NsYXNzKHNlbGVjdG9yTW9iaWxlKSk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnRyaWdnZXJBZGRNb2JpbGUoZmlsdGVyTW9iaWxlLmZpbHRlcik7XHJcbiAgICAgICAgICAgICAgICAvLyogT25jZSBuZXcgZmlsdGVyIGlzIGFkZGVkIHRvIGFjdGl2ZSBzZWN0aW9uLCBldmVudCBoYW5kbGVyIHNob3VsZCBiZSBhZGRlZFxyXG4gICAgICAgICAgICAgICAgLy8gdGhpcy5hZGRwcmVmaWx0ZXJBY3RpdmVfQ2xpY2tMaXN0ZW5lcihmaWx0ZXJEZXNrdG9wLmZpbHRlcik7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vIHNjcm9sbCB0byBzZWN0aW9uIFxyXG4gICAgICAgIGlmKCEhdmFsdWUpIHtcclxuICAgICAgICAgICAgdmFyIGxpc3RDb250YWluZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucHJvZHVjdC1saXN0X19jb250YWluZXInKTtcclxuICAgICAgICAgICAgdGhpcy5zY3JvbGwuc2Nyb2xsVG9wKGxpc3RDb250YWluZXIsICdmYXN0Jyk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgXHJcbiAgICAvKipcclxuICAgICAqIEFzc2lnbiBjbGljayBldmVudCBmb3IgZXZlcnkgbmV3IEFjdGl2ZSBmaWx0ZXJzIGFkZGVkIHRvIHRoZSBhY3RpdmUgY29udGFpbmVyXHJcbiAgICAgKi9cclxuICAgIGFkZGZpbHRlckFjdGl2ZV9DbGlja0xpc3RlbmVyKEZpbHRlcikge1xyXG4gICAgICAgIGxldCBhY3RpdmVGaWx0ZXJfRE9NID0gdGhpcy5hY3RpdmVGaWx0ZXJzLmZpbmRBY3RpdmVGaWx0ZXIoRmlsdGVyKTtcclxuXHJcbiAgICAgICAgYWN0aXZlRmlsdGVyX0RPTS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChlKSA9PiB7XHJcbiAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMucmVtb3ZlQWN0aXZlRmlsdGVyKGFjdGl2ZUZpbHRlcl9ET00sIEZpbHRlcik7XHJcbiAgICAgICAgICAgIHRoaXMuaXNvdG9wZVJlT3JkZXIodGhpcy5Tb3J0KTtcclxuICAgICAgICB9KVxyXG4gICAgICAgIHRoaXMudXBkYXRlVmlldygpO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogQXNzaWduIGNsaWNrIGV2ZW50IGZvciBldmVyeSBwcmVmaWx0ZXIgZmlsdGVycyBhZGRlZCB0byB0aGUgYWN0aXZlIGNvbnRhaW5lclxyXG4gICAgICovXHJcbiAgICBhZGRwcmVmaWx0ZXJBY3RpdmVfQ2xpY2tMaXN0ZW5lcihGaWx0ZXIpIHtcclxuICAgICAgICBsZXQgYWN0aXZlRmlsdGVyX0RPTSA9IHRoaXMuYWN0aXZlRmlsdGVycy5maW5kQWN0aXZlRmlsdGVyKEZpbHRlcik7XHJcblxyXG4gICAgICAgIGFjdGl2ZUZpbHRlcl9ET00uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoZSkgPT4ge1xyXG4gICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XHJcblxyXG4gICAgICAgICAgICB0aGlzLnJlbW92ZUFjdGl2ZUZpbHRlcihhY3RpdmVGaWx0ZXJfRE9NLCBGaWx0ZXIpO1xyXG4gICAgICAgICAgICB0aGlzLmlzb3RvcGVSZU9yZGVyKHRoaXMuU29ydCk7XHJcbiAgICAgICAgfSlcclxuICAgIH1cclxuXHJcbiAgICBcclxuICAgIC8qKlxyXG4gICAgICogRGVsZXRlcyBET00gZnJvbSBBY3RpdmVGaWx0ZXJzIGFuZCBkaXNwbGF5cyBmaWx0ZXIgaW4gbGlzdCBvZiBmaWx0ZXJzIChERVNLVE9QIHggTU9CSUxFIG1hcmt1cClcclxuICAgICAqIEBwYXJhbSB7Y2xpY2tlZERPTX0gRE9NIEFjdGl2ZSBmaWx0ZXIgRE9NXHJcbiAgICAgKiBAcGFyYW0ge0ZJTFRFUn0gRmlsdGVyIEZpbHRlciBvYmplY3QgZnJvbSBNb2RlbCBGaWx0ZXJcclxuICAgICAqL1xyXG4gICAgcmVtb3ZlQWN0aXZlRmlsdGVyKGNsaWNrZWRET00sIEZpbHRlcil7XHJcbiAgICAgICAgbGV0IGZpbHRlclJlbW92ZWQgPSBGaWx0ZXJTZXR0aW5ncy5yZW1vdmUoRmlsdGVyKSxcclxuICAgICAgICAgICAgeyBmaWx0ZXJzIH0gPSBGaWx0ZXJTZXR0aW5ncztcclxuXHJcbiAgICAgICAgaWYoZmlsdGVyUmVtb3ZlZC5zdWNjZXNzKXtcclxuICAgICAgICAgICAgY2xpY2tlZERPTS5yZW1vdmUoKTtcclxuICAgICAgICAgICAgdGhpcy5maWx0ZXJEZXNrdG9wLnRvZ2dsZUZpbHRlckRpc3BsYXkoRmlsdGVyLCAtMSk7XHJcbiAgICAgICAgICAgIHRoaXMuZmlsdGVyTW9iaWxlLnRvZ2dsZUZpbHRlckRpc3BsYXkoRmlsdGVyKTtcclxuICAgICAgICAgICAgdGhpcy5hY3RpdmVGaWx0ZXJzLnRvZ2dsZUFjdGl2ZUZpbHRlcnMoKTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMudHJpZ2dlclJlbW92ZU1vYmlsZShGaWx0ZXIpO1xyXG5cclxuICAgICAgICAgICAgdGhpcy51cGRhdGVWaWV3KCk7XHJcblxyXG4gICAgICAgICAgICBpZihmaWx0ZXJzLmxlbmd0aCA9PSAwKSB7XHJcbiAgICAgICAgICAgICAgICBnbG9iYWxEaXNwbGF5ID0gW107XHJcbiAgICAgICAgICAgICAgICBnbG9iYWxEaXNwbGF5ID0gdGhpcy5vcmRlckxpc3QoQUxMKTtcclxuICAgICAgICAgICAgICAgIHRoaXMucmVidWlsZExpc3QoZ2xvYmFsRGlzcGxheSlcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0gZWxzZSBcclxuICAgICAgICAgICAgY29uc29sZS5sb2coJyVjRVJSLVBGOiBSRU1PVklORyBBQ1RJVkUgRklMVEVSIEZBSUxFRCcsICdjb2xvcjogcmVkJyk7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBUcmlnZ2VycyBjbGljayBldmVudCBvbiBGaWx0ZXIgaXRlbSBvbiB0aGUgRGVza3RvcCB2ZXJzaW9uIG9mIE1hcmt1cFxyXG4gICAgICogQHBhcmFtIHtGaWx0ZXJ9IEZpbHRlciBGaWx0ZXIgT2JqZWN0IGZyb20gRmlsdGVyIE1vZGVsXHJcbiAgICAgKi9cclxuICAgIHRyaWdnZXJBZGREZXNrdG9wKEZpbHRlcikge1xyXG4gICAgICAgIGxldCB7IGNhdGVnb3J5LCBuYW1lIH0gPSBGaWx0ZXIsXHJcbiAgICAgICAgICAgIGRlc2t0b3BGaWx0ZXJfaXRlbSA9ICEhdGhpcy5maWx0ZXJEZXNrdG9wLmZpbHRlclZpZXcgPyB0aGlzLmZpbHRlckRlc2t0b3AuZmlsdGVyVmlldy5xdWVyeVNlbGVjdG9yKGBbZGF0YS1maWx0ZXItY2F0ZWdvcnk9XCIke2NhdGVnb3J5fVwiXSBzcGFuW2RhdGEtZmlsdGVyLW5hbWU9XCIke25hbWV9XCJdYCkgOiBudWxsO1xyXG5cclxuICAgICAgICBpZihkZXNrdG9wRmlsdGVyX2l0ZW0gIT09IG51bGwgJiYgZGVza3RvcEZpbHRlcl9pdGVtLnN0eWxlLmNzc1RleHQgPT0gXCJcIikge1xyXG4gICAgICAgICAgICBkZXNrdG9wRmlsdGVyX2l0ZW0uY2xpY2soKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBDcmVhdGVzIEFjdGl2ZSBGaWx0ZXJzIG5vdGF0aW9ucyBvbiB0aGUgTW9iaWxlIHZlcnNpb24gb2YgdGhlIE1hcmt1cFxyXG4gICAgICogQHBhcmFtIHtGaWx0ZXJ9IEZpbHRlciBGaWx0ZXIgT2JqZWN0IGZyb20gRmlsdGVyIE1vZGVsXHJcbiAgICAgKi9cclxuICAgIHRyaWdnZXJBZGRNb2JpbGUoRmlsdGVyKSB7XHJcbiAgICAgICAgbGV0IHsgbmFtZSwgbGFiZWwsIGNhdGVnb3J5IH0gPSBGaWx0ZXIsXHJcbiAgICAgICAgICAgIHsgZmlsdGVyQ29udGFpbmVyLCBhY3RpdmVDbGFzcyB9ID0gdGhpcy5maWx0ZXJNb2JpbGUsXHJcbiAgICAgICAgICAgIHRpdGxlID0gKGZpbHRlckNvbnRhaW5lciAhPT0gbnVsbCkgPyBmaWx0ZXJDb250YWluZXIucXVlcnlTZWxlY3RvcihgLmZpbHRlci1tYl9fdGl0bGVbZGF0YS1maWx0ZXItY2F0ZWdvcnk9XCIke2NhdGVnb3J5fVwiXWApIDogbnVsbCxcclxuICAgICAgICAgICAgZmlsdGVyID0gdGl0bGU/LnF1ZXJ5U2VsZWN0b3IoYHNwYW5bZGF0YS1maWx0ZXItbmFtZT1cIiR7bmFtZX1cIl1gKSxcclxuICAgICAgICAgICAgYWN0aXZlID0gdGl0bGU/LnF1ZXJ5U2VsZWN0b3IoYWN0aXZlQ2xhc3MpLFxyXG4gICAgICAgICAgICBzcGFuID0gdGhpcy5maWx0ZXJNb2JpbGUuYWRkRmlsdGVyVG9ET00oRmlsdGVyKTtcclxuXHJcbiAgICAgICAgaWYoYWN0aXZlID09PSBudWxsKSB7XHJcbiAgICAgICAgICAgIGFjdGl2ZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xyXG4gICAgICAgICAgICBhY3RpdmUuY2xhc3NMaXN0LmFkZCgnZmlsdGVyLW1iX19hY3RpdmUnKTtcclxuICAgICAgICAgICAgdGl0bGUuYXBwZW5kQ2hpbGQoYWN0aXZlKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmKGZpbHRlciA9PT0gbnVsbClcclxuICAgICAgICAgICAgYWN0aXZlLmFwcGVuZENoaWxkKHNwYW4pO1xyXG4gICAgfVxyXG4gICAgXHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBEZWxldGUgQWN0aXZlIGZpbHRlciBsYWJlbCBpbiBNb2JpbHRlIGZpbHRlciBWaWV3XHJcbiAgICAgKiBAcGFyYW0ge0ZJTFRFUn0gRmlsdGVyIEZpbHRlciBPYmplY3QgZnJvbSBGaWx0ZXIgTW9kZWxcclxuICAgICAqL1xyXG4gICAgdHJpZ2dlclJlbW92ZU1vYmlsZShGaWx0ZXIpIHtcclxuICAgICAgICBsZXQgeyBjYXRlZ29yeSwgY29uZGl0aW9uLCBuYW1lIH0gPSBGaWx0ZXIsXHJcbiAgICAgICAgICAgIGFjdGl2ZUZpbHRlcnMgPSB0aGlzLmZpbHRlck1vYmlsZS5maWx0ZXJDb250YWluZXIucXVlcnlTZWxlY3RvcihgLmpzLWZpbHRlci1hY2NvcmRpb25bZGF0YS1maWx0ZXItY2F0ZWdvcnk9XCIke2NhdGVnb3J5fVwiXVtkYXRhLWZpbHRlci1jb25kaXRpb249XCIke2NvbmRpdGlvbn1cIl0gLmZpbHRlci1tYl9fYWN0aXZlYCksXHJcbiAgICAgICAgICAgIGZpbHRlckl0ZW0gPSAoYWN0aXZlRmlsdGVycyAhPT0gbnVsbCkgPyBhY3RpdmVGaWx0ZXJzLnF1ZXJ5U2VsZWN0b3IoYHNwYW5bZGF0YS1maWx0ZXItbmFtZT1cIiR7bmFtZX1cIl1gKSA6IG51bGw7XHJcblxyXG4gICAgICAgIGlmKGZpbHRlckl0ZW0gIT09IG51bGwpXHJcbiAgICAgICAgICAgIGZpbHRlckl0ZW0ucmVtb3ZlKCk7XHJcbiAgICAgICAgXHJcbiAgICAgICAgaWYoYWN0aXZlRmlsdGVycyAhPT0gbnVsbCAmJiBhY3RpdmVGaWx0ZXJzLmNoaWxkRWxlbWVudENvdW50ID09PSAwKVxyXG4gICAgICAgICAgICBhY3RpdmVGaWx0ZXJzLnJlbW92ZSgpO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogUmV0dXJuIGFuIGFycmF5IG9mIFByb2R1Y3QgRE9NIGJhc2VkIG9uIGFuIGZpcnN0IGZpbHRlciBjYXRlZ29yeVxyXG4gICAgICogQHBhcmFtIHtBcnJheSBvZiBTZWxlY3RvcnN9IGRhdGFTZWxlY3RvcnMgXHJcbiAgICAgKi9cclxuICAgIGVsaWdpYmxlUHJvZHVjdERPTShkYXRhU2VsZWN0b3JzKSB7XHJcbiAgICAgICAgbGV0IHByb2R1Y3RzRE9NID0gW107XHJcblxyXG4gICAgICAgIGlmKGRhdGFTZWxlY3RvcnMgIT09IG51bGwgfHwgZGF0YVNlbGVjdG9ycyAhPT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgZGF0YVNlbGVjdG9ycy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgY29uc3Qgc2VsZWN0b3IgPSBgWyR7ZGF0YVNlbGVjdG9yc1tpXX1dYDtcclxuICAgICAgICAgICAgICAgIGxldCBwcm9kdWN0cyA9IHRoaXMucHJvZHVjdExpc3RWaWV3LmZpbmRQcm9kdWN0KHNlbGVjdG9yKTtcclxuXHJcbiAgICAgICAgICAgICAgICBmb3IgKGxldCBqID0gMDsgaiA8IHByb2R1Y3RzLmxlbmd0aDsgaisrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgcHJvZHVjdCA9IHByb2R1Y3RzW2pdO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBpZighQXJyYXlVdGlscy5pbmNsdWRlcyhwcm9kdWN0LCBwcm9kdWN0c0RPTSkpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHByb2R1Y3RzRE9NLnB1c2gocHJvZHVjdCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHByb2R1Y3RzRE9NO1xyXG4gICAgfVxyXG5cclxuICAgIHVwZGF0ZVByb2R1Y3RzVG9EaXNwbGF5KHByb2R1Y3RET01zKSB7XHJcbiAgICAgICAgLy8gVE9ETzogc2hvdyBsb2FkZXJcclxuICAgICAgICB0aGlzLnByb2R1Y3RMaXN0Vmlldy5oaWRlQWxsKCk7XHJcbiAgICAgICAgbGV0IGVsaWdpYmxlQ2F0ZWdvcnkgPSBwcm9kdWN0RE9NcyxcclxuICAgICAgICAgICAgZmlsdGVyc0J5Q2F0ZWdvcnkgPSBGaWx0ZXJTZXR0aW5ncy5nZXRGaWx0ZXJJdGVtc0J5Q2F0KCksXHJcbiAgICAgICAgICAgIHByb2R1Y3RzVG9EaXNwbGF5ID0gW107XHJcblxyXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgZWxpZ2libGVDYXRlZ29yeS5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICBjb25zdCBwcm9kdWN0RE9NID0gZWxpZ2libGVDYXRlZ29yeVtpXTtcclxuICAgICAgICAgICAgbGV0IGRpc3BsYXkgPSBmYWxzZSxcclxuICAgICAgICAgICAgICAgIGZpbHRlckluZGV4ID0gMCxcclxuICAgICAgICAgICAgICAgIHZhbGlkID0gdHJ1ZTtcclxuXHJcbiAgICAgICAgICAgIHdoaWxlICh2YWxpZCA9PSB0cnVlICYmIGZpbHRlckluZGV4IDwgZmlsdGVyc0J5Q2F0ZWdvcnkubGVuZ3RoKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCAgIHsgY2F0ZWdvcnksIG5hbWUgfSA9IGZpbHRlcnNCeUNhdGVnb3J5W2ZpbHRlckluZGV4XSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgZGF0YUF0dHJpYnV0ZSA9IHByb2R1Y3RET00uZGF0YXNldFtjYXRlZ29yeV07XHJcblxyXG5cclxuICAgICAgICAgICAgICAgIGxldCBuYW1lSW5kZXggPSAwO1xyXG4gICAgICAgICAgICAgICAgaWYoZGF0YUF0dHJpYnV0ZSAhPT0gbnVsbCAmJiBkYXRhQXR0cmlidXRlICE9PSB1bmRlZmluZWQgJiYgdmFsaWQgPT0gdHJ1ZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHdoaWxlICh2YWxpZCA9PSB0cnVlICYmIG5hbWVJbmRleCA8IG5hbWUubGVuZ3RoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGxldCBmaWx0ZXJOYW1lID0gbmFtZVtuYW1lSW5kZXhdO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYodGhpcy5jb21wYXJlRmlsdGVycyhmaWx0ZXJOYW1lLnRvTG93ZXJDYXNlKCksIGRhdGFBdHRyaWJ1dGUudG9Mb3dlckNhc2UoKSkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbGlkID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbGlkID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgbmFtZUluZGV4Kys7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICB2YWxpZCA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZmlsdGVySW5kZXgrKztcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgaWYodmFsaWQgPT0gdHJ1ZSlcclxuICAgICAgICAgICAgICAgIGRpc3BsYXkgPSB0cnVlO1xyXG5cclxuICAgICAgICAgICAgaWYoZGlzcGxheSA9PSB0cnVlKSB7XHJcbiAgICAgICAgICAgICAgICBwcm9kdWN0c1RvRGlzcGxheS5wdXNoKHByb2R1Y3RET00pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBnbG9iYWxEaXNwbGF5ID0gW11cclxuICAgICAgICBnbG9iYWxEaXNwbGF5ID0gdGhpcy5vcmRlckxpc3QocHJvZHVjdHNUb0Rpc3BsYXkpO1xyXG4gICAgICAgIHRoaXMucmVidWlsZExpc3QoZ2xvYmFsRGlzcGxheSk7XHJcbiAgICB9XHJcblxyXG4gICAgcmVidWlsZExpc3QoYXJyKSB7XHJcbiAgICAgICAgaWYoYXJyLmxlbmd0aCA+IDApIHtcclxuICAgICAgICAgICAgdGhpcy5wcm9kdWN0TGlzdFZpZXcuZGlzcGxheVByb2R1Y3RzKGFycik7XHJcbiAgICAgICAgICAgIHRoaXMucHJvZHVjdFBhZ2luYXRpb24uX2luaXRGcm9tQXJyYXkoYXJyKTtcclxuICAgIFxyXG4gICAgICAgICAgICBpZihhcnIubGVuZ3RoIDw9IElOSVRfRElTUExBWSkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5wcm9kdWN0UGFnaW5hdGlvbi5oaWRlQ29udHJvbHMoKTtcclxuICAgICAgICAgICAgICAgIHRoaXMucHJvZHVjdFBhZ2luYXRpb24uY29udGFpbmVyLmNsYXNzTGlzdC5hZGQoXCJmdWxsXCIpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5wcm9kdWN0UGFnaW5hdGlvbi5zaG93Q29udHJvbHMoKTtcclxuICAgICAgICAgICAgICAgIHRoaXMucHJvZHVjdFBhZ2luYXRpb24uY29udGFpbmVyLmNsYXNzTGlzdC5yZW1vdmUoXCJmdWxsXCIpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgdGhpcy5wYWdpbmF0aW9uSW5kaWNhdG9yLmRpc3BsYXllZCA9IHRoaXMucHJvZHVjdFBhZ2luYXRpb24uZGlzcGxheWVkXHJcblxyXG4gICAgICAgICAgICB0aGlzLnBhZ2luYXRpb25JbmRpY2F0b3IubWF4aW11bSA9IGFyci5sZW5ndGg7XHJcbiAgICAgICAgICAgIHRoaXMucGFnaW5hdGlvbkluZGljYXRvci51cGRhdGVJbmRpY2F0b3IoKTtcclxuXHJcbiAgICAgICAgICAgIC8vKiBVcGRhdGUgZmlsdGVyIGNvdW50XHJcbiAgICAgICAgICAgIC8vIHRoaXMuZmlsdGVyRGVza3RvcC5jb3VudERpc3BsYXllZFByb2R1Y3RzKGFycik7XHJcbiAgICAgICAgICAgIHRoaXMuY291bnREaXNwbGF5ZWRQcm9kdWN0cyhhcnIpO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIC8vKiBubyByZXN1bHQgZm91bmRcclxuICAgICAgICAgICAgdGhpcy5wYWdpbmF0aW9uSW5kaWNhdG9yLmRpc3BsYXllZCA9IElOSVRfRElTUExBWTtcclxuICAgICAgICAgICAgdGhpcy5wYWdpbmF0aW9uSW5kaWNhdG9yLm1heGltdW0gPSBhcnIubGVuZ3RoO1xyXG4gICAgICAgICAgICB0aGlzLnByb2R1Y3RQYWdpbmF0aW9uLmhpZGVDb250cm9scygpO1xyXG4gICAgICAgICAgICB0aGlzLnBhZ2luYXRpb25JbmRpY2F0b3IudXBkYXRlSW5kaWNhdG9yKCk7XHJcbiAgICAgICAgICAgIHRoaXMuZmlsdGVyRGVza3RvcC5jb3VudERpc3BsYXllZFByb2R1Y3RzKGFycik7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHVwZGF0ZVZpZXcoKSB7XHJcbiAgICAgICAgbGV0IGRhdGFTZWxlY3RvcnMgPSB0aGlzLmdlbmVyYXRlRGF0YVNlbGVjdG9yKCksXHJcbiAgICAgICAgICAgIGVsaWdpYmxlUHJvZHVjdHMgPSB0aGlzLmVsaWdpYmxlUHJvZHVjdERPTShkYXRhU2VsZWN0b3JzKTtcclxuXHJcbiAgICAgICAgdGhpcy51cGRhdGVQcm9kdWN0c1RvRGlzcGxheShlbGlnaWJsZVByb2R1Y3RzKTtcclxuICAgIH1cclxuXHJcbiAgICAvLyEgTkVFRCBPUFRJTUlaQVRJT04gVE8gTVVDSCBMT09QU1xyXG4gICAgY291bnREaXNwbGF5ZWRQcm9kdWN0cyhhcnJQcm9kdWN0KSB7XHJcbiAgICAgICAgbGV0IGZpbHRlcnMgPSB0aGlzLmZpbHRlckRlc2t0b3AuZ2V0QWxsRmlsdGVyTmFtZXMoKSxcclxuICAgICAgICAgICAgYXJyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcIi5qcy1maWx0ZXItY2F0ZWdvcnlbZGF0YS1maWx0ZXItY2F0ZWdvcnldXCIpO1xyXG5cclxuICAgICAgICBpZihhcnIubGVuZ3RoIDwgMSkge1xyXG4gICAgICAgICAgICBsZXQgZmlsdGVyTGlzdCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCIuZ3JpZC0zIC5qcy1maWx0ZXItYWNjb3JkaW9uW2RhdGEtZmlsdGVyLWNhdGVnb3J5XVwiKSxcclxuICAgICAgICAgICAgICAgIGZpbHRlck5hbWVzID0gdGhpcy5maWx0ZXJNb2JpbGUuZ2V0QWxsRmlsdGVyTmFtZXMoKTtcclxuXHJcbiAgICAgICAgICAgIFsuLi5maWx0ZXJMaXN0XS5tYXAoKGl0ZW0sIGluZGV4KSA9PiB7XHJcbiAgICAgICAgICAgICAgICB2YXIgY2F0ZWdvcnkgPSBpdGVtLmdldEF0dHJpYnV0ZShcImRhdGEtZmlsdGVyLWNhdGVnb3J5XCIpLFxyXG4gICAgICAgICAgICAgICAgICAgIG5hbWUgPSBgc2VsZWN0ZWQke2NhdGVnb3J5LmNoYXJBdCgwKS50b1VwcGVyQ2FzZSgpICsgY2F0ZWdvcnkuc2xpY2UoMSl9YDtcclxuICAgIFxyXG4gICAgICAgICAgICAgICAgdGhpcy5fY2FsY0ZpbHRlckNvdW50KGluZGV4LCBmaWx0ZXJOYW1lc1tpbmRleF0uaXRlbXMsIG5hbWUsIGFyclByb2R1Y3QsIGZpbHRlck5hbWVzKTtcclxuICAgICAgICAgICAgfSlcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBbLi4uYXJyXS5tYXAoKGl0ZW0sIGluZGV4KSA9PiB7XHJcbiAgICAgICAgICAgICAgICB2YXIgY2F0ZWdvcnkgPSBpdGVtLmdldEF0dHJpYnV0ZShcImRhdGEtZmlsdGVyLWNhdGVnb3J5XCIpLFxyXG4gICAgICAgICAgICAgICAgICAgIG5hbWUgPSBgc2VsZWN0ZWQke2NhdGVnb3J5LmNoYXJBdCgwKS50b1VwcGVyQ2FzZSgpICsgY2F0ZWdvcnkuc2xpY2UoMSl9YDtcclxuICAgIFxyXG4gICAgICAgICAgICAgICAgdGhpcy5fY2FsY0ZpbHRlckNvdW50KGluZGV4LCBmaWx0ZXJzW2luZGV4XS5pdGVtcywgbmFtZSwgYXJyUHJvZHVjdCwgZmlsdGVycyk7XHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIF9jYWxjRmlsdGVyQ291bnQoaW5kZXggLGZpbHRlck5hbWVzLCBkYXRhc2V0S2V5LCBwcm9kdWN0cywgZmlsdGVycykge1xyXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgZmlsdGVyTmFtZXMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgbGV0IGZpbHRlck5hbWUgPSBmaWx0ZXJOYW1lc1tpXSxcclxuICAgICAgICAgICAgICAgIGZpbHRlckNvdW50ID0gMDtcclxuICAgICAgICAgICAgZm9yIChsZXQgaiA9IDA7IGogPCBwcm9kdWN0cy5sZW5ndGg7IGorKykge1xyXG4gICAgICAgICAgICAgICAgY29uc3QgICBwcm9kdWN0ID0gcHJvZHVjdHNbal0sXHJcbiAgICAgICAgICAgICAgICAgICAgZGF0YXNldFZhbHVlID0gcHJvZHVjdC5kYXRhc2V0W2RhdGFzZXRLZXldO1xyXG4gICAgICAgICAgICAgICAgaWYoZGF0YXNldFZhbHVlICE9IG51bGwpe1xyXG4gICAgICAgICAgICAgICAgICAgIGRhdGFzZXRWYWx1ZSA9IGRhdGFzZXRWYWx1ZS50b0xvd2VyQ2FzZSgpO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmKHRoaXMuY29tcGFyZUZpbHRlcnMoZmlsdGVyTmFtZS50b0xvd2VyQ2FzZSgpLCBkYXRhc2V0VmFsdWUudG9Mb3dlckNhc2UoKSkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZmlsdGVyQ291bnQrKztcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgbGV0IG9iaiA9IHtcclxuICAgICAgICAgICAgICAgIGZpbHRlcjogbmV3IEZpbHRlcih7XHJcbiAgICAgICAgICAgICAgICAgICAgY2F0ZWdvcnk6IGZpbHRlcnNbaW5kZXhdLmNhdGVnb3J5LFxyXG4gICAgICAgICAgICAgICAgICAgIGNvbmRpdGlvbjogZmlsdGVyc1tpbmRleF0uY29uZGl0aW9uLFxyXG4gICAgICAgICAgICAgICAgICAgIG5hbWU6IGZpbHRlck5hbWVcclxuICAgICAgICAgICAgICAgIH0pLFxyXG4gICAgICAgICAgICAgICAgY291bnQ6IGZpbHRlckNvdW50XHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgIHRoaXMuZmlsdGVyRGVza3RvcC51cGRhdGVGaWx0ZXJDb3VudChvYmouZmlsdGVyLCBvYmouY291bnQpO1xyXG4gICAgICAgICAgICB0aGlzLmZpbHRlck1vYmlsZS51cGRhdGVGaWx0ZXJDb3VudChvYmouZmlsdGVyLCBvYmouY291bnQpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBjb21wYXJlRmlsdGVycyhzdHJpbmcsIGNvbnRhaW5lcikge1xyXG4gICAgICAgIHRyeXtcclxuICAgICAgICAgICAgaWYoISFjb250YWluZXIgXHJcbiAgICAgICAgICAgICAgICAmJiAhIXN0cmluZyBcclxuICAgICAgICAgICAgICAgICYmIChjb250YWluZXIuaW5kZXhPZihzdHJpbmcpID09IDAgfHwgY29udGFpbmVyW2NvbnRhaW5lci5pbmRleE9mKHN0cmluZykgLSAxXSA9PSBcIixcIiApKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9IGNhdGNoIChlKSB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoZSk7XHJcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3Ioc3RyaW5nKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgIH1cclxuXHJcbiAgICAvLyByZW9yZGVyIGFycmF5IGJhc2VkIG9uIHRoZSBjdXJyZW50IHNvcnQgc2V0dGluZ1xyXG4gICAgb3JkZXJMaXN0KGFycikge1xyXG4gICAgICAgIC8vIFRPRE86IHNob3cgbG9hZGVyXHJcbiAgICAgICAgbGV0IHByb2R1Y3RMaXN0ID0gYXJyLFxyXG4gICAgICAgICAgICBzb3J0RGF0YVNldCAgPSBjdXJyZW50U29ydCxcclxuICAgICAgICAgICAgdXBkYXRlZExpc3QgPSBuZXcgQXJyYXkocHJvZHVjdExpc3QubGVuZ3RoKTtcclxuXHJcbiAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgcHJvZHVjdExpc3QubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IHByb2R1Y3QgPSBwcm9kdWN0TGlzdFtpXTtcclxuICAgICAgICAgICAgICAgIGxldCBpbmRleCA9IHByb2R1Y3QuZ2V0QXR0cmlidXRlKHNvcnREYXRhU2V0KTtcclxuXHJcbiAgICAgICAgICAgICAgICAvL3Byb2R1Y3Quc3R5bGUub3JkZXIgPSBpbmRleDtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICB1cGRhdGVkTGlzdCA9IFNvcnRVdGlscy5idWJibGVTb3J0YnlJbnRBdHRyKHByb2R1Y3RMaXN0LHNvcnREYXRhU2V0KTtcclxuXHJcbiAgICAgICAgcmV0dXJuIHVwZGF0ZWRMaXN0O1xyXG4gICAgfVxyXG59IiwiZXhwb3J0IGNsYXNzIFByb2R1Y3REZXRhaWxWaWV3IHtcclxuICAgIGNvbnN0cnVjdG9yKG9wdGlvbnMpIHtcclxuICAgICAgICB0aGlzLnRhYiA9ICQob3B0aW9ucy50YWIpIHx8IG51bGw7XHJcblxyXG4gICAgICAgIGlmKHRoaXMudGFiKSB7XHJcbiAgICAgICAgICAgIHRoaXMudGFiLm9uKCdjbGljaycsIChldmVudCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgICAgICAgICAgIGV2ZW50LnN0b3BJbW1lZGlhdGVQcm9wYWdhdGlvbigpO1xyXG5cclxuICAgICAgICAgICAgICAgIGNvbnN0IHRhYkNvbnRlbnRzID0gJChvcHRpb25zLnRhYkNvbnRlbnQpO1xyXG4gICAgICAgICAgICAgICAgdGFiQ29udGVudHMucmVtb3ZlQ2xhc3MoXCJhY3RpdmVcIik7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnRhYi5yZW1vdmVDbGFzcyhcImFjdGl2ZVwiKTtcclxuICAgICAgICAgICAgICAgIGNvbnN0IHRhYkFjdGl2ZSA9ICQoW29wdGlvbnMudGFiLCBcIltkYXRhLWNvbnRlbnQ9J1wiK2V2ZW50LnRhcmdldC5nZXRBdHRyaWJ1dGUoXCJkYXRhLWNvbnRlbnRcIikrXCInXVwiXS5qb2luKFwiXCIpKTtcclxuICAgICAgICAgICAgICAgIGNvbnN0IHRhYkNvbnRlbnQgPSAkKFtvcHRpb25zLnRhYkNvbnRlbnQsIFwiI1wiK2V2ZW50LnRhcmdldC5nZXRBdHRyaWJ1dGUoXCJkYXRhLWNvbnRlbnRcIildLmpvaW4oXCJcIikpO1xyXG4gICAgICAgICAgICAgICAgaWYodGFiQ29udGVudCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHRhYkNvbnRlbnQuYWRkQ2xhc3MoXCJhY3RpdmVcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgdGFiQWN0aXZlLmFkZENsYXNzKFwiYWN0aXZlXCIpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYoJChcIi5wcm9kdWN0X19jYXJvdXNlbFwiKS5sZW5ndGggPiAwKSB7XHJcbiAgICAgICAgICAgIGlmKCQoXCIucHJvZHVjdF9fY2Fyb3VzZWxcIikuZmluZChcIi5wcm9kdWN0X19oZWFkLnByb2R1Y3RfX291dC1vZi1zdG9ja1wiKS5sZW5ndGggPiAwKSB7XHJcbiAgICAgICAgICAgICAgICAkKFwiLnRvLWNhcnRfX2NvbnRyb2xcIikuYWRkQ2xhc3MoXCJkaXNhYmxlXCIpO1xyXG4gICAgICAgICAgICAgICAgJChcIi50by1jYXJ0X19jb250cm9sXCIpLnVuYmluZCgpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxufSIsImltcG9ydCBzaW1wbGVMb2FkZXIgZnJvbSBcIi4uLy4uL3ZpZXcvY29tcG9uZW50cy9zaW1wbGUtbG9hZGVyXCI7XHJcbmltcG9ydCB7IF9BRERfQ0FSVCB9IGZyb20gXCIuLi9jYXJ0LWNoZWNrb3V0L2FkZC10by1jYXJ0XCI7XHJcbmltcG9ydCB7IGFkZFByb2R1Y3QsIHVwZGF0ZUNhcnRJdGVtIH0gZnJvbSBcIi4uLy4uL3V0aWxzL2FuYWx5dGljcy9lbmhhbmNlZC1lY29tXCI7XHJcbmltcG9ydCB7IGxhenlMb2FkSW1hZ2UgfSBmcm9tIFwiLi4vbGF6eWxvYWRJbWFnZVwiO1xyXG5cclxuY29uc3QgX0VDT00gPSB7XHJcbiAgYWRkUHJvZHVjdCxcclxuICB1cGRhdGVDYXJ0SXRlbVxyXG59O1xyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBWb3VjaGVyRm9ybUNvbnRyb2xsZXIge1xyXG4gIGNvbnN0cnVjdG9yKCkge1xyXG4gICAgdGhpcy5jb250YWluZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuanMtdm91Y2hlci1mb3JtJyk7XHJcbiAgICB0aGlzLmRhdGEgPSB7XHJcbiAgICAgIGNhcnRJZDogXCJcIixcclxuICAgICAgcXVhbnRpdHk6IDEsXHJcbiAgICAgIGdpZnRDYXJkSW5mb3JtYXRpb246IHt9LFxyXG4gICAgfTtcclxuICAgIGxldCBjb3Vwb25DdXN0b21BbW91bnQgPSAhIXRoaXMuY29udGFpbmVyID8gdGhpcy5jb250YWluZXIucXVlcnlTZWxlY3RvcihcIltkYXRhLXNjLWZpZWxkLW5hbWU9J0Ftb3VudCddXCIpIDogbnVsbDtcclxuICAgIHRoaXMuYXR0cmlidXRlUmVxdWlyZWQgPSAhIWNvdXBvbkN1c3RvbUFtb3VudCA/IGNvdXBvbkN1c3RvbUFtb3VudC5nZXRBdHRyaWJ1dGUoXCJkYXRhLXZhbC1yZXF1aXJlZFwiKSA6IG51bGw7XHJcbiAgICB0aGlzLmtleW1hcCA9IHsgICBcclxuICAgICAgXCJOYW1lXCI6XCJzZW5kZXJOYW1lXCIsICAgIFxyXG4gICAgICBcIlJlY2lwaWVudFwiOlwicmVjaXBpZW50TmFtZVwiLFxyXG4gICAgICBcIkVtYWlsXCI6XCJzZW5kZXJNYWlsXCIsXHJcbiAgICAgIFwiQ29uZmlybSBFbWFpbFwiOlwiZW1haWxDb25maXJtYXRpb25cIixcclxuICAgICAgXCJNZXNzYWdlXCI6XCJtZXNzYWdlXCIsXHJcbiAgICAgIFwicHJpY2Vfb3B0aW9uXCI6XCJnaWZ0Q2FyZEFtb3VudFwiXHJcbiAgICB9XHJcbiAgICBcclxuICAgIHRoaXMucGFnZUxvYWRlciA9IG5ldyBzaW1wbGVMb2FkZXIoe1xyXG4gICAgICBjb250YWluZXI6ICcuanMtbG9hZGVyJ1xyXG4gICAgfSlcclxuICAgIFxyXG4gICAgXHJcbiAgICBpZighIXRoaXMuY29udGFpbmVyKSB7XHJcbiAgICAgIHRoaXMubGFuZ3VhZ2UgPSB0aGlzLmNvbnRhaW5lci5nZXRBdHRyaWJ1dGUoXCJkYXRhLWxhbmdcIik7XHJcbiAgICAgIHRoaXMuY3VycmVuY3kgPSB0aGlzLmNvbnRhaW5lci5nZXRBdHRyaWJ1dGUoXCJkYXRhLWN1cnJlbmN5XCIpO1xyXG4gICAgICB0aGlzLl9pbml0KCk7XHJcbiAgICB9XHJcblxyXG4gICAgaWYoISFkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdpbnB1dFt0eXBlPVwicmFkaW9cIl0nKSkge1xyXG4gICAgICB0aGlzLl9pbml0UmFkaW9CdXR0b25zKCk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBfaW5pdCgpIHtcclxuICAgIHRoaXMuX2luaXRQb3NpdGlvbnMoKTtcclxuICAgIHRoaXMuX2luaXRSYWRpb0J1dHRvbnMoKTtcclxuICAgIHRoaXMuX2luaXRJbnB1dHMoKTtcclxuICB9XHJcblxyXG4gIF9pbml0SW5wdXRzKCkge1xyXG4gICAgbGV0IHN1Ym1pdCA9ICEhdGhpcy5jb250YWluZXIgPyBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmZvcm0taW5wdXRfX2J1dHRvbi52b3VjaGVyLWZvcm1cIikgOiBudWxsLFxyXG4gICAgICAgICRzdWJtaXQgPSAkKFwiLmZvcm0taW5wdXRfX2J1dHRvbi52b3VjaGVyLWZvcm1cIiksXHJcbiAgICAgICAgaW5wdXRzID0gdGhpcy5jb250YWluZXIucXVlcnlTZWxlY3RvckFsbChcImlucHV0LmpzLWZvcm0taW5wdXRcIiksXHJcbiAgICAgICAgdGV4dGFyZWFzID0gdGhpcy5jb250YWluZXIucXVlcnlTZWxlY3RvckFsbChcInRleHRhcmVhXCIpLFxyXG4gICAgICAgIGN1c3RvbVJhZGlvID0gdGhpcy5jb250YWluZXIucXVlcnlTZWxlY3RvcihcImlucHV0W3R5cGU9J3JhZGlvJ11bdmFsdWU9J1NwZWNpYWwnXVwiKSxcclxuICAgICAgICBjb3Vwb25DdXN0b21BbW91bnQgPSB0aGlzLmNvbnRhaW5lci5xdWVyeVNlbGVjdG9yKFwiW2RhdGEtc2MtZmllbGQtbmFtZT0nQW1vdW50J11cIiksXHJcbiAgICAgICAgY29uZmlybUVtYWlsID0gdGhpcy5jb250YWluZXIucXVlcnlTZWxlY3RvcihcIltkYXRhLXNjLWZpZWxkLW5hbWU9J0NvbmZpcm0gRW1haWwnXVwiKSxcclxuICAgICAgICBlbWFpbCA9IHRoaXMuY29udGFpbmVyLnF1ZXJ5U2VsZWN0b3IoXCJbZGF0YS1zYy1maWVsZC1uYW1lPSdFbWFpbCddXCIpLFxyXG4gICAgICAgIGZvcm0gPSB0aGlzLmNvbnRhaW5lci5xdWVyeVNlbGVjdG9yKCdmb3JtJyksXHJcbiAgICAgICAgcHJpY2VIZWFkbGluZXMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcudG8tY2FydF9fbWFpbi1jb250ZW50IC50by1jYXJ0X190aXRsZScpLFxyXG4gICAgICAgIHByaWNlMTAwZyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy50by1jYXJ0X19zdWJ0aXRsZScpXHJcblxyXG4gICAgICBmb3IgKGxldCBpbmRleCA9IDA7IGluZGV4IDwgcHJpY2VIZWFkbGluZXMubGVuZ3RoOyBpbmRleCsrKSB7XHJcbiAgICAgICAgY29uc3QgZWxlbWVudCA9IHByaWNlSGVhZGxpbmVzW2luZGV4XTtcclxuICAgICAgICBlbGVtZW50LnJlbW92ZSgpO1xyXG4gICAgICB9XHJcblxyXG4gICAgICBpZighIXByaWNlMTAwZykge1xyXG4gICAgICAgIHByaWNlMTAwZy5yZW1vdmUoKTtcclxuICAgICAgfVxyXG5cclxuICAgIGlmKCEhZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi50by1jYXJ0X19jb250cm9sIC5qcy1zdGVwcGVyLWlucHV0XCIpKSB7XHJcbiAgICAgIHRoaXMuZGF0YS5pdGVtSWQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnRvLWNhcnRfX2NvbnRyb2wgLmpzLXN0ZXBwZXItaW5wdXRcIikuZ2V0QXR0cmlidXRlKFwiZGF0YS1pdGVtLWlkXCIpXHJcbiAgICB9XHJcblxyXG4gICAgLy8gaW5wdXRzID0gWy4uLmlucHV0cywgLi4udGhpcy5jb250YWluZXIucXVlcnlTZWxlY3RvckFsbChcImlucHV0W3R5cGU9J3JhZGlvJ11cIikgXVxyXG4gICAgaW5wdXRzID0gW10uY29uY2F0KFtdLnNsaWNlLmNhbGwoaW5wdXRzLCAwKSwgW10uc2xpY2UuY2FsbCh0aGlzLmNvbnRhaW5lci5xdWVyeVNlbGVjdG9yQWxsKFwiaW5wdXRbdHlwZT0ncmFkaW8nXVwiKSwgMCkpXHJcblxyXG4gICAgaWYoISFjb25maXJtRW1haWwpIHtcclxuICAgICAgY29uZmlybUVtYWlsLnNldEF0dHJpYnV0ZShcImRpc2FibGVkXCIsIFwidHJ1ZVwiKVxyXG4gICAgfVxyXG5cclxuICAgIGlmKCEhY3VzdG9tUmFkaW8gJiYgY3VzdG9tUmFkaW8uY2hlY2tlZCkge1xyXG4gICAgICBpZighIWNvdXBvbkN1c3RvbUFtb3VudCkge1xyXG4gICAgICAgIGNvdXBvbkN1c3RvbUFtb3VudC5zZXRBdHRyaWJ1dGUoXCJkYXRhLXZhbC1yZXF1aXJlZFwiLCB0aGlzLmF0dHJpYnV0ZVJlcXVpcmVkKVxyXG4gICAgICAgIGNvdXBvbkN1c3RvbUFtb3VudC5wYXJlbnRFbGVtZW50LnN0eWxlLmRpc3BsYXkgPSBcImJsb2NrXCI7XHJcbiAgICAgIH1cclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIGlmKCEhY291cG9uQ3VzdG9tQW1vdW50KSB7XHJcbiAgICAgICAgY291cG9uQ3VzdG9tQW1vdW50LnJlbW92ZUF0dHJpYnV0ZShcImRhdGEtdmFsLXJlcXVpcmVkXCIpO1xyXG4gICAgICAgIGNvdXBvbkN1c3RvbUFtb3VudC5wYXJlbnRFbGVtZW50LnN0eWxlLmRpc3BsYXkgPSBcIm5vbmVcIjtcclxuICAgICAgICBjb3Vwb25DdXN0b21BbW91bnQucGFyZW50RWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKFwibm90dmFsaWRcIilcclxuICAgICAgfVxyXG5cclxuICAgICAgaWYoISFzdWJtaXQpIHtcclxuICAgICAgICBzdWJtaXQuY2xhc3NMaXN0LnJlbW92ZShcIm5vdHZhbGlkXCIpXHJcbiAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBpZihpbnB1dHMgIT0gbnVsbCB8fCBpbnB1dHMgIT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgW10uZm9yRWFjaC5jYWxsKGlucHV0cyxcclxuICAgICAgICAgICAgKGlucHV0KSA9PiB7XHJcbiAgICAgICAgICAgICAgICBpbnB1dC5hZGRFdmVudExpc3RlbmVyKFwiY2hhbmdlXCIsIChlKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgIGxldCB2YWx1ZSA9IGlucHV0LnZhbHVlLFxyXG4gICAgICAgICAgICAgICAgICAgICAgbmFtZSA9IGlucHV0LmdldEF0dHJpYnV0ZSgnZGF0YS1zYy1maWVsZC1uYW1lJyk7XHJcblxyXG4gICAgICAgICAgICAgICAgICBpZihuYW1lID09IFwiQW1vdW50XCIpIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmRhdGEuZ2lmdENhcmRJbmZvcm1hdGlvbltcImdpZnRDYXJkQW1vdW50XCJdID0gdmFsdWU7XHJcbiAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5kYXRhLmdpZnRDYXJkSW5mb3JtYXRpb25bdGhpcy5rZXltYXBbbmFtZV1dID0gdmFsdWU7XHJcbiAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgIGlmKG5hbWUgPT0gXCJFbWFpbFwiICYmICEhY29uZmlybUVtYWlsKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYodmFsdWUubGVuZ3RoID4gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgY29uZmlybUVtYWlsLnJlbW92ZUF0dHJpYnV0ZShcImRpc2FibGVkXCIpXHJcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgIGNvbmZpcm1FbWFpbC5wYXJlbnRFbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUoXCJub3R2YWxpZFwiKVxyXG4gICAgICAgICAgICAgICAgICAgICAgY29uZmlybUVtYWlsLnZhbHVlID0gXCJcIjtcclxuICAgICAgICAgICAgICAgICAgICAgIGNvbmZpcm1FbWFpbC5zZXRBdHRyaWJ1dGUoXCJkaXNhYmxlZFwiLCBcInRydWVcIilcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgIC8vIGhhbmRsZSBjdXN0b20gYW1vdW50IGlucHV0XHJcbiAgICAgICAgICAgICAgICAgIGlmKCEhY291cG9uQ3VzdG9tQW1vdW50ICYmIG5hbWUgPT0gXCJwcmljZV9vcHRpb25cIikge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmKHZhbHVlLnRvTG93ZXJDYXNlKCkgPT09IFwic3BlY2lhbFwiKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICB0aGlzLmRhdGFbdGhpcy5rZXltYXBbbmFtZV1dID0gY291cG9uQ3VzdG9tQW1vdW50LnZhbHVlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgY291cG9uQ3VzdG9tQW1vdW50LnNldEF0dHJpYnV0ZShcImRhdGEtdmFsLXJlcXVpcmVkXCIsIHRoaXMuYXR0cmlidXRlUmVxdWlyZWQpXHJcbiAgICAgICAgICAgICAgICAgICAgICBjb3Vwb25DdXN0b21BbW91bnQucGFyZW50RWxlbWVudC5zdHlsZS5kaXNwbGF5ID0gXCJibG9ja1wiO1xyXG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICBjb3Vwb25DdXN0b21BbW91bnQucmVtb3ZlQXR0cmlidXRlKFwiZGF0YS12YWwtcmVxdWlyZWRcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgICBjb3Vwb25DdXN0b21BbW91bnQucGFyZW50RWxlbWVudC5zdHlsZS5kaXNwbGF5ID0gXCJub25lXCI7XHJcbiAgICAgICAgICAgICAgICAgICAgICBjb3Vwb25DdXN0b21BbW91bnQucGFyZW50RWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKFwibm90dmFsaWRcIilcclxuICAgICAgICAgICAgICAgICAgICAgIHN1Ym1pdC5jbGFzc0xpc3QucmVtb3ZlKFwibm90dmFsaWRcIilcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICApXHJcbiAgICB9XHJcblxyXG4gICAgaWYodGV4dGFyZWFzICE9IG51bGwgfHwgdGV4dGFyZWFzICE9IHVuZGVmaW5lZCkge1xyXG4gICAgICAgIFtdLmZvckVhY2guY2FsbCh0ZXh0YXJlYXMsXHJcbiAgICAgICAgICAgICh0ZXh0YXJlYSkgPT4ge1xyXG4gICAgICAgICAgICAgICAgdGV4dGFyZWEuYWRkRXZlbnRMaXN0ZW5lcihcImNoYW5nZVwiLCAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgIGxldCB2YWx1ZSA9IHRleHRhcmVhLnZhbHVlLFxyXG4gICAgICAgICAgICAgICAgICAgICAgbmFtZSA9IHRleHRhcmVhLmdldEF0dHJpYnV0ZSgnZGF0YS1zYy1maWVsZC1uYW1lJyk7XHJcblxyXG4gICAgICAgICAgICAgICAgICB0aGlzLmRhdGEuZ2lmdENhcmRJbmZvcm1hdGlvblt0aGlzLmtleW1hcFtuYW1lXV0gPSB2YWx1ZTtcclxuICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICApXHJcbiAgICB9XHJcblxyXG4gICAgaWYoISFmb3JtKSB7XHJcbiAgICAgIGZvcm0uYWRkRXZlbnRMaXN0ZW5lcigncmVzZXQnLCAoZSkgPT4ge1xyXG4gICAgICAgIGlmKCEhY291cG9uQ3VzdG9tQW1vdW50KSB7XHJcbiAgICAgICAgICBjb3Vwb25DdXN0b21BbW91bnQuc2V0QXR0cmlidXRlKFwiZGF0YS12YWwtcmVxdWlyZWRcIiwgdGhpcy5hdHRyaWJ1dGVSZXF1aXJlZClcclxuICAgICAgICAgIGNvdXBvbkN1c3RvbUFtb3VudC5zdHlsZS5kaXNwbGF5ID0gXCJibG9ja1wiO1xyXG4gICAgICAgIH1cclxuICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgaWYoISFzdWJtaXQpIHtcclxuICAgICAgc3VibWl0LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKGUpID0+IHtcclxuICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAgICAgaWYoIHN1Ym1pdC5nZXRBdHRyaWJ1dGUoXCJkaXNhYmxlZFwiKSA9PT0gdW5kZWZpbmVkIFxyXG4gICAgICAgICAgICB8fCBzdWJtaXQuZ2V0QXR0cmlidXRlKFwiZGlzYWJsZWRcIikgPT09IG51bGwpIHtcclxuICAgICAgICAgIHN1Ym1pdC5zZXRBdHRyaWJ1dGUoXCJkaXNhYmxlZFwiLCBcInRydWVcIik7XHJcbiAgICAgICAgICB0aGlzLl9oYW5kbGVTdWJtaXQoZSwgc3VibWl0LCAkc3VibWl0KTtcclxuICAgICAgICB9XHJcbiAgICAgIH0pO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgX2luaXRSYWRpb0J1dHRvbnMoKSB7XHJcbiAgICBsZXQgcmFkaW9CdG5zID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLmN1c3RvbS1naWZ0LXJhZGlvX19jb250YWluZXIgaW5wdXRbdHlwZT1cInJhZGlvXCJdJyk7XHJcblxyXG4gICAgZm9yKGxldCB4ID0gMDsgeCA8IHJhZGlvQnRucy5sZW5ndGg7IHgrKykge1xyXG4gICAgICBjb25zdCByYWRpbyA9IHJhZGlvQnRuc1t4XSxcclxuICAgICAgICAgICAgbGFiZWwgPSByYWRpby5wYXJlbnROb2RlO1xyXG4gICAgICAgICAgICBcclxuICAgICAgaWYocmFkaW8udmFsdWUgLSAxICA+IDAgICYmICEhbGFiZWwpIHtcclxuICAgICAgICBsZXQgbGFiZWxEaXNwbGF5ID0gbmV3IEludGwuTnVtYmVyRm9ybWF0KGAke3RoaXMubGFuZ3VhZ2V9YCwge1xyXG4gICAgICAgICAgICBzdHlsZTogJ2N1cnJlbmN5JyxcclxuICAgICAgICAgICAgY3VycmVuY3k6IGAke3RoaXMuY3VycmVuY3l9YCxcclxuICAgICAgICAgIH0pLmZvcm1hdChyYWRpby52YWx1ZSksXHJcbiAgICAgICAgICBsYWJlbFRleHQgPSBsYWJlbC5jaGlsZE5vZGVzW2xhYmVsLmNoaWxkTm9kZXMubGVuZ3RoIC0gMV07XHJcblxyXG4gICAgICAgICAgbGFiZWxUZXh0LnJlcGxhY2VXaXRoKGxhYmVsRGlzcGxheSlcclxuICAgICAgfVxyXG4gICAgICBcclxuICAgICAgaWYocmFkaW8uY2hlY2tlZCkge1xyXG4gICAgICAgIHRoaXMuX2hhbmRsZVJhZGlvQ2hlY2tlZChyYWRpbylcclxuICAgICAgfVxyXG5cclxuICAgICAgcmFkaW8uYWRkRXZlbnRMaXN0ZW5lcihcImZvY3VzXCIsIChlKSA9PiB7XHJcbiAgICAgICAgdGhpcy5faGFuZGxlUmFkaW9DaGVja2VkKHJhZGlvKVxyXG4gICAgICB9KVxyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgX2luaXRQb3NpdGlvbnMoKSB7XHJcbiAgICBsZXQgYWRkVG9DYXJ0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi50by1jYXJ0X19jb250YWluZXJcIik7XHJcblxyXG4gICAgaWYoISFhZGRUb0NhcnQpXHJcbiAgICAgIHRoaXMuY29udGFpbmVyLmFwcGVuZENoaWxkKGFkZFRvQ2FydCk7XHJcbiAgfVxyXG5cclxuICBfaGFuZGxlUmFkaW9DaGVja2VkKHJhZGlvKSB7XHJcbiAgICBsZXQgcGFyZW50ID0gcmFkaW8ucGFyZW50Tm9kZSxcclxuICAgICAgICBuYW1lID0gcmFkaW8uZ2V0QXR0cmlidXRlKFwibmFtZVwiKSxcclxuICAgICAgICByYWRpb1NpYmxpbmdzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChgaW5wdXRbdHlwZT1cInJhZGlvXCJdW25hbWU9XCIke25hbWV9XCJdYCksXHJcbiAgICAgICAgY2hlY2tlZCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5jdXN0b20tZ2lmdC1yYWRpb19fY29udGFpbmVyIGlucHV0W2NoZWNrZWQ9XCJ0cnVlXCJdJyk7XHJcblxyXG4gICAgICBpZighIWNoZWNrZWQpIHtcclxuICAgICAgICBjaGVja2VkLnNldEF0dHJpYnV0ZSgnY2hlY2tlZCcsIFwiZmFsc2VcIik7XHJcbiAgICAgICAgcmFkaW8uc2V0QXR0cmlidXRlKCdjaGVja2VkJywgXCJ0cnVlXCIpO1xyXG4gICAgICB9XHJcbiAgICAgIGZvcihsZXQgeSA9IDA7IHkgPCByYWRpb1NpYmxpbmdzLmxlbmd0aDsgeSsrKSB7XHJcbiAgICAgICAgY29uc3Qgc2libGluZyA9IHJhZGlvU2libGluZ3NbeV0sXHJcbiAgICAgICAgICAgIHNpYmxpbmdQYXJlbnQgPSBzaWJsaW5nLnBhcmVudE5vZGVcclxuICAgICAgICBcclxuICAgICAgICBzaWJsaW5nUGFyZW50LmNsYXNzTGlzdC5yZW1vdmUoXCJjaGVja2VkXCIpXHJcbiAgICAgIH1cclxuXHJcbiAgICAgIHBhcmVudC5jbGFzc0xpc3QuYWRkKFwiY2hlY2tlZFwiKVxyXG4gIH1cclxuXHJcbiAgX2hhbmRsZVN1Ym1pdChlLCBidG4sICRidG4pIHtcclxuICAgIGUucHJldmVudERlZmF1bHQoKTtcclxuICAgIHRoaXMuZGF0YS5xdWFudGl0eSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIudG8tY2FydF9fY29udHJvbCAuanMtc3RlcHBlci1pbnB1dFwiKS52YWx1ZTtcclxuXHJcbiAgICBsZXQgZGF0YSA9IHtcclxuICAgICAgY2FjaGU6IGZhbHNlLFxyXG4gICAgICB1cmw6IFwiL2FwaS9jYXJ0L2d1ZXN0L2dpZnQtY2FyZFwiLFxyXG4gICAgICBtZXRob2Q6ICdQT1NUJyxcclxuICAgICAgZGF0YToge1xyXG4gICAgICAgIGRhdGE6IEpTT04uc3RyaW5naWZ5KHRoaXMuZGF0YSlcclxuICAgICAgfSxcclxuICAgICAgZGF0YVR5cGU6ICdqc29uJyxcclxuICAgIH0sXHJcbiAgICBpbnRBZGRUb0NhcnQgPSBfQUREX0NBUlQ7XHJcblxyXG4gICAgdGhpcy5wYWdlTG9hZGVyLnNob3dMb2FkZXIoKTtcclxuICAgICQuYWpheChkYXRhKVxyXG4gICAgLnN1Y2Nlc3MoKHJlc3BvbnNlLCBzdGF0dXMpID0+IHtcclxuICAgICAgY29uc3QgaW5DYXJ0UHJvZHVjdCA9ICQoJy5pbi1jYXJ0X19wcm9kdWN0Jyk7XHJcbiAgICAgIGlmKHJlc3BvbnNlLnN1Y2Nlc3Mpe1xyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAqIFVwZGF0ZSBkYXRhTGF5ZXIgXHJcbiAgICAgICAgICovXHJcbiAgICAgICAgX0VDT00uYWRkUHJvZHVjdChidG4pO1xyXG4gICAgICAgIF9FQ09NLnVwZGF0ZUNhcnRJdGVtKHJlc3BvbnNlKTtcclxuXHJcbiAgICAgICAgLy8gVXBkYXRlIG1pbmkgY2FydCBIVE1MXHJcbiAgICAgICAgaW5DYXJ0UHJvZHVjdC5odG1sKHJlc3BvbnNlLnJlc3VsdC50b1N0cmluZygpKTtcclxuXHJcbiAgICAgICAgaWYoJCgnLmpzLXByb2R1Y3QtYWRkZWQnKSAhPT0gbnVsbCkge1xyXG4gICAgICAgICAgICBpZighISQoJy5qcy1oZWFkZXItbWQtaGFtYnVyZ2VyJykpIHtcclxuICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICQoJy5qcy1oZWFkZXItbWQtaGFtYnVyZ2VyJykudHJpZ2dlcihcImNsaWNrXCIpO1xyXG4gICAgICAgICAgICAgICAgfSwzMClcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgaW50QWRkVG9DYXJ0LnNob3dPckhpZGVBZGRlZFByb2R1Y3QoKTtcclxuXHJcbiAgICAgICAgICAgIGxhenlMb2FkSW1hZ2UoKTtcclxuXHJcbiAgICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xyXG4gICAgICAgICAgICAgIGludEFkZFRvQ2FydC5zaG93T3JIaWRlQWRkZWRQcm9kdWN0KCk7XHJcbiAgICAgICAgICAgIH0sIDMwMDApXHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMuY29udGFpbmVyLnF1ZXJ5U2VsZWN0b3IoJ2Zvcm0nKS5yZXNldCgpO1xyXG4gICAgICB9XHJcblxyXG4gICAgICB0aGlzLnBhZ2VMb2FkZXIuaGlkZUxvYWRlcigpO1xyXG4gICAgICBidG4ucmVtb3ZlQXR0cmlidXRlKFwiZGlzYWJsZWRcIik7XHJcbiAgICB9KVxyXG4gICAgLmVycm9yKChlKSA9PiB7XHJcbiAgICAgIHRoaXMucGFnZUxvYWRlci5oaWRlTG9hZGVyKCk7XHJcbiAgICAgIGJ0bi5yZW1vdmVBdHRyaWJ1dGUoXCJkaXNhYmxlZFwiKTtcclxuICAgIH0pXHJcbiAgfVxyXG59IiwiaW1wb3J0IHtSZW1haW5pbmdDaGFyfSBmcm9tIFwiLi4vY29tcG9uZW50cy9yZW1haW5pbmctY2hhclwiO1xyXG5cclxuZXhwb3J0IGNsYXNzIExpbWl0ZWRJbnB1dCB7XHJcbiAgICBjb25zdHJ1Y3RvcihvcHRpb25zKSB7XHJcbiAgICAgICAgdGhpcy5jb250YWluZXJzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChvcHRpb25zLmNvbnRhaW5lcik7XHJcbiAgICAgICAgdGhpcy5pbnB1dFNlbGVjdG9yID0gb3B0aW9ucy5pbnB1dDtcclxuICAgICAgICB0aGlzLmRpc3BsYXlTZWxlY3RvciA9IG9wdGlvbnMuZGlzcGxheTtcclxuICAgICAgICB0aGlzLl9pbml0KCk7XHJcbiAgICB9XHJcblxyXG4gICAgX2luaXQoKSB7XHJcbiAgICAgICAgdGhpcy5pbml0SW5wdXRFdmVudCgpO1xyXG4gICAgfVxyXG5cclxuICAgIGluaXRJbnB1dEV2ZW50KCkge1xyXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5jb250YWluZXJzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IGNvbnRhaW5lciA9IHRoaXMuY29udGFpbmVyc1tpXTtcclxuICAgICAgICAgICAgbGV0IGlucHV0ID0gY29udGFpbmVyLnF1ZXJ5U2VsZWN0b3IodGhpcy5pbnB1dFNlbGVjdG9yKSxcclxuICAgICAgICAgICAgICAgIGRpc3BsYXlJdGVtID0gY29udGFpbmVyLnF1ZXJ5U2VsZWN0b3IodGhpcy5kaXNwbGF5U2VsZWN0b3IpLFxyXG4gICAgICAgICAgICAgICAgcmVtYWluaW5nQ2hhciA9IG5ldyBSZW1haW5pbmdDaGFyKHtcclxuICAgICAgICAgICAgICAgICAgICBkaXNwbGF5OiBkaXNwbGF5SXRlbSxcclxuICAgICAgICAgICAgICAgICAgICBsaW1pdDogaW5wdXQuZ2V0QXR0cmlidXRlKCdtYXhsZW5ndGgnKVxyXG4gICAgICAgICAgICAgICAgfSlcclxuXHJcbiAgICAgICAgICAgIGlmKGlucHV0ICE9PSBudWxsKSB7XHJcbiAgICAgICAgICAgICAgICBpbnB1dC5hZGRFdmVudExpc3RlbmVyKCdpbnB1dCcsIChlKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICAgICAgICAgICAgICAgIGxldCBpbnB1dExlbmd0aCA9IGlucHV0LnZhbHVlLmxlbmd0aDtcclxuICAgICAgICAgICAgICAgICAgICByZW1haW5pbmdDaGFyLnVwZGF0ZVJlbWFpbmluZ0NoYXIoaW5wdXRMZW5ndGgpO1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcbn0iLCJpbXBvcnQgU2ltcGxlTG9hZGVyIGZyb20gXCIuLi8uLi92aWV3L2NvbXBvbmVudHMvc2ltcGxlLWxvYWRlclwiO1xyXG5cclxuZXhwb3J0IGNsYXNzIFJldmlld0Zvcm0ge1xyXG4gICAgY29uc3RydWN0b3Iob3B0aW9ucykge1xyXG4gICAgICAgIHRoaXMuY29udGFpbmVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihvcHRpb25zLmNvbnRhaW5lcik7XHJcbiAgICAgICAgdGhpcy5mb3JtQ29udGFpbmVyID0gKHRoaXMuY29udGFpbmVyICE9IG51bGwpID8gdGhpcy5jb250YWluZXIucXVlcnlTZWxlY3RvcihgZm9ybSR7b3B0aW9ucy5mb3JtQ2xhc3N9YCkgOiBudWxsO1xyXG4gICAgICAgIHRoaXMuc3VibWl0QnRuID0gKHRoaXMuZm9ybUNvbnRhaW5lciAhPSBudWxsKSA/IHRoaXMuZm9ybUNvbnRhaW5lci5xdWVyeVNlbGVjdG9yKCdpbnB1dFt0eXBlPVwic3VibWl0XCJdJyk6IG51bGw7XHJcbiAgICAgICAgdGhpcy5jYW5jZWxCdG4gPSAodGhpcy5mb3JtQ29udGFpbmVyICE9IG51bGwpID8gdGhpcy5mb3JtQ29udGFpbmVyLnF1ZXJ5U2VsZWN0b3IoJy5qcy1jYW5jZWwtZm9ybScpOiBudWxsO1xyXG4gICAgICAgIHRoaXMuaW5wdXRzID0gKHRoaXMuZm9ybUNvbnRhaW5lciAhPSBudWxsKSA/IHRoaXMuZm9ybUNvbnRhaW5lci5xdWVyeVNlbGVjdG9yQWxsKCdpbnB1dFt0eXBlXTpub3QoW3R5cGU9XCJzdWJtaXRcIl0pLHRleHRhcmVhJyk6IG51bGw7XHJcblxyXG4gICAgICAgIHRoaXMuY3VycmVudFBvcHVwID0gb3B0aW9ucy5jdXJyZW50O1xyXG4gICAgICAgIHRoaXMubmV4dFBvcHVwID0gb3B0aW9ucy5uZXh0O1xyXG5cclxuICAgICAgICB0aGlzLmxvYWRlciA9IG5ldyBTaW1wbGVMb2FkZXIoe30pO1xyXG5cclxuICAgICAgICB0aGlzLl9pbml0KCk7XHJcbiAgICB9XHJcblxyXG4gICAgX2luaXQoKSB7XHJcbiAgICAgICAgdGhpcy5pbml0U3VibWl0KCk7XHJcbiAgICAgICAgdGhpcy5pbml0Q2FuY2VsKCk7XHJcbiAgICB9XHJcblxyXG4gICAgaW5pdFN1Ym1pdCgpIHtcclxuICAgICAgICBpZih0aGlzLnN1Ym1pdEJ0biAhPT0gbnVsbCkge1xyXG4gICAgICAgICAgICB0aGlzLnN1Ym1pdEJ0bi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChlKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBkYXRhID0gdGhpcy5nZXRGb3JtRGF0YSh0aGlzLmlucHV0cyk7XHJcbiAgICAgICAgICAgICAgICBjb25zdCB1cmwgPSB0aGlzLmZvcm1Db250YWluZXIucXVlcnlTZWxlY3RvcignLnJldmlldy11cmwtcG9zdCcpID8gdGhpcy5mb3JtQ29udGFpbmVyLnF1ZXJ5U2VsZWN0b3IoJy5yZXZpZXctdXJsLXBvc3QnKS52YWx1ZSA6IG51bGw7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnNlbmREYXRhKGRhdGEsIHVybCk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBzZW5kRGF0YShkYXRhcyx1cmwpIHtcclxuICAgICAgICB2YXIgZGF0YVRvU2VuZCA9IHt9O1xyXG4gICAgICAgIGRhdGFUb1NlbmRbJ1N0cmVhbUlkJ10gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucmV2aWV3LXN0cmVhbS1pZCcpID8gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnJldmlldy1zdHJlYW0taWQnKS52YWx1ZSA6IG51bGw7XHJcbiAgICAgICAgZGF0YVRvU2VuZFsnT3JpZ2luJ10gPSB3aW5kb3cubG9jYXRpb24ub3JpZ2luO1xyXG4gICAgICAgIGRhdGFUb1NlbmRbJ1ByaXZhY3knXSA9IDE7IC8vIFNlbmQgcHJpdmFjeSBwb2xpY3kgQ1RYIERlZmF1bHRcclxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGRhdGFzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IGQgPSBkYXRhc1tpXTtcclxuICAgICAgICAgICAgZGF0YVRvU2VuZFtkLm5hbWVdID0gZC52YWx1ZTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHZhciBjb250ZW50ID0ge1xyXG4gICAgICAgICAgICBQcm9maWxlSUQgOiBcInJlYnJhbmRpbmctcmV2aWV3XCIsXHJcbiAgICAgICAgICAgIExvY2FsZSA6IHRoaXMuZm9ybUNvbnRhaW5lci5xdWVyeVNlbGVjdG9yKCcucmV2aWV3LXVybC1wb3N0LXNpdGUnKSA/IHRoaXMuZm9ybUNvbnRhaW5lci5xdWVyeVNlbGVjdG9yKCcucmV2aWV3LXVybC1wb3N0LXNpdGUnKS52YWx1ZSA6IG51bGwsXHJcbiAgICAgICAgICAgIERhdGEgOiBkYXRhVG9TZW5kXHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgdmFyIGRhdGEgPSB7XHJcbiAgICAgICAgICAgIGNhY2hlOiBmYWxzZSxcclxuICAgICAgICAgICAgdXJsOiB1cmwsXHJcbiAgICAgICAgICAgIG1ldGhvZDogJ1BPU1QnLFxyXG4gICAgICAgICAgICBjb250ZW50VHlwZTogJ2FwcGxpY2F0aW9uL2pzb24nLFxyXG4gICAgICAgICAgICBkYXRhVHlwZTogJ2pzb24nLFxyXG4gICAgICAgICAgICBhY2NlcHRzOiAnanNvbicsXHJcbiAgICAgICAgICAgIGRhdGE6IEpTT04uc3RyaW5naWZ5KGNvbnRlbnQpXHJcbiAgICAgICAgfTtcclxuXHJcblxyXG4gICAgICAgIHRoaXMubG9hZGVyLnNob3dMb2FkZXIoKTtcclxuICAgICAgICAkLmFqYXgoZGF0YSkuYWx3YXlzKChyZXN1bHQsIHRleHRTdGF0dXMsIHhocikgPT4ge1xyXG4gICAgICAgICAgICBpZih4aHIuc3RhdHVzID09IDIwMCl7XHJcbiAgICAgICAgICAgICAgICBpZihyZXN1bHQuSXNTdWNjZXNzZnVsKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5jdXJyZW50UG9wdXAuY2xvc2VPdmVybGF5KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5sb2FkZXIuaGlkZUxvYWRlcigpO1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMubmV4dFBvcHVwLm9wZW5PdmVybGF5KCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIGluaXRDYW5jZWwoKSB7XHJcbiAgICAgICAgaWYodGhpcy5jYW5jZWxCdG4gIT09IG51bGwpIHtcclxuICAgICAgICAgICAgdGhpcy5jYW5jZWxCdG4uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoZSkgPT4ge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5jdXJyZW50UG9wdXAuY2xvc2VPdmVybGF5KCk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBnZXRGb3JtRGF0YShpbnB1dHMpIHtcclxuICAgICAgICB2YXIgZGF0YSA9IFtdO1xyXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgaW5wdXRzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgIGNvbnN0ICAgaW5wdXQgPSBpbnB1dHNbaV0sXHJcbiAgICAgICAgICAgICAgICAgICAgbmFtZSA9IGlucHV0LmdldEF0dHJpYnV0ZSgnbmFtZScpID8gaW5wdXQuZ2V0QXR0cmlidXRlKCduYW1lJyk6IGlucHV0LmdldEF0dHJpYnV0ZSgnaWQnKTtcclxuXHJcbiAgICAgICAgICAgIGlmKCFpbnB1dC5jbGFzc0xpc3QuY29udGFpbnMoXCJqcy1yZXNldC1leGNlcHRpb25cIikpIHtcclxuICAgICAgICAgICAgICAgIHN3aXRjaChpbnB1dC5nZXRBdHRyaWJ1dGUoXCJ0eXBlXCIpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBcInRleHRcIiA6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGRhdGEucHVzaCh7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBuYW1lOiBuYW1lLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWU6IGlucHV0LnZhbHVlXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICBjYXNlIFwiY2hlY2tib3hcIjpcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGlucHV0Q2hlY2sgPSAoaW5wdXQuY2hlY2tlZCA9PT0gdHJ1ZSkgPyAxIDogMDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZGF0YS5wdXNoKHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU6IG5hbWUsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZTogaW5wdXRDaGVja1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBcInJhZGlvXCI6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmKGlucHV0LmNoZWNrZWQpe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGF0YS5wdXNoKHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuYW1lOiBuYW1lLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlOiBpbnB1dC52YWx1ZVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgZGVmYXVsdDpcclxuICAgICAgICAgICAgICAgICAgICAgICAgZGF0YS5wdXNoKHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU6IG5hbWUsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZTogaW5wdXQudmFsdWVcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICByZXR1cm4gZGF0YTtcclxuICAgIH1cclxufSIsImltcG9ydCB7IFByb2R1Y3REZXRhaWxWaWV3IH0gZnJvbSBcIi4uLy4uL3ZpZXcvZS1jb21tZXJjZS92LXByb2R1Y3QtZGV0YWlsXCI7XHJcbmltcG9ydCB7IFJldmlld1N0YXJzQ29udHJvbGxlciB9IGZyb20gXCIuL3Jldmlldy1zdGFyc1wiO1xyXG5pbXBvcnQgVm91Y2hlckZvcm1Db250cm9sbGVyIGZyb20gXCIuLi8uLi8vY29udHJvbGxlci92b3VjaGVyLWZvcm0vdm91Y2hlci1mb3JtXCI7XHJcbmltcG9ydCB7IGFjY29yZGlvbkZhY3RvcnkgfSBmcm9tIFwiLi4vLi4vdmlldy9hY2NvcmRpb24tZmFjdG9yeVwiO1xyXG5pbXBvcnQgeyBwb3B1cCB9IGZyb20gXCIuLi8uLi92aWV3L2NvbXBvbmVudHMvcG9wdXBcIjtcclxuaW1wb3J0IHsgUGFnaW5hdGlvbiB9IGZyb20gXCIuLi8uLi92aWV3L2NvbXBvbmVudHMvcGFnaW5hdGlvblwiO1xyXG5pbXBvcnQgeyBMaW1pdGVkSW5wdXQgfSBmcm9tIFwiLi4vLi4vdmlldy9jb21wb25lbnRzL2lucHV0LXctbGVuZ3RoXCI7XHJcbmltcG9ydCB7IFJldmlld0Zvcm0gfSBmcm9tIFwiLi9yZXZpZXctZm9ybVwiO1xyXG5cclxuXHJcbmNvbnN0ICAgSU5JVF9ESVNQTEFZID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI3Jldmlldy1zZWN0aW9uIFtkYXRhLXBhZ2UtbWF4XScpIT09dW5kZWZpbmVkICYmIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNyZXZpZXctc2VjdGlvbiBbZGF0YS1wYWdlLW1heF0nKSE9PW51bGwgPyBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjcmV2aWV3LXNlY3Rpb24gW2RhdGEtcGFnZS1tYXhdJykuZGF0YXNldC5wYWdlTWF4IDogMTU7XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gcHJvZHVjdERldGFpbCgpIHtcclxuXHJcbiAgICBuZXcgUHJvZHVjdERldGFpbFZpZXcoe1xyXG4gICAgICAgIHRhYjogJy5qcy10YWInLFxyXG4gICAgICAgIHRhYkNvbnRlbnQ6ICcuanMtdGFiLWNvbnRlbnQnXHJcbiAgICB9KVxyXG5cclxuICAgIG5ldyBSZXZpZXdTdGFyc0NvbnRyb2xsZXIoe1xyXG4gICAgICAgIGNvbnRhaW5lcjogJy5qcy1yZXZpZXcnLFxyXG4gICAgICAgIHJldmlld0l0ZW06ICcuanMtcmV2aWV3LWl0ZW0nXHJcbiAgICB9KTtcclxuXHJcbiAgICAkKCcuanMtcHJvZHVjdC1jYXJvdXNlbCcpLnNsaWNrKHtcclxuICAgICAgICBzbGlkZXNUb1Nob3c6IDEsXHJcbiAgICAgICAgc2xpZGVzVG9TY3JvbGw6IDEsXHJcbiAgICAgICAgYXJyb3dzOiBmYWxzZSxcclxuICAgICAgICBkb3RzOiB0cnVlLFxyXG4gICAgICAgIGluZmluaXRlOiBmYWxzZSxcclxuICAgIH0pO1xyXG5cclxuICAgIG5ldyBhY2NvcmRpb25GYWN0b3J5KHtcclxuICAgICAgICBjb250YWluZXI6ICcuanMtcHJvZHVjdC1hY2NvcmRpb24nLFxyXG4gICAgICAgIHRyaWdnZXI6ICcuanMtcHJvZHVjdC1hY2NvcmRpb24tdHJpZ2dlcicsXHJcbiAgICAgICAgY29udGVudDogJy5qcy1wcm9kdWN0LWFjY29yZGlvbi1jb250ZW50JyxcclxuICAgICAgICBtdWx0aXBsZUNvbnRlbnQ6ICcuanMtcHJvZHVjdC1hY2NvcmRpb24tbXVsdGlwbGUtY29udGVudCcsXHJcbiAgICAgICAgaWNvbjogJy5qcy1wcm9kdWN0LWFjY29yZGlvbi1pY29uJyxcclxuICAgICAgICBpY29uTW9kaWZpZXI6ICdwcm9kdWN0LWFjY29yZGlvbi1pY29uLS1pbnZlcnRlZCcsXHJcbiAgICAgICAgY29udGVudE1vZGlmaWVyOiAncHJvZHVjdC1hY2NvcmRpb24tLW9wZW5lZCcsXHJcbiAgICAgICAgbXVsdGlwbGVDb250ZW50TW9kaWZpZXI6ICdwcm9kdWN0LWFjY29yZGlvbi0tb3BlbmVkJ1xyXG4gICAgfSk7XHJcblxyXG4gICAgbGV0IHJldmlld0Zvcm1PdmVybGF5ID0gbmV3IHBvcHVwKHtcclxuICAgICAgICBjb250YWluZXI6ICdzZWN0aW9uLmpzLW92ZXJsYXknLFxyXG4gICAgICAgIHNlbGVjdG9yOiAnI3Jldmlldy1mb3JtJyxcclxuICAgICAgICB0cmlnZ2VyOiAnLmpzLXJldmlldy1mb3JtJyxcclxuICAgICAgICBjbG9zZTogJyNyZXZpZXctZm9ybSAub3ZlcmxheV9fY2xvc2UnXHJcbiAgICB9KTtcclxuXHJcbiAgICBsZXQgdGhhbmtZb3VPdmVybGF5ID0gbmV3IHBvcHVwKHtcclxuICAgICAgICBjb250YWluZXI6ICdzZWN0aW9uLmpzLW92ZXJsYXknLFxyXG4gICAgICAgIHNlbGVjdG9yOiAnI3Jldmlldy10aGFuay15b3UnLFxyXG4gICAgICAgIHRyaWdnZXI6ICcuanMtc2hvdy10aGFua3lvdS1vdmVybGF5JyxcclxuICAgICAgICBjbG9zZTogJyNyZXZpZXctdGhhbmsteW91IC5qcy1vdmVybGF5LWNsb3NlJ1xyXG4gICAgfSk7XHJcblxyXG4gICAgbGV0IHJldmlld0Zvcm0gPSBuZXcgUmV2aWV3Rm9ybSh7XHJcbiAgICAgICAgY29udGFpbmVyOiAnI3Jldmlldy1mb3JtJyxcclxuICAgICAgICBmb3JtQ2xhc3M6ICcuanMtZm9ybScsXHJcbiAgICAgICAgY3VycmVudDogcmV2aWV3Rm9ybU92ZXJsYXksXHJcbiAgICAgICAgbmV4dDogdGhhbmtZb3VPdmVybGF5XHJcbiAgICB9KTtcclxuXHJcbiAgICBsZXQgcmV2aWV3UGFnaW5hdGlvbiA9IG5ldyBQYWdpbmF0aW9uKHtcclxuICAgICAgICBjb250YWluZXI6ICcuanMtcmV2aWV3LWxpc3QnLFxyXG4gICAgICAgIGl0ZW1TZWxlY3RvcjogJy5qcy1yZXZpZXctY2FyZCcsXHJcbiAgICAgICAgcGVyUGFnZTogSU5JVF9ESVNQTEFZLFxyXG4gICAgICAgIGNvbnRyb2w6ICcucHJvZHVjdC1yZXZpZXdzX19jb250YWluZXIgLmpzLWxvYWRtb3JlLXJldmlldycsXHJcbiAgICAgICAgaW5pdENsaWNrOiB0cnVlLFxyXG4gICAgICAgIGRpc3BsYXlTdHlsZTogXCJibG9ja1wiXHJcbiAgICB9KTtcclxuXHJcbiAgICBsZXQgcmV2aWV3SXRlbXMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcuanMtcmV2aWV3LWNhcmQnKTtcclxuICAgIHJldmlld1BhZ2luYXRpb24uX2luaXRGcm9tQXJyYXkocmV2aWV3SXRlbXMpO1xyXG5cclxuICAgIGxldCBmb3JtUmVtYWluaW5nID0gbmV3IExpbWl0ZWRJbnB1dCh7XHJcbiAgICAgICAgY29udGFpbmVyOiAnLmpzLWZvcm0tcmVtYWluaW5nJyxcclxuICAgICAgICBpbnB1dDogJy5qcy1pbnB1dC1yZW1haW5pbmcnLFxyXG4gICAgICAgIGRpc3BsYXk6ICcuanMtcmVtYWluaW5nJ1xyXG4gICAgfSk7XHJcblxyXG4gICAgbGV0IHZvdWNoZXJGcm9tID0gbmV3IFZvdWNoZXJGb3JtQ29udHJvbGxlcigpO1xyXG59IiwiaW1wb3J0IHsgUHJvZHVjdExpc3RQYWdlIH0gZnJvbSBcIi4uL2NvbnRyb2xsZXIvcHJvZHVjdC1saXN0L2luZGV4XCI7XHJcbmltcG9ydCB7IHByb2R1Y3REZXRhaWwgfSBmcm9tIFwiLi4vY29udHJvbGxlci9wcm9kdWN0LWRldGFpbHMvcHJvZHVjdC1kZXRhaWxcIjtcclxuaW1wb3J0IHsgUmV2aWV3U3RhcnNDb250cm9sbGVyIH0gZnJvbSBcIi4uL2NvbnRyb2xsZXIvcHJvZHVjdC1kZXRhaWxzL3Jldmlldy1zdGFyc1wiO1xyXG5cclxuXHJcbmRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ0RPTUNvbnRlbnRMb2FkZWQnLCBmdW5jdGlvbihlKSB7XHJcbiAgICBpZihkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucHJvZHVjdC1saXN0JykgIT09IG51bGwpIHtcclxuICAgICAgICBQcm9kdWN0TGlzdFBhZ2UoKTtcclxuICAgIH1cclxuXHJcbiAgICBpZihkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucHJvZHVjdC1kZXRhaWxzJykgIT09IG51bGwpIHtcclxuICAgICAgICBwcm9kdWN0RGV0YWlsKCk7XHJcbiAgICB9XHJcblxyXG4gICAgbmV3IFJldmlld1N0YXJzQ29udHJvbGxlcih7XHJcbiAgICAgICAgY29udGFpbmVyOiAnLmpzLXJldmlldycsXHJcbiAgICAgICAgcmV2aWV3SXRlbTogJy5qcy1yZXZpZXctaXRlbSdcclxuICAgIH0pO1xyXG59KTsiLCJpbXBvcnQgeyBhY2NvcmRpb25GYWN0b3J5IH0gZnJvbSBcIi4uLy4uL3ZpZXcvYWNjb3JkaW9uLWZhY3RvcnlcIjtcclxuaW1wb3J0IHsgUHJvZHVjdExpc3RpbmcgfSBmcm9tICcuL3Byb2R1Y3QtbGlzdCc7XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gUHJvZHVjdExpc3RQYWdlKCkge1xyXG4gICAgbmV3IGFjY29yZGlvbkZhY3RvcnkgKHtcclxuICAgICAgICBjb250YWluZXIgOiAnLmpzLWFjY29yZGlvbicsXHJcbiAgICAgICAgdHJpZ2dlciA6ICcuanMtZmlsdGVyLWFjY29yZGlvbicsXHJcbiAgICAgICAgY29udGVudCA6ICcuanMtZmlsdGVyLWFjY29yZGlvbi1jb250ZW50JyxcclxuICAgICAgICBpY29uIDogJy5qcy1maWx0ZXItYWNjb3JkaW9uLWljb24nLFxyXG4gICAgICAgIGljb25Nb2RpZmllciA6ICdmaWx0ZXItbWJfX2ljb24tLW9wZW4nLFxyXG4gICAgICAgIGNvbnRlbnRNb2RpZmllciA6ICdmaWx0ZXItbWJfX2NvbnRlbnQtLW9wZW4nXHJcbiAgICB9KTtcclxuICAgIG5ldyBQcm9kdWN0TGlzdGluZygpO1xyXG59Il0sInNvdXJjZVJvb3QiOiIifQ==
//# sourceMappingURL=products.min.js.map
