/**
 * MILKA DE/AT/NL
 * env: production
 * version: 1.13.2
 * date: 9/2/2022 11:43:40
 */

!function(e){var t={};function r(a){if(t[a])return t[a].exports;var n=t[a]={i:a,l:!1,exports:{}};return e[a].call(n.exports,n,n.exports,r),n.l=!0,n.exports}r.m=e,r.c=t,r.d=function(e,t,a){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(r.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)r.d(a,n,function(t){return e[t]}.bind(null,n));return a},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=27)}({0:function(e,t,r){"use strict";r.d(t,"a",(function(){return n}));var a=["/"],n={trim:function(e){return e.replace(/\s/g,"")},replace:function(e,t,r){return e.replace(t,r)},replaceSpecialChar:function(e){for(var t=e,r=0;r<a.length;r++){var n=a[r];t=t.replace(n,"-")}return t},cleanFilterCategory:function(e){return n.replaceSpecialChar(n.trim(e)).toLowerCase()},toDataSelector:function(e){var t=n.cleanFilterCategory(e),r=t[0].toUpperCase();if(n.findChar("-",t)){var a=t.indexOf("-"),i=a+1,l=t[i].toUpperCase();t=t.slice(0,a)+l+t.slice(i+1,t.length)}return"selected"+(t=r+t.slice(1,t.length))},findChar:function(e,t){try{if(t&&"string"==typeof t&&t.indexOf(e)>-1)return!0}catch(e){console.error(e),console.error(t)}return!1},testRegex:function(e,t){var r=!1;return new RegExp(t).test(e)&&(r=!0),r}}},27:function(e,t,r){e.exports=r(42)},42:function(e,t,r){"use strict";r.r(t);var a=r(0);function n(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}var i="data-val-required",l="data-val-regex-pattern",o="data-sc-field-name",c=function(){function e(){if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.forms=document.querySelectorAll("form:not([id='search-form'])"),document.querySelectorAll(".js-form-no-action").length>0)for(var t=document.querySelectorAll(".js-form-no-action"),r=0;r<t.length;r++){t[r].removeAttribute("action")}this.forms.length>0&&this._init()}var t,r,c;return t=e,(r=[{key:"_init",value:function(){for(var e=0;e<this.forms.length;e++){var t=this.forms[e],r=t.querySelector('input[type="submit"]'),a=document.querySelector(".form-input__button.".concat(t.parentNode.dataset.formIdentification));this._initInputs(t,a,r),this._initSimpleBtn(a,t),this._initSubmit(r,t)}}},{key:"_initSubmit",value:function(e,t){var r=this;null!==e&&e.addEventListener("click",(function(a){a.preventDefault();var n=[],l=t.querySelectorAll('input[type="text"],input[type="tel"],input[type="number"],input[type="email"],input[type="password"],textarea'),o=t.querySelectorAll('input[type="checkbox"]');if(t.parentNode.classList.contains("checkout-payment__right-form")&&t.querySelectorAll(".js-act-payment-method").length>0){var c=t.querySelectorAll(".js-act-payment-method");[].forEach.call(c,(function(e){var t=e.querySelectorAll("input[".concat(i,"],textarea[").concat(i,"]"));e.classList.contains("hide")&&t.length>0&&(n=[].slice.call(t,0))}))}if(r.validateAllInputs(n,l,o,e.parentNode)){if(t.classList.contains("review-overlay__form")){var u=t.querySelector(".form-input__error--global");null!==u&&u.classList.remove("show")}}else if(a.stopImmediatePropagation(),t.classList.contains("review-overlay__form")){for(var s=t.querySelectorAll(".form-input__error"),d=0;d<s.length;d++)s[d].classList.add("hide");var v=t.querySelector(".form-input__error--global");null!==v&&v.classList.add("show")}}))}},{key:"_initSimpleBtn",value:function(e,t){var r=this;null!==e&&e.addEventListener("click",(function(a){if(a.preventDefault(),!e.classList.contains("header__search")){var n=[],l=t.querySelectorAll('input[type="text"],input[type="tel"],input[type="number"],input[type="email"],input[type="password"],textarea'),o=t.querySelectorAll('input[type="checkbox"]'),c=t.querySelectorAll('input[type="radio"][name="delivery_option"]');if(t.parentNode.classList.contains("checkout-payment__right-form")&&t.querySelectorAll(".js-act-payment-method").length>0){var u=t.querySelectorAll(".js-act-payment-method");[].forEach.call(u,(function(e){e.classList.contains("hide")&&e.querySelectorAll("input[".concat(i,"],textarea[").concat(i,"]")).length>0&&(n=[].slice.call(e.querySelectorAll("input[".concat(i,"],textarea[").concat(i,"]")),0))}))}if(null!==t.querySelector(".js-payment-adress-form")&&t.querySelector(".js-payment-adress-form").classList.contains("active")&&t.querySelector(".js-payment-adress-form").querySelectorAll("input[".concat(i,"],textarea[").concat(i,"]")).length>0){var s=[].slice.call(t.querySelector(".js-payment-adress-form").querySelectorAll("input[".concat(i,"],textarea[").concat(i,"]")),0);n=s.concat(n)}var d=r.validateAllInputs(n,l,o,e);if("delivery-form"===t.parentNode.dataset.formIdentification){if(!(!c.length>0))return;r.deliverySelected()||(d=!1)}d||a.stopImmediatePropagation()}}))}},{key:"_initInputs",value:function(e,t,r){for(var a=e.querySelectorAll('input[type="text"],input[type="tel"],input[type="number"],input[type="email"],input[type="password"],textarea'),n=e.querySelectorAll('input[type="checkbox"]'),i=[].concat([].slice.call(a,0),[].slice.call(n,0)),l=0;l<i.length;l++){var o=i[l];"checkbox"===o.type?this._initCheckBoxes(o,t,r):"number"===o.type?this._initNumber(o,t,r):this._initInput(o,t,r)}}},{key:"_initInput",value:function(e,t,r){var n=this;if(e.addEventListener("blur",(function(a){a.preventDefault(),null!==t?n.validateInput(e,t):r&&n.validateInput(e,r.parentNode)})),a.a.findChar("Confirm",e.getAttribute(o))){var i=e.getAttribute(o).substr("Confirm".length),l=e.closest("form").querySelector("input[".concat(o,"='").concat(i,"']"));l&&(l.value.length<1&&e.setAttribute("disabled",!0),l.addEventListener("change",(function(t){l.value.length<1?e.setAttribute("disabled",!0):e.removeAttribute("disabled")})))}}},{key:"_initCheckBoxes",value:function(e,t,r){var a=this;e.addEventListener("change",(function(n){n.preventDefault(),null!==t?a.validateCheckbox(e,t):a.validateCheckbox(e,r.parentNode),"payment_adress"===n.target.getAttribute(o)&&document.querySelector(".checkout-payment__go-to-review")&&document.querySelector(".checkout-payment__go-to-review").classList.remove("notvalid")}))}},{key:"_initNumber",value:function(e){var t=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;e.addEventListener("change",(function(n){n.preventDefault(),null!==r?t.validateInput(e,r):t.validateInput(e,a.parentNode)}))}},{key:"contains",value:function(e,t){for(var r=0;r<e.length;r++)if(e[r].name===t.name)return r;return-1}},{key:"validateAllInputs",value:function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],a=arguments.length>3?arguments[3]:void 0,n=0,i=[].concat([].slice.call(t,0),[].slice.call(r,0)),l=0;l<i.length;l++){var o=i[l],c=this.contains(e,o);c>-1?e.splice(c,1):this.validateInput(o,a)||n++}if(r&&r.length)for(var u=0;u<r.length;u++){var s=r[u],d=this.contains(e,s);d>-1?e.splice(d,1):this.validateCheckbox(s,a)||n++}return!(n>0)}},{key:"validateMandatory",value:function(e){if(null!==e&&"true"!==e.getAttribute("disabled")){var t=e.value,r=!1;return 0==a.a.trim(t).length?(r=!1,this.displayError(e,i),r):"number"===e.type&&parseInt(t)<1?(r=!1,this.displayError(e,i),r):this.validateText(e)?r=!0:r}}},{key:"validateInput",value:function(e,t){var r=!1,n=e.closest("form"),l=n.querySelectorAll(".notvalid").length;if(a.a.findChar("Confirm",e.getAttribute(o))){var c=e.getAttribute(o).substr("Confirm".length);if(!this.validateSimilar(e,n.querySelector("input[".concat(o,"='").concat(c,"']"))))return t.classList.add("notvalid"),t.parentNode&&t.parentNode.hasAttribute("href")&&t.parentNode.classList.add("notvalid"),r;this.hideError(e),l<2&&(t.classList.remove("notvalid"),t.parentNode&&t.parentNode.classList.remove("notvalid")),r=!0}if(e.hasAttribute(i)?this.validateMandatory(e)?(this.hideError(e),l<2&&(t.classList.remove("notvalid"),t.parentNode&&t.parentNode.classList.remove("notvalid")),r=!0):(r=!1,t.classList.add("notvalid"),t.parentNode&&t.parentNode.hasAttribute("href")&&t.parentNode.classList.add("notvalid")):this.validateText(e)?(this.hideError(e),l<2&&(t.classList.remove("notvalid"),t.parentNode&&t.parentNode.classList.remove("notvalid")),r=!0):(r=!1,t.classList.add("notvalid"),t.parentNode&&t.parentNode.hasAttribute("href")&&t.parentNode.classList.add("notvalid")),"Amount"==e.getAttribute(o)){var u=this.validateAmount(e);if(!e.hasAttribute(i))return this.hideError(e),l<2&&(t.classList.remove("notvalid"),t.parentNode&&t.parentNode.classList.remove("notvalid")),r=!0;if(!u)return r=!1,t.classList.add("notvalid"),t.parentNode&&t.parentNode.hasAttribute("href")&&t.parentNode.classList.add("notvalid"),r;this.hideError(e),l<2&&(t.classList.remove("notvalid"),t.parentNode&&t.parentNode.classList.remove("notvalid")),r=!0}return r}},{key:"validateCheckbox",value:function(e,t){return!e.hasAttribute(i)||(e.checked?(this.hideError(e),t.classList.remove("notvalid"),t.parentNode&&t.parentNode.classList.remove("notvalid")):(this.displayError(e,i),t.classList.add("notvalid"),t.parentNode&&t.parentNode.hasAttribute("href")&&t.parentNode.classList.add("notvalid")),e.checked)}},{key:"validateText",value:function(e){if(null!==e){var t=e.hasAttribute(l),r=e.hasAttribute("data-val-length-min"),n=e.value,i=!1;if(t){var o=e.getAttribute(l);if(!(i=a.a.testRegex(n,o)))return this.displayError(e,"data-val-regex"),i}else i=!0;return r&&(i=!(n.length<e.getAttribute("data-val-length-min"))),i||this.displayError(e),i}}},{key:"validateSimilar",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return!e||!t||e.value===t.value||(this.displayError(e,"data-val-regex"),!1)}},{key:"displayError",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"default",r=e.getAttribute("name")||"null",a="default"!==t?e.getAttribute(t):null,n=document.querySelector('span[data-valmsg-for="'.concat(r,'"]'));null!=n&&n.classList.add("form-input__error"),null!==n&&null!==a&&(n.innerText=a),e.parentNode.classList.add("notvalid")}},{key:"hideError",value:function(e){var t=e.getAttribute("name"),r=document.querySelector('span[data-valmsg-for="'.concat(t,'"]'));r&&(r.innerHTML=""),e.parentNode.classList.remove("notvalid")}},{key:"deliverySelected",value:function(){var e=0;if(document.querySelectorAll(".custom-radio__input").length>0){var t=document.querySelectorAll(".custom-radio__input");[].forEach.call(t,(function(t){t.checked&&e++}))}if(0===e){var r=document.querySelector(".delivery-option"),a=null!=r?r.querySelectorAll(".custom-radio__label"):null;null!=a&&[].forEach.call(a,(function(e){e.classList.add("notvalid")}));var n=document.querySelector(".error-delivery_option");null!=n&&n.classList.remove("hide")}return e>0}},{key:"validateAmount",value:function(e){var t,r,n=e.value,i=null===(t=document.querySelector("div[data-lang]"))||void 0===t?void 0:t.getAttribute("data-lang"),l=null===(r=document.querySelector("div[data-currency]"))||void 0===r?void 0:r.getAttribute("data-currency"),o=new RegExp(this.getCurrencySymbol(i,l),"g");if(a.a.findChar(",",n)&&(n=n.replace(".","")),a.a.findChar("de-",i)&&n.indexOf(".")+3<n.length&&(n=n.replace(".","")),n=n.replace(",","."),i){var c=new Intl.NumberFormat(i,{style:"currency",currency:l}).format(parseFloat(n).toFixed(3));c=c.replace(o,"").replace(/\s+/g,"");var u=e.value==c;return a.a.findChar(",",e.value)&&(a.a.findChar(".",e.value)||u)||(u=e.value==c.replace(/0+$/,"").replace(/\.+$/,"").replace(/\,+$/,"")),u||this.displayError(e,"data-val-regex"),u}return!0}},{key:"getCurrencySymbol",value:function(e,t){return(0).toLocaleString(e,{style:"currency",currency:t,minimumFractionDigits:0,maximumFractionDigits:0}).replace(/\d/g,"").trim()}}])&&n(t.prototype,r),c&&n(t,c),e}();document.addEventListener("DOMContentLoaded",(function(e){new c;var t=document.querySelector("html");new MutationObserver((function(e,t){for(var r=0;r<e.length;r++){var a=e[r];"childList"===a.type&&a.addedNodes.length>0&&a.target.classList.contains("slick-track")&&a.target.classList.contains("slick-slider")&&a.target.classList.contains("slick-list")&&new c}})).observe(t,{attributes:!1,childList:!0,subtree:!0})}))}});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vLy4vc3JjL1NDUklQVFMvdXRpbHMvc3RyaW5nLXV0aWxzLmpzIiwid2VicGFjazovLy8uL3NyYy9TQ1JJUFRTL3V0aWxzL2Zvcm0vZm9ybS12YWxpZGF0b3IuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL1NDUklQVFMvYXBwL2Zvcm0tdmFsaWRhdG9yLmpzIl0sIm5hbWVzIjpbImluc3RhbGxlZE1vZHVsZXMiLCJfX3dlYnBhY2tfcmVxdWlyZV9fIiwibW9kdWxlSWQiLCJleHBvcnRzIiwibW9kdWxlIiwiaSIsImwiLCJtb2R1bGVzIiwiY2FsbCIsIm0iLCJjIiwiZCIsIm5hbWUiLCJnZXR0ZXIiLCJvIiwiT2JqZWN0IiwiZGVmaW5lUHJvcGVydHkiLCJlbnVtZXJhYmxlIiwiZ2V0IiwiciIsIlN5bWJvbCIsInRvU3RyaW5nVGFnIiwidmFsdWUiLCJ0IiwibW9kZSIsIl9fZXNNb2R1bGUiLCJucyIsImNyZWF0ZSIsImtleSIsImJpbmQiLCJuIiwib2JqZWN0IiwicHJvcGVydHkiLCJwcm90b3R5cGUiLCJoYXNPd25Qcm9wZXJ0eSIsInAiLCJzIiwic3BlY2lhbENoYXJhY3RlcnMiLCJTdHJpbmdVdGlscyIsInRyaW0iLCJzdHJpbmciLCJyZXBsYWNlIiwidG9SZXBsYWNlIiwicmVwbGFjZVdpdGgiLCJyZXBsYWNlU3BlY2lhbENoYXIiLCJuZXdTdHJpbmciLCJsZW5ndGgiLCJjaGFyIiwiY2xlYW5GaWx0ZXJDYXRlZ29yeSIsInRvTG93ZXJDYXNlIiwidG9EYXRhU2VsZWN0b3IiLCJmaXJzdENoYXIiLCJ0b1VwcGVyQ2FzZSIsImZpbmRDaGFyIiwic3BlY2lhbEluZGV4IiwiaW5kZXhPZiIsIm5leHRDaGFySW5kZXgiLCJuZXh0Q2hhciIsInNsaWNlIiwiZSIsImNvbnNvbGUiLCJlcnJvciIsInRlc3RSZWdleCIsInJlZ2V4IiwidmFsaWQiLCJSZWdFeHAiLCJ0ZXN0IiwiUkVRVUlSRUQiLCJSRUdFWCIsIkZJRUxEX05BTUUiLCJGb3JtVmFsaWRhdG9yIiwidGhpcyIsImZvcm1zIiwiZG9jdW1lbnQiLCJxdWVyeVNlbGVjdG9yQWxsIiwiYWxsRm9ybXMiLCJyZW1vdmVBdHRyaWJ1dGUiLCJfaW5pdCIsImZvcm0iLCJzdWJtaXRCdG4iLCJxdWVyeVNlbGVjdG9yIiwiYWpheEJ0biIsInBhcmVudE5vZGUiLCJkYXRhc2V0IiwiZm9ybUlkZW50aWZpY2F0aW9uIiwiX2luaXRJbnB1dHMiLCJfaW5pdFNpbXBsZUJ0biIsIl9pbml0U3VibWl0IiwiYnRuIiwiYWRkRXZlbnRMaXN0ZW5lciIsInByZXZlbnREZWZhdWx0IiwiaW5wdXRUb0lnbm9yZSIsImlucHV0VGV4dHMiLCJjaGVja2JveGVzIiwiY2xhc3NMaXN0IiwiY29udGFpbnMiLCJwYXltZW50TWV0aG9kcyIsImZvckVhY2giLCJjb250YWluZXJQYXltZW50IiwiaGlkZGVuSW5wdXRzIiwidmFsaWRhdGVBbGxJbnB1dHMiLCJlcnJvckdsb2JhbCIsInJlbW92ZSIsInN0b3BJbW1lZGlhdGVQcm9wYWdhdGlvbiIsImVycm9ycyIsImFkZCIsInJhZGlvYnV0dG9uc0luRm9ybSIsInJlcXVpcmVkSW5wdXRzIiwiY29uY2F0IiwiZGVsaXZlcnlTZWxlY3RlZCIsIm91dEJvdW5kQnRuIiwiaW5wdXRzIiwieCIsImlucHV0IiwidHlwZSIsIl9pbml0Q2hlY2tCb3hlcyIsIl9pbml0TnVtYmVyIiwiX2luaXRJbnB1dCIsInNpbXBsZUJ0biIsInN1Ym1pdCIsInZhbGlkYXRlSW5wdXQiLCJnZXRBdHRyaWJ1dGUiLCJmaWVsZE5hbWUiLCJzdWJzdHIiLCJjb21wYXJlRmllbGQiLCJjbG9zZXN0Iiwic2V0QXR0cmlidXRlIiwiY2hlY2tib3giLCJ2YWxpZGF0ZUNoZWNrYm94IiwidGFyZ2V0IiwibnVtYmVyIiwiYXJyIiwiaXRlbSIsImlnbm9yZUlucHV0cyIsImlucHV0VGV4dCIsImJ1dHRvbiIsImludmFsaWRDb3VudCIsImoiLCJ0b1JlbW92ZSIsInNwbGljZSIsIkRPTSIsImlucHV0VmFsdWUiLCJkaXNwbGF5RXJyb3IiLCJwYXJzZUludCIsInZhbGlkYXRlVGV4dCIsInZhbGlkYXRpb24iLCJ2YWxpZGF0ZVNpbWlsYXIiLCJoYXNBdHRyaWJ1dGUiLCJoaWRlRXJyb3IiLCJ2YWxpZGF0ZU1hbmRhdG9yeSIsInZhbGlkYXRlQW1vdW50IiwiY2hlY2tlZCIsImlzUmVnZXgiLCJpc0xlbmd0aCIsIkRPTTEiLCJET00yIiwibWVzc2FnZUF0dHJpYnV0ZSIsImlucHV0TmFtZSIsImVycm9yTWVzc2FnZSIsImVycm9yU3BhbiIsImlubmVyVGV4dCIsImlubmVySFRNTCIsImFueV9zZWxlY3RlZCIsImRlbGl2ZXJ5b3B0aW9uIiwibGFiZWxzIiwibGFiZWwiLCJlcnJvcl9kZWxpdmVyeV9vcHRpb24iLCJuZXdOdW1iZXIiLCJsYW5ndWFnZSIsImN1cnJlbmN5IiwiY3VycmVuY3lTeW1ib2xOZWVkbGUiLCJnZXRDdXJyZW5jeVN5bWJvbCIsImZvcm1hdHRlZE51bWJlciIsIkludGwiLCJOdW1iZXJGb3JtYXQiLCJzdHlsZSIsImZvcm1hdCIsInBhcnNlRmxvYXQiLCJ0b0ZpeGVkIiwibG9jYWxlIiwidG9Mb2NhbGVTdHJpbmciLCJtaW5pbXVtRnJhY3Rpb25EaWdpdHMiLCJtYXhpbXVtRnJhY3Rpb25EaWdpdHMiLCJ0YXJnZXROb2RlIiwiTXV0YXRpb25PYnNlcnZlciIsIm11dGF0aW9uc0xpc3QiLCJvYnNlcnZlciIsIm11dGF0aW9uIiwiYWRkZWROb2RlcyIsIm9ic2VydmUiLCJhdHRyaWJ1dGVzIiwiY2hpbGRMaXN0Iiwic3VidHJlZSJdLCJtYXBwaW5ncyI6ImFBQ0UsSUFBSUEsRUFBbUIsR0FHdkIsU0FBU0MsRUFBb0JDLEdBRzVCLEdBQUdGLEVBQWlCRSxHQUNuQixPQUFPRixFQUFpQkUsR0FBVUMsUUFHbkMsSUFBSUMsRUFBU0osRUFBaUJFLEdBQVksQ0FDekNHLEVBQUdILEVBQ0hJLEdBQUcsRUFDSEgsUUFBUyxJQVVWLE9BTkFJLEVBQVFMLEdB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LEVBQWMzSSxPQUFRekMsSUFBSyxDQUMxQyxJQUFNc0wsRUFBV0YsRUFBY3BMLEdBRVQsY0FBbEJzTCxFQUFTekUsTUFBd0J5RSxFQUFTQyxXQUFXOUksT0FBUyxHQUUzRDZJLEVBQVMxRCxPQUFPbkMsVUFBVUMsU0FBUyxnQkFDbEM0RixFQUFTMUQsT0FBT25DLFVBQVVDLFNBQVMsaUJBQ25DNEYsRUFBUzFELE9BQU9uQyxVQUFVQyxTQUFTLGVBRS9CLElBQUl6QixNQVVmdUgsUUFBUU4sRUF4QkYsQ0FBRU8sWUFBWSxFQUFPQyxXQUFXLEVBQU1DLFNBQVMiLCJmaWxlIjoiZm9ybS12YWxpZGF0b3IuanMiLCJzb3VyY2VzQ29udGVudCI6WyIgXHQvLyBUaGUgbW9kdWxlIGNhY2hlXG4gXHR2YXIgaW5zdGFsbGVkTW9kdWxlcyA9IHt9O1xuXG4gXHQvLyBUaGUgcmVxdWlyZSBmdW5jdGlvblxuIFx0ZnVuY3Rpb24gX193ZWJwYWNrX3JlcXVpcmVfXyhtb2R1bGVJZCkge1xuXG4gXHRcdC8vIENoZWNrIGlmIG1vZHVsZSBpcyBpbiBjYWNoZVxuIFx0XHRpZihpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSkge1xuIFx0XHRcdHJldHVybiBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXS5leHBvcnRzO1xuIFx0XHR9XG4gXHRcdC8vIENyZWF0ZSBhIG5ldyBtb2R1bGUgKGFuZCBwdXQgaXQgaW50byB0aGUgY2FjaGUpXG4gXHRcdHZhciBtb2R1bGUgPSBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSA9IHtcbiBcdFx0XHRpOiBtb2R1bGVJZCxcbiBcdFx0XHRsOiBmYWxzZSxcbiBcdFx0XHRleHBvcnRzOiB7fVxuIFx0XHR9O1xuXG4gXHRcdC8vIEV4ZWN1dGUgdGhlIG1vZHVsZSBmdW5jdGlvblxuIFx0XHRtb2R1bGVzW21vZHVsZUlkXS5jYWxsKG1vZHVsZS5leHBvcnRzLCBtb2R1bGUsIG1vZHVsZS5leHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKTtcblxuIFx0XHQvLyBGbGFnIHRoZSBtb2R1bGUgYXMgbG9hZGVkXG4gXHRcdG1vZHVsZS5sID0gdHJ1ZTtcblxuIFx0XHQvLyBSZXR1cm4gdGhlIGV4cG9ydHMgb2YgdGhlIG1vZHVsZVxuIFx0XHRyZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG4gXHR9XG5cblxuIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGVzIG9iamVjdCAoX193ZWJwYWNrX21vZHVsZXNfXylcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubSA9IG1vZHVsZXM7XG5cbiBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlIGNhY2hlXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmMgPSBpbnN0YWxsZWRNb2R1bGVzO1xuXG4gXHQvLyBkZWZpbmUgZ2V0dGVyIGZ1bmN0aW9uIGZvciBoYXJtb255IGV4cG9ydHNcbiBcdF9fd2VicGFja19yZXF1aXJlX18uZCA9IGZ1bmN0aW9uKGV4cG9ydHMsIG5hbWUsIGdldHRlcikge1xuIFx0XHRpZighX193ZWJwYWNrX3JlcXVpcmVfXy5vKGV4cG9ydHMsIG5hbWUpKSB7XG4gXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIG5hbWUsIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBnZXR0ZXIgfSk7XG4gXHRcdH1cbiBcdH07XG5cbiBcdC8vIGRlZmluZSBfX2VzTW9kdWxlIG9uIGV4cG9ydHNcbiBcdF9fd2VicGFja19yZXF1aXJlX18uciA9IGZ1bmN0aW9uKGV4cG9ydHMpIHtcbiBcdFx0aWYodHlwZW9mIFN5bWJvbCAhPT0gJ3VuZGVmaW5lZCcgJiYgU3ltYm9sLnRvU3RyaW5nVGFnKSB7XG4gXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFN5bWJvbC50b1N0cmluZ1RhZywgeyB2YWx1ZTogJ01vZHVsZScgfSk7XG4gXHRcdH1cbiBcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdfX2VzTW9kdWxlJywgeyB2YWx1ZTogdHJ1ZSB9KTtcbiBcdH07XG5cbiBcdC8vIGNyZWF0ZSBhIGZha2UgbmFtZXNwYWNlIG9iamVjdFxuIFx0Ly8gbW9kZSAmIDE6IHZhbHVlIGlzIGEgbW9kdWxlIGlkLCByZXF1aXJlIGl0XG4gXHQvLyBtb2RlICYgMjogbWVyZ2UgYWxsIHByb3BlcnRpZXMgb2YgdmFsdWUgaW50byB0aGUgbnNcbiBcdC8vIG1vZGUgJiA0OiByZXR1cm4gdmFsdWUgd2hlbiBhbHJlYWR5IG5zIG9iamVjdFxuIFx0Ly8gbW9kZSAmIDh8MTogYmVoYXZlIGxpa2UgcmVxdWlyZVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy50ID0gZnVuY3Rpb24odmFsdWUsIG1vZGUpIHtcbiBcdFx0aWYobW9kZSAmIDEpIHZhbHVlID0gX193ZWJwYWNrX3JlcXVpcmVfXyh2YWx1ZSk7XG4gXHRcdGlmKG1vZGUgJiA4KSByZXR1cm4gdmFsdWU7XG4gXHRcdGlmKChtb2RlICYgNCkgJiYgdHlwZW9mIHZhbHVlID09PSAnb2JqZWN0JyAmJiB2YWx1ZSAmJiB2YWx1ZS5fX2VzTW9kdWxlKSByZXR1cm4gdmFsdWU7XG4gXHRcdHZhciBucyA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG4gXHRcdF9fd2VicGFja19yZXF1aXJlX18ucihucyk7XG4gXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShucywgJ2RlZmF1bHQnLCB7IGVudW1lcmFibGU6IHRydWUsIHZhbHVlOiB2YWx1ZSB9KTtcbiBcdFx0aWYobW9kZSAmIDIgJiYgdHlwZW9mIHZhbHVlICE9ICdzdHJpbmcnKSBmb3IodmFyIGtleSBpbiB2YWx1ZSkgX193ZWJwYWNrX3JlcXVpcmVfXy5kKG5zLCBrZXksIGZ1bmN0aW9uKGtleSkgeyByZXR1cm4gdmFsdWVba2V5XTsgfS5iaW5kKG51bGwsIGtleSkpO1xuIFx0XHRyZXR1cm4gbnM7XG4gXHR9O1xuXG4gXHQvLyBnZXREZWZhdWx0RXhwb3J0IGZ1bmN0aW9uIGZvciBjb21wYXRpYmlsaXR5IHdpdGggbm9uLWhhcm1vbnkgbW9kdWxlc1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5uID0gZnVuY3Rpb24obW9kdWxlKSB7XG4gXHRcdHZhciBnZXR0ZXIgPSBtb2R1bGUgJiYgbW9kdWxlLl9fZXNNb2R1bGUgP1xuIFx0XHRcdGZ1bmN0aW9uIGdldERlZmF1bHQoKSB7IHJldHVybiBtb2R1bGVbJ2RlZmF1bHQnXTsgfSA6XG4gXHRcdFx0ZnVuY3Rpb24gZ2V0TW9kdWxlRXhwb3J0cygpIHsgcmV0dXJuIG1vZHVsZTsgfTtcbiBcdFx0X193ZWJwYWNrX3JlcXVpcmVfXy5kKGdldHRlciwgJ2EnLCBnZXR0ZXIpO1xuIFx0XHRyZXR1cm4gZ2V0dGVyO1xuIFx0fTtcblxuIFx0Ly8gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm8gPSBmdW5jdGlvbihvYmplY3QsIHByb3BlcnR5KSB7IHJldHVybiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqZWN0LCBwcm9wZXJ0eSk7IH07XG5cbiBcdC8vIF9fd2VicGFja19wdWJsaWNfcGF0aF9fXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnAgPSBcIlwiO1xuXG5cbiBcdC8vIExvYWQgZW50cnkgbW9kdWxlIGFuZCByZXR1cm4gZXhwb3J0c1xuIFx0cmV0dXJuIF9fd2VicGFja19yZXF1aXJlX18oX193ZWJwYWNrX3JlcXVpcmVfXy5zID0gMjcpO1xuIiwiY29uc3Qgc3BlY2lhbENoYXJhY3RlcnMgPSBbJy8nXTtcclxuXHJcbmV4cG9ydCBjb25zdCBTdHJpbmdVdGlscyA9IHtcclxuICAgIHRyaW06IChzdHJpbmcpID0+IHtcclxuICAgICAgICBsZXQgbmV3U3RyaW5nID0gc3RyaW5nLnJlcGxhY2UoL1xccy9nLCBcIlwiKTtcclxuXHJcbiAgICAgICAgcmV0dXJuIG5ld1N0cmluZzsgXHJcbiAgICB9LFxyXG5cclxuICAgIHJlcGxhY2U6IChzdHJpbmcsIHRvUmVwbGFjZSwgcmVwbGFjZVdpdGgpID0+IHtcclxuICAgICAgICBsZXQgbmV3U3RyaW5nID0gc3RyaW5nLnJlcGxhY2UodG9SZXBsYWNlLCByZXBsYWNlV2l0aCk7XHJcblxyXG4gICAgICAgIHJldHVybiBuZXdTdHJpbmc7IFxyXG4gICAgfSxcclxuXHJcbiAgICByZXBsYWNlU3BlY2lhbENoYXI6IChzdHJpbmcpID0+IHtcclxuICAgICAgICBsZXQgbmV3U3RyaW5nID0gc3RyaW5nO1xyXG5cclxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHNwZWNpYWxDaGFyYWN0ZXJzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IGNoYXIgPSBzcGVjaWFsQ2hhcmFjdGVyc1tpXTtcclxuICAgICAgICAgICAgbmV3U3RyaW5nID0gbmV3U3RyaW5nLnJlcGxhY2UoY2hhciwgXCItXCIpO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gbmV3U3RyaW5nO1xyXG4gICAgfSxcclxuXHJcbiAgICBjbGVhbkZpbHRlckNhdGVnb3J5OiAoc3RyaW5nKSA9PiB7XHJcbiAgICAgICAgcmV0dXJuIFN0cmluZ1V0aWxzLnJlcGxhY2VTcGVjaWFsQ2hhcihTdHJpbmdVdGlscy50cmltKHN0cmluZykpLnRvTG93ZXJDYXNlKCk7XHJcbiAgICB9LFxyXG5cclxuICAgIHRvRGF0YVNlbGVjdG9yOiAoc3RyaW5nKSA9PiB7XHJcbiAgICAgICAgbGV0IG5ld1N0cmluZyA9IFN0cmluZ1V0aWxzLmNsZWFuRmlsdGVyQ2F0ZWdvcnkoc3RyaW5nKSxcclxuICAgICAgICAgICAgZmlyc3RDaGFyID0gbmV3U3RyaW5nWzBdLnRvVXBwZXJDYXNlKCksXHJcbiAgICAgICAgICAgIHByZWZpeCA9ICdzZWxlY3RlZCc7XHJcblxyXG4gICAgICAgIGlmKFN0cmluZ1V0aWxzLmZpbmRDaGFyKCctJywgbmV3U3RyaW5nKSl7XHJcbiAgICAgICAgICAgIGxldCBzcGVjaWFsSW5kZXggPSBuZXdTdHJpbmcuaW5kZXhPZignLScpLFxyXG4gICAgICAgICAgICAgICAgbmV4dENoYXJJbmRleCA9IHNwZWNpYWxJbmRleCArIDEsXHJcbiAgICAgICAgICAgICAgICBuZXh0Q2hhciA9IG5ld1N0cmluZ1tuZXh0Q2hhckluZGV4XS50b1VwcGVyQ2FzZSgpO1xyXG4gICAgICAgICAgICBcclxuICAgICAgICAgICAgbmV3U3RyaW5nID0gbmV3U3RyaW5nLnNsaWNlKDAsIHNwZWNpYWxJbmRleCkgKyBuZXh0Q2hhciArIG5ld1N0cmluZy5zbGljZShuZXh0Q2hhckluZGV4ICsgMSwgbmV3U3RyaW5nLmxlbmd0aClcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIG5ld1N0cmluZyA9IGZpcnN0Q2hhciArIG5ld1N0cmluZy5zbGljZSgxLCBuZXdTdHJpbmcubGVuZ3RoKTtcclxuXHJcbiAgICAgICAgcmV0dXJuIHByZWZpeCArIG5ld1N0cmluZztcclxuICAgIH0sXHJcblxyXG4gICAgZmluZENoYXI6IChjaGFyLCBzdHJpbmcpID0+IHtcclxuICAgICAgICB0cnl7XHJcbiAgICAgICAgICAgIGlmKCEhc3RyaW5nICYmIHR5cGVvZiBzdHJpbmcgPT0gXCJzdHJpbmdcIiAmJiBzdHJpbmcuaW5kZXhPZihjaGFyKSA+IC0xKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0gY2F0Y2ggKGUpIHtcclxuICAgICAgICAgICAgY29uc29sZS5lcnJvcihlKTtcclxuICAgICAgICAgICAgY29uc29sZS5lcnJvcihzdHJpbmcpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgfSxcclxuXHJcbiAgICB0ZXN0UmVnZXg6IChzdHJpbmcsIHJlZ2V4KSA9PiB7XHJcbiAgICAgICAgbGV0IHZhbGlkID0gZmFsc2UsXHJcbiAgICAgICAgICAgIGV4cHJlc3Npb24gPSBuZXcgUmVnRXhwKHJlZ2V4KTtcclxuXHJcbiAgICAgICAgaWYoZXhwcmVzc2lvbi50ZXN0KHN0cmluZykpIHtcclxuICAgICAgICAgICAgdmFsaWQgPSB0cnVlO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcmV0dXJuIHZhbGlkO1xyXG4gICAgfVxyXG4gICAgXHJcbn0iLCJpbXBvcnQgeyBTdHJpbmdVdGlscyB9IGZyb20gXCIuLi9zdHJpbmctdXRpbHNcIjtcclxuXHJcbmNvbnN0ICAgUkVRVUlSRUQgPSAnZGF0YS12YWwtcmVxdWlyZWQnLFxyXG4gICAgICAgIFJFR0VYID0gJ2RhdGEtdmFsLXJlZ2V4LXBhdHRlcm4nLFxyXG4gICAgICAgIFJFR0VYX01TRyA9ICdkYXRhLXZhbC1yZWdleCcsXHJcbiAgICAgICAgU0lNSUxBUiA9ICdkYXRhLXZhbC1zaW1pbGFyJyxcclxuICAgICAgICBGSUVMRF9OQU1FID0gJ2RhdGEtc2MtZmllbGQtbmFtZSc7XHJcblxyXG5leHBvcnQgY2xhc3MgRm9ybVZhbGlkYXRvciB7XHJcbiAgICBjb25zdHJ1Y3RvcigpIHtcclxuICAgICAgICB0aGlzLmZvcm1zID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcImZvcm06bm90KFtpZD0nc2VhcmNoLWZvcm0nXSlcIik7XHJcblxyXG4gICAgICAgIGlmKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5qcy1mb3JtLW5vLWFjdGlvbicpLmxlbmd0aCA+IDApIHtcclxuICAgICAgICAgICAgbGV0IGFsbEZvcm1zID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLmpzLWZvcm0tbm8tYWN0aW9uJyk7XHJcbiAgICAgICAgICAgIFxyXG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGFsbEZvcm1zLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBmb3JtID0gYWxsRm9ybXNbaV07XHJcbiAgICAgICAgICAgICAgICBmb3JtLnJlbW92ZUF0dHJpYnV0ZSgnYWN0aW9uJyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmKHRoaXMuZm9ybXMubGVuZ3RoID4gMCkge1xyXG4gICAgICAgICAgICB0aGlzLl9pbml0KCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIF9pbml0KCkge1xyXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5mb3Jtcy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICBjb25zdCAgIGZvcm0gPSB0aGlzLmZvcm1zW2ldLFxyXG4gICAgICAgICAgICAgICAgICAgIHN1Ym1pdEJ0biA9IGZvcm0ucXVlcnlTZWxlY3RvcignaW5wdXRbdHlwZT1cInN1Ym1pdFwiXScpLFxyXG4gICAgICAgICAgICAgICAgICAgIGFqYXhCdG4gPSAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcihgLmZvcm0taW5wdXRfX2J1dHRvbi4ke2Zvcm0ucGFyZW50Tm9kZS5kYXRhc2V0LmZvcm1JZGVudGlmaWNhdGlvbn1gKTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMuX2luaXRJbnB1dHMoZm9ybSwgYWpheEJ0biwgc3VibWl0QnRuKTtcclxuICAgICAgICAgICAgdGhpcy5faW5pdFNpbXBsZUJ0bihhamF4QnRuLCBmb3JtKTtcclxuICAgICAgICAgICAgdGhpcy5faW5pdFN1Ym1pdChzdWJtaXRCdG4sIGZvcm0pO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBfaW5pdFN1Ym1pdChidG4sIGZvcm0pIHtcclxuICAgICAgICBpZihidG4gIT09IG51bGwpe1xyXG4gICAgICAgICAgICBidG4uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoZSkgPT4ge1xyXG4gICAgICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICAgICAgICAgICAgbGV0IGlucHV0VG9JZ25vcmUgPSBbXSxcclxuICAgICAgICAgICAgICAgICAgICBpbnB1dFRleHRzID0gZm9ybS5xdWVyeVNlbGVjdG9yQWxsKCdpbnB1dFt0eXBlPVwidGV4dFwiXSxpbnB1dFt0eXBlPVwidGVsXCJdLGlucHV0W3R5cGU9XCJudW1iZXJcIl0saW5wdXRbdHlwZT1cImVtYWlsXCJdLGlucHV0W3R5cGU9XCJwYXNzd29yZFwiXSx0ZXh0YXJlYScpLFxyXG4gICAgICAgICAgICAgICAgICAgIGNoZWNrYm94ZXMgPSBmb3JtLnF1ZXJ5U2VsZWN0b3JBbGwoJ2lucHV0W3R5cGU9XCJjaGVja2JveFwiXScpO1xyXG4gICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICBpZihmb3JtLnBhcmVudE5vZGUuY2xhc3NMaXN0LmNvbnRhaW5zKFwiY2hlY2tvdXQtcGF5bWVudF9fcmlnaHQtZm9ybVwiKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmKGZvcm0ucXVlcnlTZWxlY3RvckFsbChcIi5qcy1hY3QtcGF5bWVudC1tZXRob2RcIikubGVuZ3RoID4gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBsZXQgcGF5bWVudE1ldGhvZHMgPSBmb3JtLnF1ZXJ5U2VsZWN0b3JBbGwoXCIuanMtYWN0LXBheW1lbnQtbWV0aG9kXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBbXS5mb3JFYWNoLmNhbGwocGF5bWVudE1ldGhvZHMsIGZ1bmN0aW9uKGNvbnRhaW5lclBheW1lbnQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCBoaWRkZW5JbnB1dHMgPSBjb250YWluZXJQYXltZW50LnF1ZXJ5U2VsZWN0b3JBbGwoYGlucHV0WyR7UkVRVUlSRUR9XSx0ZXh0YXJlYVske1JFUVVJUkVEfV1gKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmKGNvbnRhaW5lclBheW1lbnQuY2xhc3NMaXN0LmNvbnRhaW5zKFwiaGlkZVwiKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICYmIGhpZGRlbklucHV0cy5sZW5ndGggPiAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaW5wdXRUb0lnbm9yZSA9IFtdLnNsaWNlLmNhbGwoaGlkZGVuSW5wdXRzLCAwKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgY29uc3QgdmFsaWQgPSB0aGlzLnZhbGlkYXRlQWxsSW5wdXRzKGlucHV0VG9JZ25vcmUsIGlucHV0VGV4dHMsIGNoZWNrYm94ZXMsIGJ0bi5wYXJlbnROb2RlKTtcclxuXHJcbiAgICAgICAgICAgICAgICBpZighdmFsaWQpIHtcclxuICAgICAgICAgICAgICAgICAgICBlLnN0b3BJbW1lZGlhdGVQcm9wYWdhdGlvbigpO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmKGZvcm0uY2xhc3NMaXN0LmNvbnRhaW5zKFwicmV2aWV3LW92ZXJsYXlfX2Zvcm1cIikpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgZXJyb3JzID0gZm9ybS5xdWVyeVNlbGVjdG9yQWxsKFwiLmZvcm0taW5wdXRfX2Vycm9yXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBmb3IodmFyIGk9MDsgaTxlcnJvcnMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVycm9yc1tpXS5jbGFzc0xpc3QuYWRkKFwiaGlkZVwiKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBlcnJvckdsb2JhbCA9IGZvcm0ucXVlcnlTZWxlY3RvcihcIi5mb3JtLWlucHV0X19lcnJvci0tZ2xvYmFsXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZihlcnJvckdsb2JhbCAhPT0gbnVsbCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZXJyb3JHbG9iYWwuY2xhc3NMaXN0LmFkZChcInNob3dcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmKGZvcm0uY2xhc3NMaXN0LmNvbnRhaW5zKFwicmV2aWV3LW92ZXJsYXlfX2Zvcm1cIikpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgZXJyb3JHbG9iYWwgPSBmb3JtLnF1ZXJ5U2VsZWN0b3IoXCIuZm9ybS1pbnB1dF9fZXJyb3ItLWdsb2JhbFwiKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYoZXJyb3JHbG9iYWwgIT09IG51bGwpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVycm9yR2xvYmFsLmNsYXNzTGlzdC5yZW1vdmUoXCJzaG93XCIpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBfaW5pdFNpbXBsZUJ0bihidG4sIGZvcm0pIHtcclxuICAgICAgICBpZihidG4gIT09IG51bGwpIHtcclxuICAgICAgICAgICAgYnRuLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKGUpID0+IHtcclxuICAgICAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgICAgICAgICAgIGlmKCFidG4uY2xhc3NMaXN0LmNvbnRhaW5zKFwiaGVhZGVyX19zZWFyY2hcIikpIHtcclxuICAgICAgICAgICAgICAgICAgICBsZXQgaW5wdXRUb0lnbm9yZSA9IFtdLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpbnB1dFRleHRzID0gZm9ybS5xdWVyeVNlbGVjdG9yQWxsKCdpbnB1dFt0eXBlPVwidGV4dFwiXSxpbnB1dFt0eXBlPVwidGVsXCJdLGlucHV0W3R5cGU9XCJudW1iZXJcIl0saW5wdXRbdHlwZT1cImVtYWlsXCJdLGlucHV0W3R5cGU9XCJwYXNzd29yZFwiXSx0ZXh0YXJlYScpLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBjaGVja2JveGVzID0gZm9ybS5xdWVyeVNlbGVjdG9yQWxsKCdpbnB1dFt0eXBlPVwiY2hlY2tib3hcIl0nKSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmFkaW9idXR0b25zSW5Gb3JtID0gZm9ybS5xdWVyeVNlbGVjdG9yQWxsKCdpbnB1dFt0eXBlPVwicmFkaW9cIl1bbmFtZT1cImRlbGl2ZXJ5X29wdGlvblwiXScpXHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGlmKGZvcm0ucGFyZW50Tm9kZS5jbGFzc0xpc3QuY29udGFpbnMoXCJjaGVja291dC1wYXltZW50X19yaWdodC1mb3JtXCIpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmKGZvcm0ucXVlcnlTZWxlY3RvckFsbChcIi5qcy1hY3QtcGF5bWVudC1tZXRob2RcIikubGVuZ3RoID4gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgcGF5bWVudE1ldGhvZHMgPSBmb3JtLnF1ZXJ5U2VsZWN0b3JBbGwoXCIuanMtYWN0LXBheW1lbnQtbWV0aG9kXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgW10uZm9yRWFjaC5jYWxsKHBheW1lbnRNZXRob2RzLCBmdW5jdGlvbihjb250YWluZXJQYXltZW50KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYoIGNvbnRhaW5lclBheW1lbnQuY2xhc3NMaXN0LmNvbnRhaW5zKFwiaGlkZVwiKSBcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJiYgY29udGFpbmVyUGF5bWVudC5xdWVyeVNlbGVjdG9yQWxsKGBpbnB1dFske1JFUVVJUkVEfV0sdGV4dGFyZWFbJHtSRVFVSVJFRH1dYCkubGVuZ3RoID4gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbnB1dFRvSWdub3JlID0gW10uc2xpY2UuY2FsbChjb250YWluZXJQYXltZW50LnF1ZXJ5U2VsZWN0b3JBbGwoYGlucHV0WyR7UkVRVUlSRUR9XSx0ZXh0YXJlYVske1JFUVVJUkVEfV1gKSwgMCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGlmKGZvcm0ucXVlcnlTZWxlY3RvcihcIi5qcy1wYXltZW50LWFkcmVzcy1mb3JtXCIpICE9PSBudWxsKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmKGZvcm0ucXVlcnlTZWxlY3RvcihcIi5qcy1wYXltZW50LWFkcmVzcy1mb3JtXCIpLmNsYXNzTGlzdC5jb250YWlucyhcImFjdGl2ZVwiKSAmJiBmb3JtLnF1ZXJ5U2VsZWN0b3IoXCIuanMtcGF5bWVudC1hZHJlc3MtZm9ybVwiKS5xdWVyeVNlbGVjdG9yQWxsKGBpbnB1dFske1JFUVVJUkVEfV0sdGV4dGFyZWFbJHtSRVFVSVJFRH1dYCkubGVuZ3RoID4gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IHJlcXVpcmVkSW5wdXRzID0gW10uc2xpY2UuY2FsbChmb3JtLnF1ZXJ5U2VsZWN0b3IoXCIuanMtcGF5bWVudC1hZHJlc3MtZm9ybVwiKS5xdWVyeVNlbGVjdG9yQWxsKGBpbnB1dFske1JFUVVJUkVEfV0sdGV4dGFyZWFbJHtSRVFVSVJFRH1dYCksIDApO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaW5wdXRUb0lnbm9yZSA9IHJlcXVpcmVkSW5wdXRzLmNvbmNhdChpbnB1dFRvSWdub3JlKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgbGV0IHZhbGlkID0gdGhpcy52YWxpZGF0ZUFsbElucHV0cyhpbnB1dFRvSWdub3JlLCBpbnB1dFRleHRzLCBjaGVja2JveGVzLCBidG4pO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmKGZvcm0ucGFyZW50Tm9kZS5kYXRhc2V0LmZvcm1JZGVudGlmaWNhdGlvbiA9PT0gXCJkZWxpdmVyeS1mb3JtXCIpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYoIXJhZGlvYnV0dG9uc0luRm9ybS5sZW5ndGggPiAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZighdGhpcy5kZWxpdmVyeVNlbGVjdGVkKCkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWxpZCA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGlmKCF2YWxpZCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBlLnN0b3BJbW1lZGlhdGVQcm9wYWdhdGlvbigpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIF9pbml0SW5wdXRzKGZvcm0sIG91dEJvdW5kQnRuLCBzdWJtaXRCdG4pIHtcclxuICAgICAgICBsZXQgaW5wdXRUZXh0cyA9IGZvcm0ucXVlcnlTZWxlY3RvckFsbCgnaW5wdXRbdHlwZT1cInRleHRcIl0saW5wdXRbdHlwZT1cInRlbFwiXSxpbnB1dFt0eXBlPVwibnVtYmVyXCJdLGlucHV0W3R5cGU9XCJlbWFpbFwiXSxpbnB1dFt0eXBlPVwicGFzc3dvcmRcIl0sdGV4dGFyZWEnKSxcclxuICAgICAgICAgICAgY2hlY2tib3hlcyA9IGZvcm0ucXVlcnlTZWxlY3RvckFsbCgnaW5wdXRbdHlwZT1cImNoZWNrYm94XCJdJyksXHJcbiAgICAgICAgICAgIGlucHV0cyA9IFtdLmNvbmNhdChbXS5zbGljZS5jYWxsKGlucHV0VGV4dHMsMCksIFtdLnNsaWNlLmNhbGwoY2hlY2tib3hlcywwKSk7XHJcblxyXG4gICAgICAgIGZvcihsZXQgeCA9IDA7IHggPCBpbnB1dHMubGVuZ3RoOyB4KyspIHtcclxuICAgICAgICAgICAgY29uc3QgaW5wdXQgPSBpbnB1dHNbeF07XHJcbiAgICAgICAgICAgIGlmKGlucHV0LnR5cGUgPT09IFwiY2hlY2tib3hcIikge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5faW5pdENoZWNrQm94ZXMoaW5wdXQsIG91dEJvdW5kQnRuLCBzdWJtaXRCdG4pO1xyXG4gICAgICAgICAgICB9IGVsc2UgaWYoaW5wdXQudHlwZSA9PT0gXCJudW1iZXJcIikge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5faW5pdE51bWJlcihpbnB1dCwgb3V0Qm91bmRCdG4sIHN1Ym1pdEJ0bilcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuX2luaXRJbnB1dChpbnB1dCwgb3V0Qm91bmRCdG4sIHN1Ym1pdEJ0bilcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBfaW5pdElucHV0KGlucHV0LCBzaW1wbGVCdG4sIHN1Ym1pdCkge1xyXG4gICAgICAgIGlucHV0LmFkZEV2ZW50TGlzdGVuZXIoJ2JsdXInLCAoZSkgPT4ge1xyXG4gICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XHJcblxyXG4gICAgICAgICAgICBpZihzaW1wbGVCdG4gIT09IG51bGwpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMudmFsaWRhdGVJbnB1dChpbnB1dCwgc2ltcGxlQnRuKTtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIGlmKCEhc3VibWl0KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy52YWxpZGF0ZUlucHV0KGlucHV0LCBzdWJtaXQucGFyZW50Tm9kZSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgaWYoU3RyaW5nVXRpbHMuZmluZENoYXIoXCJDb25maXJtXCIsIGlucHV0LmdldEF0dHJpYnV0ZShGSUVMRF9OQU1FKSkpIHtcclxuICAgICAgICAgICAgbGV0IGZpZWxkTmFtZSA9IGlucHV0LmdldEF0dHJpYnV0ZShGSUVMRF9OQU1FKS5zdWJzdHIoXCJDb25maXJtXCIubGVuZ3RoKSxcclxuICAgICAgICAgICAgICAgIGNvbXBhcmVGaWVsZCA9IGlucHV0LmNsb3Nlc3QoXCJmb3JtXCIpLnF1ZXJ5U2VsZWN0b3IoYGlucHV0WyR7RklFTERfTkFNRX09JyR7ZmllbGROYW1lfSddYCk7XHJcblxyXG4gICAgICAgICAgICBpZighIWNvbXBhcmVGaWVsZCkge1xyXG4gICAgICAgICAgICAgICAgaWYoY29tcGFyZUZpZWxkLnZhbHVlLmxlbmd0aCA8IDEpIHtcclxuICAgICAgICAgICAgICAgICAgICBpbnB1dC5zZXRBdHRyaWJ1dGUoXCJkaXNhYmxlZFwiLCB0cnVlKTtcclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICBjb21wYXJlRmllbGQuYWRkRXZlbnRMaXN0ZW5lcihcImNoYW5nZVwiLCAoZSk9PntcclxuICAgICAgICAgICAgICAgICAgICBpZihjb21wYXJlRmllbGQudmFsdWUubGVuZ3RoIDwgMSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpbnB1dC5zZXRBdHRyaWJ1dGUoXCJkaXNhYmxlZFwiLCB0cnVlKTtcclxuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpbnB1dC5yZW1vdmVBdHRyaWJ1dGUoXCJkaXNhYmxlZFwiKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIF9pbml0Q2hlY2tCb3hlcyhjaGVja2JveCwgc2ltcGxlQnRuLCBzdWJtaXQpIHtcclxuICAgICAgICBjaGVja2JveC5hZGRFdmVudExpc3RlbmVyKCdjaGFuZ2UnLCAoZSkgPT4ge1xyXG4gICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAgICAgICAgIGlmKHNpbXBsZUJ0biAhPT0gbnVsbCkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy52YWxpZGF0ZUNoZWNrYm94KGNoZWNrYm94LCBzaW1wbGVCdG4pO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgdGhpcy52YWxpZGF0ZUNoZWNrYm94KGNoZWNrYm94LCBzdWJtaXQucGFyZW50Tm9kZSk7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGlmKGUudGFyZ2V0LmdldEF0dHJpYnV0ZShGSUVMRF9OQU1FKSA9PT0gXCJwYXltZW50X2FkcmVzc1wiKSB7XHJcbiAgICAgICAgICAgICAgICBpZihkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmNoZWNrb3V0LXBheW1lbnRfX2dvLXRvLXJldmlld1wiKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuY2hlY2tvdXQtcGF5bWVudF9fZ28tdG8tcmV2aWV3XCIpLmNsYXNzTGlzdC5yZW1vdmUoXCJub3R2YWxpZFwiKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pXHJcbiAgICB9XHJcblxyXG4gICAgX2luaXROdW1iZXIobnVtYmVyLCBzaW1wbGVCdG4gPSBudWxsLCBzdWJtaXQgPSBudWxsKSB7XHJcblxyXG4gICAgICAgIG51bWJlci5hZGRFdmVudExpc3RlbmVyKCdjaGFuZ2UnLCAoZSkgPT4ge1xyXG4gICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XHJcblxyXG4gICAgICAgICAgICBpZihzaW1wbGVCdG4gIT09IG51bGwpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMudmFsaWRhdGVJbnB1dChudW1iZXIsIHNpbXBsZUJ0bik7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnZhbGlkYXRlSW5wdXQobnVtYmVyLCBzdWJtaXQucGFyZW50Tm9kZSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KVxyXG4gICAgfVxyXG5cclxuICAgIGNvbnRhaW5zKGFycixpdGVtKSB7XHJcbiAgICAgICAgZm9yKGxldCBpPTA7IGk8YXJyLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgIGlmKGFycltpXS5uYW1lID09PSBpdGVtLm5hbWUpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiAtMTtcclxuICAgIH1cclxuXHJcbiAgICB2YWxpZGF0ZUFsbElucHV0cyhpZ25vcmVJbnB1dHMsIGlucHV0VGV4dCA9IFtdLCBjaGVja2JveGVzID0gW10sIGJ1dHRvbikge1xyXG4gICAgICAgIGxldCBpbnZhbGlkQ291bnQgPSAwLFxyXG4gICAgICAgICAgICBpbnB1dHMgPSBbXS5jb25jYXQoW10uc2xpY2UuY2FsbChpbnB1dFRleHQsMCksIFtdLnNsaWNlLmNhbGwoY2hlY2tib3hlcywwKSk7XHJcblxyXG4gICAgICAgIGZvciAobGV0IGogPSAwOyBqIDwgaW5wdXRzLmxlbmd0aDsgaisrKSB7XHJcbiAgICAgICAgICAgIGNvbnN0ICAgaW5wdXQgPSBpbnB1dHNbal0sXHJcbiAgICAgICAgICAgICAgICAgICAgdG9SZW1vdmUgPSB0aGlzLmNvbnRhaW5zKGlnbm9yZUlucHV0cyxpbnB1dCk7XHJcblxyXG4gICAgICAgICAgICBpZih0b1JlbW92ZSA+IC0xKSB7XHJcbiAgICAgICAgICAgICAgICBpZ25vcmVJbnB1dHMuc3BsaWNlKHRvUmVtb3ZlLDEpO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgaWYoIXRoaXMudmFsaWRhdGVJbnB1dChpbnB1dCwgYnV0dG9uKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGludmFsaWRDb3VudCsrO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiggISFjaGVja2JveGVzICYmICEhY2hlY2tib3hlcy5sZW5ndGgpIHtcclxuICAgICAgICAgICAgZm9yIChsZXQgaiA9IDA7IGogPCBjaGVja2JveGVzLmxlbmd0aDsgaisrKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBjaGVja2JveCA9IGNoZWNrYm94ZXNbal07XHJcbiAgICAgICAgICAgICAgICBsZXQgdG9SZW1vdmUgPSB0aGlzLmNvbnRhaW5zKGlnbm9yZUlucHV0cyxjaGVja2JveCk7XHJcblxyXG4gICAgICAgICAgICAgICAgaWYodG9SZW1vdmUgPiAtMSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlnbm9yZUlucHV0cy5zcGxpY2UodG9SZW1vdmUsMSk7XHJcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmKCF0aGlzLnZhbGlkYXRlQ2hlY2tib3goY2hlY2tib3gsIGJ1dHRvbikpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaW52YWxpZENvdW50Kys7XHJcbiAgICAgICAgICAgICAgICAgICAgfSBcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYoaW52YWxpZENvdW50PjApIHtcclxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICB2YWxpZGF0ZU1hbmRhdG9yeShET00pIHtcclxuICAgICAgICBpZiggRE9NICE9PSBudWxsIFxyXG4gICAgICAgICAgICAmJiBET00uZ2V0QXR0cmlidXRlKCdkaXNhYmxlZCcpICE9PSAndHJ1ZScpIHtcclxuICAgICAgICAgICAgbGV0IGlucHV0VmFsdWUgPSBET00udmFsdWUsXHJcbiAgICAgICAgICAgICAgICBub1NwYWNlID0gU3RyaW5nVXRpbHMudHJpbShpbnB1dFZhbHVlKSxcclxuICAgICAgICAgICAgICAgIHZhbGlkID0gZmFsc2U7XHJcblxyXG4gICAgICAgICAgICBpZihub1NwYWNlLmxlbmd0aCA9PSAwKSB7XHJcbiAgICAgICAgICAgICAgICB2YWxpZCA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5kaXNwbGF5RXJyb3IoRE9NLCBSRVFVSVJFRCk7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdmFsaWQ7XHJcbiAgICAgICAgICAgIH0gZWxzZSBpZihET00udHlwZSA9PT0gXCJudW1iZXJcIikge1xyXG4gICAgICAgICAgICAgICAgaWYocGFyc2VJbnQoaW5wdXRWYWx1ZSk8MSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhbGlkID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5kaXNwbGF5RXJyb3IoRE9NLCBSRVFVSVJFRCk7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHZhbGlkO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBpZih0aGlzLnZhbGlkYXRlVGV4dChET00pKSB7XHJcbiAgICAgICAgICAgICAgICB2YWxpZCA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdmFsaWQ7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIHJldHVybiB2YWxpZDtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgdmFsaWRhdGVJbnB1dChpbnB1dCwgYnRuKSB7XHJcbiAgICAgICAgbGV0IHZhbGlkYXRpb24gPSBmYWxzZSxcclxuICAgICAgICAgICAgZm9ybSA9IGlucHV0LmNsb3Nlc3QoXCJmb3JtXCIpLFxyXG4gICAgICAgICAgICBpbnZhbGlkQ291bnQgPSBmb3JtLnF1ZXJ5U2VsZWN0b3JBbGwoXCIubm90dmFsaWRcIikubGVuZ3RoO1xyXG4gICAgICAgIFxyXG5cclxuICAgICAgICBpZihTdHJpbmdVdGlscy5maW5kQ2hhcihcIkNvbmZpcm1cIiwgaW5wdXQuZ2V0QXR0cmlidXRlKEZJRUxEX05BTUUpKSkge1xyXG4gICAgICAgICAgICBsZXQgZmllbGROYW1lID0gaW5wdXQuZ2V0QXR0cmlidXRlKEZJRUxEX05BTUUpLnN1YnN0cihcIkNvbmZpcm1cIi5sZW5ndGgpLFxyXG4gICAgICAgICAgICAgICAgdmFsaWQgPSB0aGlzLnZhbGlkYXRlU2ltaWxhcihpbnB1dCwgZm9ybS5xdWVyeVNlbGVjdG9yKGBpbnB1dFske0ZJRUxEX05BTUV9PScke2ZpZWxkTmFtZX0nXWApKTtcclxuXHJcbiAgICAgICAgICAgIGlmKHZhbGlkKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmhpZGVFcnJvcihpbnB1dCk7XHJcbiAgICAgICAgICAgICAgICBpZihpbnZhbGlkQ291bnQgPCAyKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgYnRuLmNsYXNzTGlzdC5yZW1vdmUoXCJub3R2YWxpZFwiKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgaWYoISFidG4ucGFyZW50Tm9kZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBidG4ucGFyZW50Tm9kZS5jbGFzc0xpc3QucmVtb3ZlKFwibm90dmFsaWRcIilcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB2YWxpZGF0aW9uID0gdHJ1ZTtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIGJ0bi5jbGFzc0xpc3QuYWRkKFwibm90dmFsaWRcIik7XHJcblxyXG4gICAgICAgICAgICAgICAgaWYoISFidG4ucGFyZW50Tm9kZSAmJiBidG4ucGFyZW50Tm9kZS5oYXNBdHRyaWJ1dGUoXCJocmVmXCIpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgYnRuLnBhcmVudE5vZGUuY2xhc3NMaXN0LmFkZChcIm5vdHZhbGlkXCIpXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdmFsaWRhdGlvblxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiggaW5wdXQuaGFzQXR0cmlidXRlKFJFUVVJUkVEKSkge1xyXG4gICAgICAgICAgICBsZXQgdmFsaWQgPSB0aGlzLnZhbGlkYXRlTWFuZGF0b3J5KGlucHV0KTtcclxuXHJcbiAgICAgICAgICAgIGlmKHZhbGlkKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmhpZGVFcnJvcihpbnB1dCk7XHJcbiAgICAgICAgICAgICAgICBpZihpbnZhbGlkQ291bnQgPCAyKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgYnRuLmNsYXNzTGlzdC5yZW1vdmUoXCJub3R2YWxpZFwiKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgaWYoISFidG4ucGFyZW50Tm9kZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBidG4ucGFyZW50Tm9kZS5jbGFzc0xpc3QucmVtb3ZlKFwibm90dmFsaWRcIilcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB2YWxpZGF0aW9uID0gdHJ1ZTtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHZhbGlkYXRpb24gPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgIGJ0bi5jbGFzc0xpc3QuYWRkKFwibm90dmFsaWRcIik7XHJcblxyXG4gICAgICAgICAgICAgICAgaWYoISFidG4ucGFyZW50Tm9kZSAmJiBidG4ucGFyZW50Tm9kZS5oYXNBdHRyaWJ1dGUoXCJocmVmXCIpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgYnRuLnBhcmVudE5vZGUuY2xhc3NMaXN0LmFkZChcIm5vdHZhbGlkXCIpXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBsZXQgdmFsaWQgPSB0aGlzLnZhbGlkYXRlVGV4dChpbnB1dCk7XHJcblxyXG4gICAgICAgICAgICBpZih2YWxpZCkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5oaWRlRXJyb3IoaW5wdXQpO1xyXG4gICAgICAgICAgICAgICAgaWYoaW52YWxpZENvdW50IDwgMikge1xyXG4gICAgICAgICAgICAgICAgICAgIGJ0bi5jbGFzc0xpc3QucmVtb3ZlKFwibm90dmFsaWRcIik7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGlmKCEhYnRuLnBhcmVudE5vZGUpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYnRuLnBhcmVudE5vZGUuY2xhc3NMaXN0LnJlbW92ZShcIm5vdHZhbGlkXCIpXHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgdmFsaWRhdGlvbiA9IHRydWU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICB2YWxpZGF0aW9uID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICBidG4uY2xhc3NMaXN0LmFkZChcIm5vdHZhbGlkXCIpO1xyXG5cclxuICAgICAgICAgICAgICAgIGlmKCEhYnRuLnBhcmVudE5vZGUgJiYgYnRuLnBhcmVudE5vZGUuaGFzQXR0cmlidXRlKFwiaHJlZlwiKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGJ0bi5wYXJlbnROb2RlLmNsYXNzTGlzdC5hZGQoXCJub3R2YWxpZFwiKVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiggaW5wdXQuZ2V0QXR0cmlidXRlKEZJRUxEX05BTUUpID09IFwiQW1vdW50XCIpIHtcclxuICAgICAgICAgICAgbGV0IHZhbGlkID0gdGhpcy52YWxpZGF0ZUFtb3VudChpbnB1dCk7XHJcbiAgICAgICAgICAgIFxyXG4gICAgICAgICAgICBpZighaW5wdXQuaGFzQXR0cmlidXRlKFJFUVVJUkVEKSkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5oaWRlRXJyb3IoaW5wdXQpO1xyXG4gICAgICAgICAgICAgICAgaWYoaW52YWxpZENvdW50IDwgMikge1xyXG4gICAgICAgICAgICAgICAgICAgIGJ0bi5jbGFzc0xpc3QucmVtb3ZlKFwibm90dmFsaWRcIik7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGlmKCEhYnRuLnBhcmVudE5vZGUpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYnRuLnBhcmVudE5vZGUuY2xhc3NMaXN0LnJlbW92ZShcIm5vdHZhbGlkXCIpXHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgdmFsaWRhdGlvbiA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdmFsaWRhdGlvblxyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBpZih2YWxpZCkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5oaWRlRXJyb3IoaW5wdXQpO1xyXG4gICAgICAgICAgICAgICAgaWYoaW52YWxpZENvdW50IDwgMikge1xyXG4gICAgICAgICAgICAgICAgICAgIGJ0bi5jbGFzc0xpc3QucmVtb3ZlKFwibm90dmFsaWRcIik7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGlmKCEhYnRuLnBhcmVudE5vZGUpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYnRuLnBhcmVudE5vZGUuY2xhc3NMaXN0LnJlbW92ZShcIm5vdHZhbGlkXCIpXHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgdmFsaWRhdGlvbiA9IHRydWU7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICB2YWxpZGF0aW9uID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICBidG4uY2xhc3NMaXN0LmFkZChcIm5vdHZhbGlkXCIpO1xyXG5cclxuICAgICAgICAgICAgICAgIGlmKCEhYnRuLnBhcmVudE5vZGUgJiYgYnRuLnBhcmVudE5vZGUuaGFzQXR0cmlidXRlKFwiaHJlZlwiKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGJ0bi5wYXJlbnROb2RlLmNsYXNzTGlzdC5hZGQoXCJub3R2YWxpZFwiKVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHZhbGlkYXRpb25cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gdmFsaWRhdGlvbjtcclxuICAgIH1cclxuXHJcbiAgICB2YWxpZGF0ZUNoZWNrYm94KGlucHV0LCBidG4pIHtcclxuICAgICAgICBpZihpbnB1dC5oYXNBdHRyaWJ1dGUoUkVRVUlSRUQpKSB7XHJcbiAgICAgICAgICAgIGlmKGlucHV0LmNoZWNrZWQpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuaGlkZUVycm9yKGlucHV0KTtcclxuICAgICAgICAgICAgICAgIGJ0bi5jbGFzc0xpc3QucmVtb3ZlKFwibm90dmFsaWRcIik7XHJcblxyXG4gICAgICAgICAgICAgICAgaWYoISFidG4ucGFyZW50Tm9kZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGJ0bi5wYXJlbnROb2RlLmNsYXNzTGlzdC5yZW1vdmUoXCJub3R2YWxpZFwiKVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5kaXNwbGF5RXJyb3IoaW5wdXQsIFJFUVVJUkVEKTtcclxuICAgICAgICAgICAgICAgIGJ0bi5jbGFzc0xpc3QuYWRkKFwibm90dmFsaWRcIik7XHJcbiAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICAgIGlmKCEhYnRuLnBhcmVudE5vZGUgJiYgYnRuLnBhcmVudE5vZGUuaGFzQXR0cmlidXRlKFwiaHJlZlwiKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGJ0bi5wYXJlbnROb2RlLmNsYXNzTGlzdC5hZGQoXCJub3R2YWxpZFwiKVxyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICByZXR1cm4gaW5wdXQuY2hlY2tlZDtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgdmFsaWRhdGVUZXh0KERPTSkge1xyXG4gICAgICAgIGlmKERPTSAhPT0gbnVsbCkge1xyXG4gICAgICAgICAgICBjb25zdCAgIGlzUmVnZXggPSBET00uaGFzQXR0cmlidXRlKFJFR0VYKSxcclxuICAgICAgICAgICAgICAgICAgICBpc0xlbmd0aCA9IERPTS5oYXNBdHRyaWJ1dGUoJ2RhdGEtdmFsLWxlbmd0aC1taW4nKSxcclxuICAgICAgICAgICAgICAgICAgICBpbnB1dFZhbHVlID0gRE9NLnZhbHVlO1xyXG4gICAgICAgICAgICBsZXQgdmFsaWQgPSBmYWxzZTtcclxuXHJcbiAgICAgICAgICAgIGlmKGlzUmVnZXgpIHtcclxuICAgICAgICAgICAgICAgIGxldCByZWdleCA9IERPTS5nZXRBdHRyaWJ1dGUoUkVHRVgpO1xyXG4gICAgICAgICAgICAgICAgdmFsaWQgPSBTdHJpbmdVdGlscy50ZXN0UmVnZXgoaW5wdXRWYWx1ZSwgcmVnZXgpO1xyXG4gICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICBpZighdmFsaWQpIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmRpc3BsYXlFcnJvcihET00sIFJFR0VYX01TRylcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdmFsaWQ7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICB2YWxpZCA9IHRydWU7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGlmKGlzTGVuZ3RoKSB7XHJcbiAgICAgICAgICAgICAgICBpZihpbnB1dFZhbHVlLmxlbmd0aCA8IERPTS5nZXRBdHRyaWJ1dGUoJ2RhdGEtdmFsLWxlbmd0aC1taW4nKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhbGlkID0gZmFsc2VcclxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFsaWQgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBpZighdmFsaWQpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuZGlzcGxheUVycm9yKERPTSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcmV0dXJuIHZhbGlkO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICB2YWxpZGF0ZVNpbWlsYXIoRE9NMSA9IG51bGwsIERPTTIgPSBudWxsKSB7XHJcbiAgICAgICAgaWYoICEhRE9NMSAmJiAhIURPTTIgJiZcclxuICAgICAgICAgICAgRE9NMS52YWx1ZSAhPT0gRE9NMi52YWx1ZSkge1xyXG4gICAgICAgICAgICB0aGlzLmRpc3BsYXlFcnJvcihET00xLCBcImRhdGEtdmFsLXJlZ2V4XCIpXHJcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICB9XHJcblxyXG4gICAgZGlzcGxheUVycm9yKERPTSwgbWVzc2FnZUF0dHJpYnV0ZSA9ICdkZWZhdWx0Jykge1xyXG4gICAgICAgIGxldCBpbnB1dE5hbWUgPSBET00uZ2V0QXR0cmlidXRlKCduYW1lJykgfHwgJ251bGwnLFxyXG4gICAgICAgICAgICBlcnJvck1lc3NhZ2UgPSAobWVzc2FnZUF0dHJpYnV0ZSAhPT0gXCJkZWZhdWx0XCIpID8gRE9NLmdldEF0dHJpYnV0ZShtZXNzYWdlQXR0cmlidXRlKSA6IG51bGwsXHJcbiAgICAgICAgICAgIGVycm9yU3BhbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoYHNwYW5bZGF0YS12YWxtc2ctZm9yPVwiJHtpbnB1dE5hbWV9XCJdYCk7XHJcblxyXG4gICAgICAgIGlmKGVycm9yU3BhbiAhPT0gbnVsbCAmJiBlcnJvclNwYW4gIT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICBlcnJvclNwYW4uY2xhc3NMaXN0LmFkZChcImZvcm0taW5wdXRfX2Vycm9yXCIpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYoZXJyb3JTcGFuICE9PSBudWxsICYmIGVycm9yTWVzc2FnZSAhPT0gbnVsbCkge1xyXG4gICAgICAgICAgICBlcnJvclNwYW4uaW5uZXJUZXh0ID0gZXJyb3JNZXNzYWdlO1xyXG4gICAgICAgIH1cclxuICAgICAgICBET00ucGFyZW50Tm9kZS5jbGFzc0xpc3QuYWRkKFwibm90dmFsaWRcIik7XHJcbiAgICB9XHJcblxyXG4gICAgaGlkZUVycm9yKERPTSkge1xyXG4gICAgICAgIGxldCBpbnB1dE5hbWUgPSBET00uZ2V0QXR0cmlidXRlKCduYW1lJyksXHJcbiAgICAgICAgICAgIGVycm9yU3BhbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoYHNwYW5bZGF0YS12YWxtc2ctZm9yPVwiJHtpbnB1dE5hbWV9XCJdYCk7XHJcblxyXG4gICAgICAgIGlmKCEhZXJyb3JTcGFuKSB7XHJcbiAgICAgICAgICAgIGVycm9yU3Bhbi5pbm5lckhUTUwgPSBcIlwiO1xyXG4gICAgICAgIH1cclxuICAgICAgICAvLyBlcnJvclNwYW4uc3R5bGUuY3NzVGV4dCA9IFwiXCI7XHJcbiAgICAgICAgRE9NLnBhcmVudE5vZGUuY2xhc3NMaXN0LnJlbW92ZShcIm5vdHZhbGlkXCIpO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogQ2hlY2sgaWYgYW55IGRlbGl2ZXJ5IG9wdGlvbiBpcyBzZWxlY3RlZFxyXG4gICAgICovXHJcbiAgICBkZWxpdmVyeVNlbGVjdGVkKCkge1xyXG4gICAgICAgIHZhciBhbnlfc2VsZWN0ZWQgPSAwO1xyXG4gICAgICAgIGlmKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5jdXN0b20tcmFkaW9fX2lucHV0JykubGVuZ3RoID4gMCkge1xyXG4gICAgICAgICAgICB2YXIgaW5wdXRzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLmN1c3RvbS1yYWRpb19faW5wdXQnKTtcclxuICAgICAgICAgICAgW10uZm9yRWFjaC5jYWxsKGlucHV0cywgZnVuY3Rpb24oaW5wdXQpIHtcclxuICAgICAgICAgICAgICAgIGlmKGlucHV0LmNoZWNrZWQpIGFueV9zZWxlY3RlZCsrO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYoYW55X3NlbGVjdGVkID09PSAwKSB7XHJcbiAgICAgICAgICAgIHZhciBkZWxpdmVyeW9wdGlvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5kZWxpdmVyeS1vcHRpb24nKTtcclxuICAgICAgICAgICAgdmFyIGxhYmVscyA9KGRlbGl2ZXJ5b3B0aW9uIT1udWxsKT9kZWxpdmVyeW9wdGlvbi5xdWVyeVNlbGVjdG9yQWxsKCcuY3VzdG9tLXJhZGlvX19sYWJlbCcpOm51bGw7XHJcbiAgICAgICAgICAgIGlmKGxhYmVscyAhPSBudWxsKXtcclxuICAgICAgICAgICAgICAgIFtdLmZvckVhY2guY2FsbChsYWJlbHMsIGZ1bmN0aW9uKGxhYmVsKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgbGFiZWwuY2xhc3NMaXN0LmFkZCgnbm90dmFsaWQnKTtcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHZhciBlcnJvcl9kZWxpdmVyeV9vcHRpb24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuZXJyb3ItZGVsaXZlcnlfb3B0aW9uJyk7XHJcbiAgICAgICAgICAgIGlmKGVycm9yX2RlbGl2ZXJ5X29wdGlvbiAhPSBudWxsKSB7XHJcbiAgICAgICAgICAgICAgICBlcnJvcl9kZWxpdmVyeV9vcHRpb24uY2xhc3NMaXN0LnJlbW92ZSgnaGlkZScpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBhbnlfc2VsZWN0ZWQ+MDtcclxuICAgIH1cclxuXHJcbiAgICB2YWxpZGF0ZUFtb3VudCAoRE9NKSB7XHJcbiAgICAgICAgbGV0IG5ld051bWJlciA9IERPTS52YWx1ZSxcclxuICAgICAgICAgICAgbGFuZ3VhZ2UgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiZGl2W2RhdGEtbGFuZ11cIik/LmdldEF0dHJpYnV0ZShcImRhdGEtbGFuZ1wiKSxcclxuICAgICAgICAgICAgY3VycmVuY3kgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiZGl2W2RhdGEtY3VycmVuY3ldXCIpPy5nZXRBdHRyaWJ1dGUoXCJkYXRhLWN1cnJlbmN5XCIpLFxyXG4gICAgICAgICAgICBjdXJyZW5jeVN5bWJvbE5lZWRsZSA9IG5ldyBSZWdFeHAodGhpcy5nZXRDdXJyZW5jeVN5bWJvbChsYW5ndWFnZSwgY3VycmVuY3kpLCBcImdcIik7XHJcblxyXG4gICAgICAgIGlmKFN0cmluZ1V0aWxzLmZpbmRDaGFyKFwiLFwiLCBuZXdOdW1iZXIpKSB7XHJcbiAgICAgICAgICAgIG5ld051bWJlciA9IG5ld051bWJlci5yZXBsYWNlKCcuJywgJycpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYoU3RyaW5nVXRpbHMuZmluZENoYXIoJ2RlLScsIGxhbmd1YWdlKVxyXG4gICAgICAgICAgICAmJiBuZXdOdW1iZXIuaW5kZXhPZignLicpICsgMyA8IG5ld051bWJlci5sZW5ndGgpIHtcclxuICAgICAgICAgICAgbmV3TnVtYmVyID0gbmV3TnVtYmVyLnJlcGxhY2UoJy4nLCAnJyk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBuZXdOdW1iZXIgPSBuZXdOdW1iZXIucmVwbGFjZShcIixcIiwgXCIuXCIpO1xyXG5cclxuICAgICAgICBpZighIWxhbmd1YWdlKSB7XHJcbiAgICAgICAgICAgIGxldCBmb3JtYXR0ZWROdW1iZXIgPSBuZXcgSW50bC5OdW1iZXJGb3JtYXQobGFuZ3VhZ2UsIHtcclxuICAgICAgICAgICAgICAgIHN0eWxlOiAnY3VycmVuY3knLFxyXG4gICAgICAgICAgICAgICAgY3VycmVuY3k6IGN1cnJlbmN5XHJcbiAgICAgICAgICAgIH0pLmZvcm1hdChwYXJzZUZsb2F0KG5ld051bWJlcikudG9GaXhlZCgzKSk7XHJcblxyXG4gICAgICAgICAgICBmb3JtYXR0ZWROdW1iZXIgPSBmb3JtYXR0ZWROdW1iZXIucmVwbGFjZShjdXJyZW5jeVN5bWJvbE5lZWRsZSwgJycpLnJlcGxhY2UoL1xccysvZywgJycpO1xyXG4gICAgICAgICAgICBsZXQgdmFsaWQgPSAoRE9NLnZhbHVlID09IGZvcm1hdHRlZE51bWJlcik7XHJcblxyXG4gICAgICAgICAgICBpZiggIVN0cmluZ1V0aWxzLmZpbmRDaGFyKCcsJywgRE9NLnZhbHVlKVxyXG4gICAgICAgICAgICAgICAgfHwgIVN0cmluZ1V0aWxzLmZpbmRDaGFyKCcuJywgRE9NLnZhbHVlKVxyXG4gICAgICAgICAgICAgICAgJiYgIXZhbGlkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFsaWQgPSAoRE9NLnZhbHVlID09IGZvcm1hdHRlZE51bWJlci5yZXBsYWNlKC8wKyQvLCAnJykucmVwbGFjZSgvXFwuKyQvLCAnJykucmVwbGFjZSgvXFwsKyQvLCAnJykpXHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBpZighdmFsaWQpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuZGlzcGxheUVycm9yKERPTSwgXCJkYXRhLXZhbC1yZWdleFwiKVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHJldHVybiB2YWxpZDtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgICAgICAgICAvLyByZXR1cm4gIWlzTmFOKHBhcnNlRmxvYXQobmV3TnVtYmVyKSkgJiYgaXNGaW5pdGUobmV3TnVtYmVyKTtcclxuICAgIH1cclxuXHJcbiAgICBnZXRDdXJyZW5jeVN5bWJvbChsb2NhbGUsIGN1cnJlbmN5KSB7XHJcbiAgICAgICAgcmV0dXJuICgwKS50b0xvY2FsZVN0cmluZyhsb2NhbGUsIHtcclxuICAgICAgICAgICAgc3R5bGU6ICdjdXJyZW5jeScsXHJcbiAgICAgICAgICAgIGN1cnJlbmN5OiBjdXJyZW5jeSxcclxuICAgICAgICAgICAgbWluaW11bUZyYWN0aW9uRGlnaXRzOiAwLFxyXG4gICAgICAgICAgICBtYXhpbXVtRnJhY3Rpb25EaWdpdHM6IDBcclxuICAgICAgICB9KS5yZXBsYWNlKC9cXGQvZywgJycpLnRyaW0oKTtcclxuICAgIH1cclxufSIsImltcG9ydCB7IEZvcm1WYWxpZGF0b3IgfSBmcm9tIFwiLi4vdXRpbHMvZm9ybS9mb3JtLXZhbGlkYXRvclwiO1xyXG5cclxuZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignRE9NQ29udGVudExvYWRlZCcsIGZ1bmN0aW9uKGUpIHtcclxuICAgIG5ldyBGb3JtVmFsaWRhdG9yKCk7XHJcblxyXG4gICAgLy8gU2VsZWN0IHRoZSBub2RlIHRoYXQgd2lsbCBiZSBvYnNlcnZlZCBmb3IgbXV0YXRpb25zXHJcbiAgICBjb25zdCB0YXJnZXROb2RlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignaHRtbCcpO1xyXG5cclxuICAgIC8vIE9wdGlvbnMgZm9yIHRoZSBvYnNlcnZlciAod2hpY2ggbXV0YXRpb25zIHRvIG9ic2VydmUpXHJcbiAgICBjb25zdCBjb25maWcgPSB7IGF0dHJpYnV0ZXM6IGZhbHNlLCBjaGlsZExpc3Q6IHRydWUsIHN1YnRyZWU6IHRydWUgfTtcclxuXHJcbiAgICAvLyBDYWxsYmFjayBmdW5jdGlvbiB0byBleGVjdXRlIHdoZW4gbXV0YXRpb25zIGFyZSBvYnNlcnZlZFxyXG4gICAgY29uc3QgY2FsbGJhY2sgPSBmdW5jdGlvbihtdXRhdGlvbnNMaXN0LCBvYnNlcnZlcikge1xyXG4gICAgICAgIC8vIFVzZSB0cmFkaXRpb25hbCAnZm9yIGxvb3BzJyBmb3IgSUUgMTFcclxuICAgICAgICBmb3IobGV0IGkgPSAwOyBpIDwgbXV0YXRpb25zTGlzdC5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICBjb25zdCBtdXRhdGlvbiA9IG11dGF0aW9uc0xpc3RbaV07XHJcblxyXG4gICAgICAgICAgICBpZiAobXV0YXRpb24udHlwZSA9PT0gJ2NoaWxkTGlzdCcgJiYgbXV0YXRpb24uYWRkZWROb2Rlcy5sZW5ndGggPiAwKSB7XHJcbiAgICAgICAgICAgICAgICAvLyBBIGNoaWxkIG5vZGUgaGFzIGJlZW4gYWRkZWQgb3IgcmVtb3ZlZC4nXHJcbiAgICAgICAgICAgICAgICBpZihtdXRhdGlvbi50YXJnZXQuY2xhc3NMaXN0LmNvbnRhaW5zKFwic2xpY2stdHJhY2tcIikgJiZcclxuICAgICAgICAgICAgICAgICAgICBtdXRhdGlvbi50YXJnZXQuY2xhc3NMaXN0LmNvbnRhaW5zKFwic2xpY2stc2xpZGVyXCIpICYmXHJcbiAgICAgICAgICAgICAgICAgICAgbXV0YXRpb24udGFyZ2V0LmNsYXNzTGlzdC5jb250YWlucyhcInNsaWNrLWxpc3RcIikpXHJcbiAgICAgICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBuZXcgRm9ybVZhbGlkYXRvcigpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH07XHJcblxyXG4gICAgLy8gQ3JlYXRlIGFuIG9ic2VydmVyIGluc3RhbmNlIGxpbmtlZCB0byB0aGUgY2FsbGJhY2sgZnVuY3Rpb25cclxuICAgIGNvbnN0IG9ic2VydmVyID0gbmV3IE11dGF0aW9uT2JzZXJ2ZXIoY2FsbGJhY2spO1xyXG5cclxuICAgIC8vIFN0YXJ0IG9ic2VydmluZyB0aGUgdGFyZ2V0IG5vZGUgZm9yIGNvbmZpZ3VyZWQgbXV0YXRpb25zXHJcbiAgICBvYnNlcnZlci5vYnNlcnZlKHRhcmdldE5vZGUsIGNvbmZpZyk7XHJcbn0pOyJdLCJzb3VyY2VSb290IjoiIn0=
//# sourceMappingURL=form-validator.min.js.map
