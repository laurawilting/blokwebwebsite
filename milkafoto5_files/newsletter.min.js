/**
 * MILKA DE/AT/NL
 * env: production
 * version: 1.13.2
 * date: 9/2/2022 11:43:40
 */

!function(e){var t={};function n(o){if(t[o])return t[o].exports;var r=t[o]={i:o,l:!1,exports:{}};return e[o].call(r.exports,r,r.exports,n),r.l=!0,r.exports}n.m=e,n.c=t,n.d=function(e,t,o){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:o})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)n.d(o,r,function(t){return e[t]}.bind(null,r));return o},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=31)}({10:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var o={includes:function(e,t){for(var n=0;n<t.length;n++){if(t[n]==e)return!0}return!1},filter:function(e,t){var n=[];return e.filter((function(e){var o=e.getAttribute(t);null!=o&&n.push(e)})),n},classExceptionDOM:function(e,t){for(var n=[],r=0;r<e.length;r++){var i=e[r];o.includes(t,i.classList)||n.push(i)}return n},dynamicSort:function(e){var t=1;return"-"===e[0]&&(t=-1,e=e.substr(1)),function(n,o){return(n[e]<o[e]?-1:n[e]>o[e]?1:0)*t}}}},16:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var o=n(3);function r(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}var i=function(){function e(t){var n=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.onSubmitSuccess=t.onSubmitSuccess?t.onSubmitSuccess:null,this.formSelector=null!==document.querySelector(t.formSelector)?document.querySelector(t.formSelector):null,this.labelSelector=null!==t.labelSelector?$(t.labelSelector):null,this.labelValueSelector=null!==t.labelValueSelector?$(t.labelValueSelector):null,this.submitBtn=null!==this.formSelector?this.formSelector.querySelector('input[type="submit"]'):null,this.inputs=null!==this.formSelector?this.formSelector.querySelectorAll('input[type]:not([type="submit"]), select, textarea'):[],this.destination=null!=document.querySelector(t.destination)?document.querySelector(t.destination).value:null,this.profileID=t.profileID,this.transactionName=t.transactionName,this.endpointTarget=t.target,this.simpleLoader=new o.b({}),this.subscriptionAttribute=t.subAttribute||"Sub",this.subscription=null==t.subscription?1:t.subscription,this.privacy=t.privacy||0,this.confirmCheckbox=$(t.formSelector+" "+t.confirmCheckbox)||null,this.emailInput=$(t.formSelector+" "+t.emailInput)||null,null!==this.formSelector?this.formSelector.removeAttribute("action"):console.log("%cERR-SH: ".concat(t.headerSelector," is absent from the DOM"),"color: red"),null!==this.submitBtn&&this._initSubmit(),null!==this.emailInput&&null!==this.confirmCheckbox&&this.emailInput.focusin((function(){n.confirmCheckbox.hasClass("hide")&&n.confirmCheckbox.removeClass("hide");var e=null!=document.querySelector(".footer__foot")?document.querySelector(".footer__foot"):null,t=null!=e?e.querySelector("img"):null;null!=e&&null!=t&&(window.outerWidth<1025&&(e.style.paddingTop=0,e.style.height="600px",t.style.height="475px",t.style.objectFit="cover",t.style.objectPosition="100% 0",setTimeout((function(){window.scrollTo({top:document.body.scrollHeight,behavior:"smooth"})}),200)),window.outerWidth<769&&(e.style.paddingTop=0,e.style.height="600px",t.style.height="475px",t.style.objectFit="cover",t.style.objectPosition="100% 0",setTimeout((function(){window.scrollTo({top:document.body.scrollHeight,behavior:"smooth"})}),200)),window.outerWidth<481&&(e.style.paddingTop=0,e.style.height="750px",t.style.height="750px",t.style.objectFit="unset",t.style.objectPosition="unset",setTimeout((function(){window.scrollTo({top:document.body.scrollHeight,behavior:"smooth"})}),200)))}))}var t,n,i;return t=e,(n=[{key:"_initSubmit",value:function(){var e=this,t=this.submitBtn.parentNode;t.classList.contains("btn__container")?t.addEventListener("click",(function(t){if(t.preventDefault(),!e.submitBtn.parentNode.classList.contains("notvalid")){e.simpleLoader.showLoader();var n=e.getFormData(e.inputs);e.sendSubscription(n)}})):this.submitBtn.addEventListener("click",(function(t){if(t.preventDefault(),!e.submitBtn.parentNode.classList.contains("notvalid")){e.simpleLoader.showLoader();var n=e.getFormData(e.inputs);e.sendSubscription(n)}}))}},{key:"getFormData",value:function(e){for(var t=[],n=0;n<e.length;n++){var o=e[n],r=null!=o.getAttribute("data-sc-field-name")?o.getAttribute("data-sc-field-name"):o.getAttribute("id");switch(o.getAttribute("type")){case"text":t.push({name:r,value:o.value});break;case"checkbox":var i=!0===o.checked?1:0;t.push({name:r,value:i});break;case"radio":o.checked&&(t.push({name:r,value:o.value}),(r="Value-Reason")&&t.push({name:"Value-Reason-Tr",value:o.value}));break;case"hidden":break;default:t.push({name:r,value:o.value})}}return t}},{key:"getLocale",value:function(){return document.querySelector("html").getAttribute("lang")}},{key:"sendSubscription",value:function(e){for(var t=this,n={},o=0;o<e.length;o++){var r=e[o];n[r.name]=r.value}1===this.privacy&&(n.Privacy=this.privacy),n[this.subscriptionAttribute]=this.subscription;var i={ProfileID:this.profileID,Locale:this.getLocale(),Data:n,TransactionName:this.transactionName};e={url:this.endpointTarget,method:"POST",contentType:"application/json",dataType:"json",accepts:"json",data:JSON.stringify(i)},$.ajax(e).success((function(e){e.IsSuccessful&&null!=t.destination&&(t.onSubmitSuccess&&t.onSubmitSuccess(),window.location.href="/"+t.destination)})).error((function(e,n,o){t.simpleLoader.hideLoader(),console.log("%c REQUEST FAILED: ".concat(o),"color: red")}))}}])&&r(t.prototype,n),i&&r(t,i),e}()},17:function(e,t,n){"use strict";n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return r}));var o="".concat("https://milka-supporting.azurewebsites.net","/supporting/crm/profile"),r="".concat("https://milka-supporting.azurewebsites.net","/supporting/crm/unsubscribeprofile")},2:function(e,t,n){"use strict";function o(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}n.d(t,"a",(function(){return r}));var r=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.isScrolling=!1}var t,n,r;return t=e,(n=[{key:"disableScroll",value:function(){document.querySelector("body").style.overflow="hidden"}},{key:"enableScroll",value:function(){document.querySelector("body").style.overflow=""}},{key:"scrollTop",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"slow",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,o=$(e).length>0?$(e).offset().top+n:null,r=$("html, body");r.on("scroll mousedown wheel DOMMouseScroll mousewheel keyup touchmove",(function(){r.stop()})),null!==o&&!0!==this.isScrolling&&(this.isScrolling=!0,r.animate({scrollTop:o},t,(function(){
//! executed on function animate complete
r.off("scroll mousedown wheel DOMMouseScroll mousewheel keyup touchmove"),this.isScrolling=!1})),this.isScrolling=!1)}}])&&o(t.prototype,n),r&&o(t,r),e}()},3:function(e,t,n){"use strict";n.d(t,"b",(function(){return l})),n.d(t,"a",(function(){return u}));var o=n(2);function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}var l=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};r(this,e),this.display=!1,this.scroll=new o.a,this.container=t.loaderSelector&&document.querySelector(t.loaderSelector)?document.querySelector(t.loaderSelector):document.querySelector(".js-loader"),this.loader=null!==this.container?this.container.querySelector("#simple"):null}var t,n,l;return t=e,(n=[{key:"showLoader",value:function(){!this.display&&this.loader&&(this.scroll.disableScroll(),this.loader.style.display="block"),this.display=!0}},{key:"hideLoader",value:function(){!0===this.display&&null!==this.loader&&(this.scroll.enableScroll(),this.loader.removeAttribute("style")),this.display=!1}},{key:"updateLoader",value:function(){this.loader=null!==this.container?this.container.querySelector("#simple"):null}},{key:"addClass",value:function(e){this.loader.classList.add(e)}},{key:"removeClass",value:function(e){this.loader.classList.remove(e)}}])&&i(t.prototype,n),l&&i(t,l),e}(),u=new l({})},31:function(e,t,n){e.exports=n(32)},32:function(e,t,n){"use strict";n.r(t);var o=n(16),r=n(17);n(10);document.addEventListener("DOMContentLoaded",(function(e){var t,n=r.a,i=r.b;(document.querySelectorAll(".js-subscribe-newsletter").length>0&&new o.a({formSelector:".js-subscribe-newsletter",destination:'input[type="hidden"]#target-go-to-thank-you',labelSelector:".js-confirmation-label",labelValueSelector:".js-confirmation-label-value",profileID:"newsletter_page",transactionName:["newsletter_in"],target:n,onSubmitSuccess:function(){}}),document.querySelectorAll(".js-unsub-form").length>0&&new o.a({formSelector:".js-unsub-form",destination:'input[type="hidden"]#target-go-to-thank-you',profileID:"newsletter_unsub",transactionName:["newsletter_out"],labelSelector:null,labelValueSelector:null,target:i,privacy:1,subscription:1,subAttribute:"Subscription",onSubmitSuccess:function(){}}),null!==document.querySelector('input[data-sc-field-name="Value-Reason"]'))&&function(){for(var e=document.querySelectorAll('input[data-sc-field-name="Value-Reason"]'),n=function(n){(t=e[n]).addEventListener("change",(function(o){var r=document.querySelector(".js-text-reason");n==e.length-1&&t.checked?r.classList.remove("hide"):r.classList.add("hide")}))},o=0;o<e.length;o++)n(o)}()}))}});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vLy4vc3JjL1NDUklQVFMvdXRpbHMvYXJyYXktdXRpbHMuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL1NDUklQVFMvdmlldy9jb21wb25lbnRzL25ld3NsZXR0ZXIuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL1NDUklQVFMvbW9kZWwvbmV3c2xldHRlci9uZXdzbGV0dGVyLWVuZHBvaW50cy5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvU0NSSVBUUy91dGlscy9kb2N1bWVudFNjcm9sbC5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvU0NSSVBUUy92aWV3L2NvbXBvbmVudHMvc2ltcGxlLWxvYWRlci5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvU0NSSVBUUy9hcHAvbmV3c2xldHRlci5qcyJdLCJuYW1lcyI6WyJpbnN0YWxsZWRNb2R1bGVzIiwiX193ZWJwYWNrX3JlcXVpcmVfXyIsIm1vZHVsZUlkIiwiZXhwb3J0cyIsIm1vZHVsZSIsImkiLCJsIiwibW9kdWxlcyIsImNhbGwiLCJtIiwiYyIsImQiLCJuYW1lIiwiZ2V0dGVyIiwibyIsIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwiZW51bWVyYWJsZSIsImdldCIsInIiLCJTeW1ib2wiLCJ0b1N0cmluZ1RhZyIsInZhbHVlIiwidCIsIm1vZGUiLCJfX2VzTW9kdWxlIiwibnMiLCJjcmVhdGUiLCJrZXkiLCJiaW5kIiwibiIsIm9iamVjdCIsInByb3BlcnR5IiwicHJvdG90eXBlIiwiaGFzT3duUHJvcGVydHkiLCJwIiwicyIsIkFycmF5VXRpbHMiLCJpbmNsdWRlcyIsIml0ZW0iLCJhcnJheSIsImluZGV4IiwibGVuZ3RoIiwiZmlsdGVyIiwiYXJyIiwiY29uZGl0aW9uIiwiaXRlbXMiLCJhdHRyaWJ1dGUiLCJnZXRBdHRyaWJ1dGUiLCJwdXNoIiwiY2xhc3NFeGNlcHRpb25ET00iLCJzZWxlY3RvciIsImxpbmtzIiwibGluayIsImNsYXNzTGlzdCIsImR5bmFtaWNTb3J0Iiwic29ydE9yZGVyIiwic3Vic3RyIiwiYSIsImIiLCJOZXdzbGV0dGVyIiwib3B0aW9ucyIsInRoaXMiLCJvblN1Ym1pdFN1Y2Nlc3MiLCJmb3JtU2VsZWN0b3IiLCJkb2N1bWVudCIsInF1ZXJ5U2VsZWN0b3IiLCJsYWJlbFNlbGVjdG9yIiwiJCIsImxhYmVsVmFsdWVTZWxlY3RvciIsInN1Ym1pdEJ0biIsImlucHV0cyIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJkZXN0aW5hdGlvbiIsInByb2ZpbGVJRCIsInRyYW5zYWN0aW9uTmFtZSIsImVuZHBvaW50VGFyZ2V0IiwidGFyZ2V0Iiwic2ltcGxlTG9hZGVyIiwiU2ltcGxlTG9hZGVyIiwic3Vic2NyaXB0aW9uQXR0cmlidXRlIiwic3ViQXR0cmlidXRlIiwic3Vic2NyaXB0aW9uIiwicHJpdmFjeSIsImNvbmZpcm1DaGVja2JveCIsImVtYWlsSW5wdXQiLCJyZW1vdmVBdHRyaWJ1dGUiLCJjb25zb2xlIiwibG9nIiwiaGVhZGVyU2VsZWN0b3IiLCJfaW5pdFN1Ym1pdCIsImZvY3VzaW4iLCJoYXNDbGFzcyIsInJlbW92ZUNsYXNzIiwiZm9vdGVyIiwiaW1nIiwid2luZG93Iiwib3V0ZXJXaWR0aCIsInN0eWxlIiwicGFkZGluZ1RvcCIsImhlaWdodCIsIm9iamVjdEZpdCIsIm9iamVjdFBvc2l0aW9uIiwic2V0VGltZW91dCIsInNjcm9sbFRvIiwidG9wIiwiYm9keSIsInNjcm9sbEhlaWdodCIsImJlaGF2aW9yIiwicGFyZW50Tm9kZSIsImNvbnRhaW5zIiwiYWRkRXZlbnRMaXN0ZW5lciIsImUiLCJwcmV2ZW50RGVmYXVsdCIsInNob3dMb2FkZXIiLCJkYXRhIiwiZ2V0Rm9ybURhdGEiLCJzZW5kU3Vic2NyaXB0aW9uIiwiaW5wdXQiLCJpbnB1dENoZWNrIiwiY2hlY2tlZCIsImRhdGFUb1NlbmQiLCJjb250ZW50IiwiUHJvZmlsZUlEIiwiTG9jYWxlIiwiZ2V0TG9jYWxlIiwiRGF0YSIsIlRyYW5zYWN0aW9uTmFtZSIsInVybCIsIm1ldGhvZCIsImNvbnRlbnRUeXBlIiwiZGF0YVR5cGUiLCJhY2NlcHRzIiwiSlNPTiIsInN0cmluZ2lmeSIsImFqYXgiLCJzdWNjZXNzIiwicmVzdWx0IiwiSXNTdWNjZXNzZnVsIiwibG9jYXRpb24iLCJocmVmIiwiZXJyb3IiLCJqcVhIUiIsInRleHRTdGF0dXMiLCJlcnJvclRocm93biIsImhpZGVMb2FkZXIiLCJzdWJzY3JpYmUiLCJfX1NVUFBPUlRJTkciLCJ1blN1YnNjcmliZSIsInNjcm9sbCIsImlzU2Nyb2xsaW5nIiwib3ZlcmZsb3ciLCJzZWN0aW9uIiwiZHVyYXRpb24iLCJvZmZzZXQiLCJzY3JvbGxQb3N0aW9uIiwiJHBhZ2UiLCJvbiIsInN0b3AiLCJhbmltYXRlIiwic2Nyb2xsVG9wIiwib2ZmIiwiZGlzcGxheSIsImNvbnRhaW5lciIsImxvYWRlclNlbGVjdG9yIiwibG9hZGVyIiwiZGlzYWJsZVNjcm9sbCIsImVuYWJsZVNjcm9sbCIsImNsYXNzZSIsImFkZCIsInJlbW92ZSIsIkdsb2JhbExvYWRlciIsInJhZGlvIiwic3ViU2VydmljZSIsInVuc3ViU2VydmljZSIsInJhZGlvcyIsInRleHRSZWFzb24iXSwibWFwcGluZ3MiOiJhQUNFLElBQUlBLEVBQW1CLEdBR3ZCLFNBQVNDLEVBQW9CQyxHQUc1QixHQUFHRixFQUFpQkUsR0FDbkIsT0FBT0YsRUFBaUJFLEdBQVVDLFFBR25DLElBQUlDLEVBQVNKLEVBQWlCRSxHQUFZLENBQ3pDRyxFQUFHSCxFQUNISSxHQUFHLEVBQ0hILFFBQVMsSUFVVixPQU5BSSxFQUFRTCxHQUFVTSxLQUFLSixFQUFPRCxRQUFTQyxFQUFRQSxFQUFPRCxRQUFTRixHQUcvREcsRUFBT0UsR0FBSSxFQUdKRixFQUFPRCxRQUtmRixFQUFvQlEsRUFBSUYsRUFHeEJOLEVBQW9CUyxFQUFJVixFQUd4QkMsRUFBb0JVLEVBQUksU0FBU1IsRUFBU1MsRUFBTUMsR0FDM0NaLEVBQW9CYSxFQUFFWCxFQUFTUyxJQUNsQ0csT0FBT0MsZUFBZWIsRUFBU1MsRUFB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T0YsUSxnQ0FJeEJHLEVBQWUsSUFBSTdGLEVBQWMsSyxvRUN4QzlDLGlDQUlBYixTQUFTOEMsaUJBQWlCLG9CQUFvQixTQUFTQyxHQUNuRCxJQXVDWTRELEVBdkNKQyxFQUFhM0IsSUFDYjRCLEVBQWUxQixLQUVwQm5GLFNBQVNPLGlCQUFpQiw0QkFBNEI5QixPQUFTLEdBQzlELElBQUlrQixJQUFXLENBQ1hJLGFBQWUsMkJBQ2ZTLFlBQWEsOENBQ2JOLGNBQWdCLHlCQUNoQkUsbUJBQXFCLCtCQUNyQkssVUFBVyxrQkFDWEMsZ0JBQWlCLENBQUMsaUJBQ2xCRSxPQUFRZ0csRUFDUjlHLGdCQUFrQixlQUt2QkUsU0FBU08saUJBQWlCLGtCQUFrQjlCLE9BQVMsR0FDcEQsSUFBSWtCLElBQVcsQ0FDWEksYUFBZSxpQkFDZlMsWUFBYSw4Q0FDYkMsVUFBVyxtQkFDWEMsZ0JBQWlCLENBQUMsa0JBQ2xCUixjQUFnQixLQUNoQkUsbUJBQXFCLEtBQ3JCUSxPQUFRaUcsRUFDUjNGLFFBQVMsRUFDVEQsYUFBYyxFQUNkRCxhQUFjLGVBQ2RsQixnQkFBa0IsZUFNZ0QsT0FBdkVFLFNBQVNDLGNBQWMsOENBQXNELFdBRzVFLElBRkEsSUFBSTZHLEVBQVM5RyxTQUFTTyxpQkFBaUIsNENBRHFDLFdBR3BFbkUsSUFDQXVLLEVBQVFHLEVBQU8xSyxJQUdiMEcsaUJBQWlCLFVBQVUsU0FBQ0MsR0FDOUIsSUFBSWdFLEVBQWEvRyxTQUFTQyxjQUFjLG1CQUVyQzdELEdBQUswSyxFQUFPckksT0FBTyxHQUFLa0ksRUFBTXBELFFBRTdCd0QsRUFBVzFILFVBQVVvSCxPQUFPLFFBRzVCTSxFQUFXMUgsVUFBVW1ILElBQUksWUFaN0JwSyxFQUFJLEVBQUdBLEVBQUkwSyxFQUFPckksT0FBUXJDLElBQUssRUFBL0JBLEdBSG9FIiwiZmlsZSI6Im5ld3NsZXR0ZXIuanMiLCJzb3VyY2VzQ29udGVudCI6WyIgXHQvLyBUaGUgbW9kdWxlIGNhY2hlXG4gXHR2YXIgaW5zdGFsbGVkTW9kdWxlcyA9IHt9O1xuXG4gXHQvLyBUaGUgcmVxdWlyZSBmdW5jdGlvblxuIFx0ZnVuY3Rpb24gX193ZWJwYWNrX3JlcXVpcmVfXyhtb2R1bGVJZCkge1xuXG4gXHRcdC8vIENoZWNrIGlmIG1vZHVsZSBpcyBpbiBjYWNoZVxuIFx0XHRpZihpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSkge1xuIFx0XHRcdHJldHVybiBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXS5leHBvcnRzO1xuIFx0XHR9XG4gXHRcdC8vIENyZWF0ZSBhIG5ldyBtb2R1bGUgKGFuZCBwdXQgaXQgaW50byB0aGUgY2FjaGUpXG4gXHRcdHZhciBtb2R1bGUgPSBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSA9IHtcbiBcdFx0XHRpOiBtb2R1bGVJZCxcbiBcdFx0XHRsOiBmYWxzZSxcbiBcdFx0XHRleHBvcnRzOiB7fVxuIFx0XHR9O1xuXG4gXHRcdC8vIEV4ZWN1dGUgdGhlIG1vZHVsZSBmdW5jdGlvblxuIFx0XHRtb2R1bGVzW21vZHVsZUlkXS5jYWxsKG1vZHVsZS5leHBvcnRzLCBtb2R1bGUsIG1vZHVsZS5leHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKTtcblxuIFx0XHQvLyBGbGFnIHRoZSBtb2R1bGUgYXMgbG9hZGVkXG4gXHRcdG1vZHVsZS5sID0gdHJ1ZTtcblxuIFx0XHQvLyBSZXR1cm4gdGhlIGV4cG9ydHMgb2YgdGhlIG1vZHVsZVxuIFx0XHRyZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG4gXHR9XG5cblxuIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGVzIG9iamVjdCAoX193ZWJwYWNrX21vZHVsZXNfXylcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubSA9IG1vZHVsZXM7XG5cbiBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlIGNhY2hlXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmMgPSBpbnN0YWxsZWRNb2R1bGVzO1xuXG4gXHQvLyBkZWZpbmUgZ2V0dGVyIGZ1bmN0aW9uIGZvciBoYXJtb255IGV4cG9ydHNcbiBcdF9fd2VicGFja19yZXF1aXJlX18uZCA9IGZ1bmN0aW9uKGV4cG9ydHMsIG5hbWUsIGdldHRlcikge1xuIFx0XHRpZighX193ZWJwYWNrX3JlcXVpcmVfXy5vKGV4cG9ydHMsIG5hbWUpKSB7XG4gXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIG5hbWUsIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBnZXR0ZXIgfSk7XG4gXHRcdH1cbiBcdH07XG5cbiBcdC8vIGRlZmluZSBfX2VzTW9kdWxlIG9uIGV4cG9ydHNcbiBcdF9fd2VicGFja19yZXF1aXJlX18uciA9IGZ1bmN0aW9uKGV4cG9ydHMpIHtcbiBcdFx0aWYodHlwZW9mIFN5bWJvbCAhPT0gJ3VuZGVmaW5lZCcgJiYgU3ltYm9sLnRvU3RyaW5nVGFnKSB7XG4gXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFN5bWJvbC50b1N0cmluZ1RhZywgeyB2YWx1ZTogJ01vZHVsZScgfSk7XG4gXHRcdH1cbiBcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdfX2VzTW9kdWxlJywgeyB2YWx1ZTogdHJ1ZSB9KTtcbiBcdH07XG5cbiBcdC8vIGNyZWF0ZSBhIGZha2UgbmFtZXNwYWNlIG9iamVjdFxuIFx0Ly8gbW9kZSAmIDE6IHZhbHVlIGlzIGEgbW9kdWxlIGlkLCByZXF1aXJlIGl0XG4gXHQvLyBtb2RlICYgMjogbWVyZ2UgYWxsIHByb3BlcnRpZXMgb2YgdmFsdWUgaW50byB0aGUgbnNcbiBcdC8vIG1vZGUgJiA0OiByZXR1cm4gdmFsdWUgd2hlbiBhbHJlYWR5IG5zIG9iamVjdFxuIFx0Ly8gbW9kZSAmIDh8MTogYmVoYXZlIGxpa2UgcmVxdWlyZVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy50ID0gZnVuY3Rpb24odmFsdWUsIG1vZGUpIHtcbiBcdFx0aWYobW9kZSAmIDEpIHZhbHVlID0gX193ZWJwYWNrX3JlcXVpcmVfXyh2YWx1ZSk7XG4gXHRcdGlmKG1vZGUgJiA4KSByZXR1cm4gdmFsdWU7XG4gXHRcdGlmKChtb2RlICYgNCkgJiYgdHlwZW9mIHZhbHVlID09PSAnb2JqZWN0JyAmJiB2YWx1ZSAmJiB2YWx1ZS5fX2VzTW9kdWxlKSByZXR1cm4gdmFsdWU7XG4gXHRcdHZhciBucyA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG4gXHRcdF9fd2VicGFja19yZXF1aXJlX18ucihucyk7XG4gXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShucywgJ2RlZmF1bHQnLCB7IGVudW1lcmFibGU6IHRydWUsIHZhbHVlOiB2YWx1ZSB9KTtcbiBcdFx0aWYobW9kZSAmIDIgJiYgdHlwZW9mIHZhbHVlICE9ICdzdHJpbmcnKSBmb3IodmFyIGtleSBpbiB2YWx1ZSkgX193ZWJwYWNrX3JlcXVpcmVfXy5kKG5zLCBrZXksIGZ1bmN0aW9uKGtleSkgeyByZXR1cm4gdmFsdWVba2V5XTsgfS5iaW5kKG51bGwsIGtleSkpO1xuIFx0XHRyZXR1cm4gbnM7XG4gXHR9O1xuXG4gXHQvLyBnZXREZWZhdWx0RXhwb3J0IGZ1bmN0aW9uIGZvciBjb21wYXRpYmlsaXR5IHdpdGggbm9uLWhhcm1vbnkgbW9kdWxlc1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5uID0gZnVuY3Rpb24obW9kdWxlKSB7XG4gXHRcdHZhciBnZXR0ZXIgPSBtb2R1bGUgJiYgbW9kdWxlLl9fZXNNb2R1bGUgP1xuIFx0XHRcdGZ1bmN0aW9uIGdldERlZmF1bHQoKSB7IHJldHVybiBtb2R1bGVbJ2RlZmF1bHQnXTsgfSA6XG4gXHRcdFx0ZnVuY3Rpb24gZ2V0TW9kdWxlRXhwb3J0cygpIHsgcmV0dXJuIG1vZHVsZTsgfTtcbiBcdFx0X193ZWJwYWNrX3JlcXVpcmVfXy5kKGdldHRlciwgJ2EnLCBnZXR0ZXIpO1xuIFx0XHRyZXR1cm4gZ2V0dGVyO1xuIFx0fTtcblxuIFx0Ly8gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm8gPSBmdW5jdGlvbihvYmplY3QsIHByb3BlcnR5KSB7IHJldHVybiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqZWN0LCBwcm9wZXJ0eSk7IH07XG5cbiBcdC8vIF9fd2VicGFja19wdWJsaWNfcGF0aF9fXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnAgPSBcIlwiO1xuXG5cbiBcdC8vIExvYWQgZW50cnkgbW9kdWxlIGFuZCByZXR1cm4gZXhwb3J0c1xuIFx0cmV0dXJuIF9fd2VicGFja19yZXF1aXJlX18oX193ZWJwYWNrX3JlcXVpcmVfXy5zID0gMzEpO1xuIiwiZXhwb3J0IGNvbnN0IEFycmF5VXRpbHMgPSB7XHJcbiAgICBpbmNsdWRlczogKGl0ZW0sIGFycmF5KSA9PiB7XHJcbiAgICAgICAgZm9yIChsZXQgaW5kZXggPSAwOyBpbmRleCA8IGFycmF5Lmxlbmd0aDsgaW5kZXgrKykge1xyXG4gICAgICAgICAgICBjb25zdCBhcnJWYWx1ZSA9IGFycmF5W2luZGV4XTtcclxuXHJcbiAgICAgICAgICAgIGlmKGFyclZhbHVlID09IGl0ZW0pIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICB9LFxyXG5cclxuICAgIGZpbHRlcjogKGFyciwgY29uZGl0aW9uKSA9PiB7XHJcbiAgICAgICAgbGV0IGl0ZW1zID0gW107XHJcblxyXG4gICAgICAgIGFyci5maWx0ZXIoKGl0ZW0pID0+IHtcclxuICAgICAgICAgICAgbGV0IGF0dHJpYnV0ZSA9IGl0ZW0uZ2V0QXR0cmlidXRlKGNvbmRpdGlvbik7XHJcblxyXG4gICAgICAgICAgICBpZihhdHRyaWJ1dGUgIT09IHVuZGVmaW5lZCAmJiBhdHRyaWJ1dGUgIT09IG51bGwpIHtcclxuICAgICAgICAgICAgICAgIGl0ZW1zLnB1c2goaXRlbSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KVxyXG5cclxuICAgICAgICByZXR1cm4gaXRlbXM7XHJcbiAgICB9LFxyXG4gICAgXHJcblxyXG4gICAgY2xhc3NFeGNlcHRpb25ET006IChhcnIsIHNlbGVjdG9yKSA9PiB7XHJcbiAgICAgICAgbGV0IGxpbmtzID0gW107XHJcblxyXG4gICAgICAgIGZvcihsZXQgaSA9IDA7IGkgPCBhcnIubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgbGV0IGxpbmsgPSBhcnJbaV07XHJcbiAgICAgICAgICAgIGlmKCFBcnJheVV0aWxzLmluY2x1ZGVzKHNlbGVjdG9yLCBsaW5rLmNsYXNzTGlzdCkpe1xyXG4gICAgICAgICAgICAgICAgbGlua3MucHVzaChsaW5rKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcmV0dXJuIGxpbmtzO1xyXG4gICAgfSxcclxuXHJcblx0ZHluYW1pY1NvcnQ6IChwcm9wZXJ0eSkgPT4ge1xyXG5cdFx0bGV0IHNvcnRPcmRlciA9IDE7XHJcblx0XHRpZihwcm9wZXJ0eVswXSA9PT0gJy0nKXtcclxuXHRcdFx0c29ydE9yZGVyID0gLTE7XHJcblx0XHRcdHByb3BlcnR5ID0gcHJvcGVydHkuc3Vic3RyKDEpO1xyXG5cdFx0fVxyXG5cdFx0cmV0dXJuIGZ1bmN0aW9uKGEsYil7XHJcblx0XHRcdGxldCByZXN1bHQgPSAoYVtwcm9wZXJ0eV0gPCBiW3Byb3BlcnR5XSkgPyAtMSA6IChhW3Byb3BlcnR5XSA+IGJbcHJvcGVydHldKSA/IDEgOiAwO1xyXG5cdFx0XHRyZXR1cm4gcmVzdWx0ICogc29ydE9yZGVyO1xyXG5cdFx0fVxyXG5cdH1cclxufSIsImltcG9ydCBTaW1wbGVMb2FkZXIgZnJvbSBcIi4uLy4uL3ZpZXcvY29tcG9uZW50cy9zaW1wbGUtbG9hZGVyXCI7XHJcbi8qKlxyXG4gKiBDbGFzcyB3aXRoIGRlZmluaXRpb24gb2YgTmV3c2xldHRlclxyXG4qL1xyXG5cclxuY29uc3QgICBMSVNUX1BSSVZBQ1kgPSBcIlByaXZhY3lcIixcclxuICAgICAgICBMSVNUX1NVQiA9IFwiU3ViXCI7XHJcbmV4cG9ydCBjbGFzcyBOZXdzbGV0dGVyIHtcclxuICAgIC8qKlxyXG4gICAgICogQHBhcmFtIGZvcm1TZWxlY3RvciAtIFRoZSBzZWxlY3RvciBmb3IgdGhlIGZvcm1cclxuICAgICAqIEBwYXJhbSBsYWJlbFNlbGVjdG9yIC0gVGhlIHNlbGVjdG9yIGZvciB0aGUgbGFiZWwgdG8gY2hhbmdlXHJcbiAgICAgKiBAcGFyYW0gbGFiZWxWYWx1ZVNlbGVjdG9yIC0gVGhlIHNlbGVjdG9yIGZvciB0aGUgdmFsdWUgb2YgdGhlIGxhYmVsIHZhbHVlXHJcbiAgICAgKi9cclxuICAgIGNvbnN0cnVjdG9yIChvcHRpb25zKSB7XHJcbiAgICAgICAgdGhpcy5vblN1Ym1pdFN1Y2Nlc3MgPSAoISFvcHRpb25zLm9uU3VibWl0U3VjY2VzcykgPyBvcHRpb25zLm9uU3VibWl0U3VjY2VzcyA6IG51bGw7XHJcbiAgICAgICAgdGhpcy5mb3JtU2VsZWN0b3IgPSAoZG9jdW1lbnQucXVlcnlTZWxlY3RvcihvcHRpb25zLmZvcm1TZWxlY3RvcikgIT09IG51bGwpID8gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihvcHRpb25zLmZvcm1TZWxlY3RvcikgOiBudWxsO1xyXG4gICAgICAgIHRoaXMubGFiZWxTZWxlY3RvciA9IChvcHRpb25zLmxhYmVsU2VsZWN0b3IgIT09IG51bGwpID8gJChvcHRpb25zLmxhYmVsU2VsZWN0b3IpIDogbnVsbDtcclxuICAgICAgICB0aGlzLmxhYmVsVmFsdWVTZWxlY3RvciA9IChvcHRpb25zLmxhYmVsVmFsdWVTZWxlY3RvciAhPT0gbnVsbCkgPyAkKG9wdGlvbnMubGFiZWxWYWx1ZVNlbGVjdG9yKSA6IG51bGw7XHJcbiAgICAgICAgdGhpcy5zdWJtaXRCdG4gPSAoIHRoaXMuZm9ybVNlbGVjdG9yICE9PSBudWxsICkgPyB0aGlzLmZvcm1TZWxlY3Rvci5xdWVyeVNlbGVjdG9yKCdpbnB1dFt0eXBlPVwic3VibWl0XCJdJyk6IG51bGw7XHJcbiAgICAgICAgdGhpcy5pbnB1dHMgPSAoIHRoaXMuZm9ybVNlbGVjdG9yICE9PSBudWxsICkgPyB0aGlzLmZvcm1TZWxlY3Rvci5xdWVyeVNlbGVjdG9yQWxsKCdpbnB1dFt0eXBlXTpub3QoW3R5cGU9XCJzdWJtaXRcIl0pLCBzZWxlY3QsIHRleHRhcmVhJykgOiBbXTtcclxuICAgICAgICB0aGlzLmRlc3RpbmF0aW9uID0gKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3Iob3B0aW9ucy5kZXN0aW5hdGlvbikgIT0gbnVsbCkgPyBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKG9wdGlvbnMuZGVzdGluYXRpb24pLnZhbHVlIDogbnVsbDtcclxuICAgICAgICB0aGlzLnByb2ZpbGVJRCA9IG9wdGlvbnMucHJvZmlsZUlEO1xyXG4gICAgICAgIHRoaXMudHJhbnNhY3Rpb25OYW1lID0gb3B0aW9ucy50cmFuc2FjdGlvbk5hbWU7XHJcbiAgICAgICAgdGhpcy5lbmRwb2ludFRhcmdldCA9IG9wdGlvbnMudGFyZ2V0O1xyXG4gICAgICAgIHRoaXMuc2ltcGxlTG9hZGVyID0gbmV3IFNpbXBsZUxvYWRlcih7fSlcclxuICAgICAgICB0aGlzLnN1YnNjcmlwdGlvbkF0dHJpYnV0ZSA9IG9wdGlvbnMuc3ViQXR0cmlidXRlIHx8IExJU1RfU1VCO1xyXG4gICAgICAgIHRoaXMuc3Vic2NyaXB0aW9uID0gKG9wdGlvbnMuc3Vic2NyaXB0aW9uID09IG51bGwpID8gMSA6IG9wdGlvbnMuc3Vic2NyaXB0aW9uO1xyXG4gICAgICAgIHRoaXMucHJpdmFjeSA9IG9wdGlvbnMucHJpdmFjeSB8fCAwO1xyXG4gICAgICAgIHRoaXMuY29uZmlybUNoZWNrYm94ID0gJChvcHRpb25zLmZvcm1TZWxlY3RvcitcIiBcIitvcHRpb25zLmNvbmZpcm1DaGVja2JveCkgfHwgbnVsbDtcclxuICAgICAgICB0aGlzLmVtYWlsSW5wdXQgPSAkKG9wdGlvbnMuZm9ybVNlbGVjdG9yK1wiIFwiK29wdGlvbnMuZW1haWxJbnB1dCkgfHwgbnVsbDtcclxuXHJcbiAgICAgICAgaWYodGhpcy5mb3JtU2VsZWN0b3IgIT09IG51bGwpIHtcclxuICAgICAgICAgICAgdGhpcy5mb3JtU2VsZWN0b3IucmVtb3ZlQXR0cmlidXRlKFwiYWN0aW9uXCIpO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKGAlY0VSUi1TSDogJHtvcHRpb25zLmhlYWRlclNlbGVjdG9yfSBpcyBhYnNlbnQgZnJvbSB0aGUgRE9NYCwgJ2NvbG9yOiByZWQnKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmKHRoaXMuc3VibWl0QnRuICE9PSBudWxsKSB7XHJcbiAgICAgICAgICAgIHRoaXMuX2luaXRTdWJtaXQoKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmKHRoaXMuZW1haWxJbnB1dCAhPT0gbnVsbCAmJiB0aGlzLmNvbmZpcm1DaGVja2JveCAhPT0gbnVsbCkge1xyXG4gICAgICAgICAgICB0aGlzLmVtYWlsSW5wdXQuZm9jdXNpbigoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBpZih0aGlzLmNvbmZpcm1DaGVja2JveC5oYXNDbGFzcygnaGlkZScpKSB0aGlzLmNvbmZpcm1DaGVja2JveC5yZW1vdmVDbGFzcygnaGlkZScpO1xyXG4gICAgICAgICAgICAgICAgdmFyIGZvb3RlciA9IChkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmZvb3Rlcl9fZm9vdFwiKSAhPSBudWxsKT8gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5mb290ZXJfX2Zvb3RcIikgOiBudWxsLFxyXG4gICAgICAgICAgICAgICAgICAgIGltZyA9IChmb290ZXIgIT0gbnVsbCk/IGZvb3Rlci5xdWVyeVNlbGVjdG9yKFwiaW1nXCIpOiBudWxsO1xyXG4gICAgICAgICAgICAgICAgaWYoZm9vdGVyICE9IG51bGwgJiYgaW1nICE9IG51bGwpe1xyXG4gICAgICAgICAgICAgICAgICAgIGlmKHdpbmRvdy5vdXRlcldpZHRoIDwgMTAyNSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBmb290ZXIuc3R5bGUucGFkZGluZ1RvcCA9IDA7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvb3Rlci5zdHlsZS5oZWlnaHQgPSBcIjYwMHB4XCI7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGltZy5zdHlsZS5oZWlnaHQgPSBcIjQ3NXB4XCI7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGltZy5zdHlsZS5vYmplY3RGaXQgPSBcImNvdmVyXCI7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGltZy5zdHlsZS5vYmplY3RQb3NpdGlvbiA9IFwiMTAwJSAwXCI7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmdW5jdGlvbigpeyBcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB3aW5kb3cuc2Nyb2xsVG8oe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0b3A6IGRvY3VtZW50LmJvZHkuc2Nyb2xsSGVpZ2h0LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBiZWhhdmlvcjogJ3Ntb290aCcsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sIFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgMjAwXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGlmKHdpbmRvdy5vdXRlcldpZHRoIDwgNzY5KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvb3Rlci5zdHlsZS5wYWRkaW5nVG9wID0gMDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZm9vdGVyLnN0eWxlLmhlaWdodCA9IFwiNjAwcHhcIjtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaW1nLnN0eWxlLmhlaWdodCA9IFwiNDc1cHhcIjtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaW1nLnN0eWxlLm9iamVjdEZpdCA9IFwiY292ZXJcIjtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaW1nLnN0eWxlLm9iamVjdFBvc2l0aW9uID0gXCIxMDAlIDBcIjtcclxuICAgICAgICAgICAgICAgICAgICAgICAgc2V0VGltZW91dChcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZ1bmN0aW9uKCl7IFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdpbmRvdy5zY3JvbGxUbyh7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRvcDogZG9jdW1lbnQuYm9keS5zY3JvbGxIZWlnaHQsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJlaGF2aW9yOiAnc21vb3RoJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSwgXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAyMDBcclxuICAgICAgICAgICAgICAgICAgICAgICAgKTtcclxuICAgICAgICAgICAgICAgICAgICB9aWYod2luZG93Lm91dGVyV2lkdGggPCA0ODEpe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBmb290ZXIuc3R5bGUucGFkZGluZ1RvcCA9IDA7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvb3Rlci5zdHlsZS5oZWlnaHQgPSBcIjc1MHB4XCI7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGltZy5zdHlsZS5oZWlnaHQgPSBcIjc1MHB4XCI7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGltZy5zdHlsZS5vYmplY3RGaXQgPSBcInVuc2V0XCI7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGltZy5zdHlsZS5vYmplY3RQb3NpdGlvbiA9IFwidW5zZXRcIjtcclxuICAgICAgICAgICAgICAgICAgICAgICAgc2V0VGltZW91dChcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZ1bmN0aW9uKCl7IFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdpbmRvdy5zY3JvbGxUbyh7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRvcDogZG9jdW1lbnQuYm9keS5zY3JvbGxIZWlnaHQsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJlaGF2aW9yOiAnc21vb3RoJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSwgXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAyMDBcclxuICAgICAgICAgICAgICAgICAgICAgICAgKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIF9pbml0U3VibWl0KCkge1xyXG4gICAgICAgIHZhciBwYXJlbnROb2RlID0gdGhpcy5zdWJtaXRCdG4ucGFyZW50Tm9kZTtcclxuICAgICAgICBpZihwYXJlbnROb2RlLmNsYXNzTGlzdC5jb250YWlucyhcImJ0bl9fY29udGFpbmVyXCIpKSB7XHJcbiAgICAgICAgICAgIHBhcmVudE5vZGUuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoZSkgPT4ge1xyXG4gICAgICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICAgICAgICAgICAgaWYoIXRoaXMuc3VibWl0QnRuLnBhcmVudE5vZGUuY2xhc3NMaXN0LmNvbnRhaW5zKFwibm90dmFsaWRcIikpIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnNpbXBsZUxvYWRlci5zaG93TG9hZGVyKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgbGV0IGRhdGEgPSB0aGlzLmdldEZvcm1EYXRhKHRoaXMuaW5wdXRzKTtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnNlbmRTdWJzY3JpcHRpb24oZGF0YSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHRoaXMuc3VibWl0QnRuLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKGUpID0+IHtcclxuICAgICAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgICAgICAgICAgIGlmKCF0aGlzLnN1Ym1pdEJ0bi5wYXJlbnROb2RlLmNsYXNzTGlzdC5jb250YWlucyhcIm5vdHZhbGlkXCIpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zaW1wbGVMb2FkZXIuc2hvd0xvYWRlcigpO1xyXG4gICAgICAgICAgICAgICAgICAgIGxldCBkYXRhID0gdGhpcy5nZXRGb3JtRGF0YSh0aGlzLmlucHV0cyk7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zZW5kU3Vic2NyaXB0aW9uKGRhdGEpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0Rm9ybURhdGEoaW5wdXRzKSB7XHJcbiAgICAgICAgdmFyIGRhdGEgPSBbXTtcclxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGlucHV0cy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICBjb25zdCAgIGlucHV0ID0gaW5wdXRzW2ldLFxyXG4gICAgICAgICAgICAgICAgICAgIG5hbWUgPSAoaW5wdXQuZ2V0QXR0cmlidXRlKCdkYXRhLXNjLWZpZWxkLW5hbWUnKSAhPSBudWxsKSA/IGlucHV0LmdldEF0dHJpYnV0ZSgnZGF0YS1zYy1maWVsZC1uYW1lJyk6IGlucHV0LmdldEF0dHJpYnV0ZSgnaWQnKTtcclxuXHJcbiAgICAgICAgICAgIHN3aXRjaChpbnB1dC5nZXRBdHRyaWJ1dGUoXCJ0eXBlXCIpKSB7XHJcbiAgICAgICAgICAgICAgICBjYXNlIFwidGV4dFwiIDpcclxuICAgICAgICAgICAgICAgICAgICBkYXRhLnB1c2goe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBuYW1lOiBuYW1lLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZTogaW5wdXQudmFsdWVcclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIGNhc2UgXCJjaGVja2JveFwiOlxyXG4gICAgICAgICAgICAgICAgICAgIHZhciBpbnB1dENoZWNrID0gKGlucHV0LmNoZWNrZWQgPT09IHRydWUpID8gMSA6IDA7XHJcbiAgICAgICAgICAgICAgICAgICAgZGF0YS5wdXNoKHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbmFtZTogbmFtZSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWU6IGlucHV0Q2hlY2tcclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIGNhc2UgXCJyYWRpb1wiOlxyXG4gICAgICAgICAgICAgICAgICAgIGlmKGlucHV0LmNoZWNrZWQpe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBkYXRhLnB1c2goe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbmFtZTogbmFtZSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlOiBpbnB1dC52YWx1ZVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmKG5hbWUgPSBcIlZhbHVlLVJlYXNvblwiKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkYXRhLnB1c2goe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU6IFwiVmFsdWUtUmVhc29uLVRyXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWU6IGlucHV0LnZhbHVlXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgY2FzZSBcImhpZGRlblwiOlxyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgZGVmYXVsdDpcclxuICAgICAgICAgICAgICAgICAgICBkYXRhLnB1c2goe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBuYW1lOiBuYW1lLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZTogaW5wdXQudmFsdWVcclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcmV0dXJuIGRhdGE7XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0TG9jYWxlKCkge1xyXG4gICAgICAgIHZhciBsb2NhbGUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdodG1sJykuZ2V0QXR0cmlidXRlKFwibGFuZ1wiKTtcclxuICAgICAgICByZXR1cm4gbG9jYWxlO1xyXG4gICAgfVxyXG5cclxuICAgIHNlbmRTdWJzY3JpcHRpb24oZGF0YSkge1xyXG4gICAgICAgIHZhciBkYXRhVG9TZW5kID0ge307XHJcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBkYXRhLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IGQgPSBkYXRhW2ldO1xyXG4gICAgICAgICAgICBkYXRhVG9TZW5kW2QubmFtZV0gPSBkLnZhbHVlO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8gYWRkIGRlZmF1bHQgdmFsdWVzXHJcbiAgICAgICAgaWYodGhpcy5wcml2YWN5ID09PSAxKVxyXG4gICAgICAgICAgICBkYXRhVG9TZW5kW0xJU1RfUFJJVkFDWV0gPSB0aGlzLnByaXZhY3k7XHJcbiAgICAgICAgZGF0YVRvU2VuZFt0aGlzLnN1YnNjcmlwdGlvbkF0dHJpYnV0ZV0gPSB0aGlzLnN1YnNjcmlwdGlvbjtcclxuXHJcbiAgICAgICAgdmFyIGNvbnRlbnQgPSB7XHJcbiAgICAgICAgICAgIFByb2ZpbGVJRDogdGhpcy5wcm9maWxlSUQsXHJcbiAgICAgICAgICAgIExvY2FsZTogdGhpcy5nZXRMb2NhbGUoKSxcclxuICAgICAgICAgICAgRGF0YTogZGF0YVRvU2VuZCxcclxuICAgICAgICAgICAgVHJhbnNhY3Rpb25OYW1lOiB0aGlzLnRyYW5zYWN0aW9uTmFtZVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdmFyIGRhdGEgPSB7XHJcbiAgICAgICAgICAgIHVybDogdGhpcy5lbmRwb2ludFRhcmdldCxcclxuICAgICAgICAgICAgbWV0aG9kOiAnUE9TVCcsXHJcbiAgICAgICAgICAgIGNvbnRlbnRUeXBlOiAnYXBwbGljYXRpb24vanNvbicsXHJcbiAgICAgICAgICAgIGRhdGFUeXBlOiAnanNvbicsXHJcbiAgICAgICAgICAgIGFjY2VwdHM6ICdqc29uJyxcclxuICAgICAgICAgICAgZGF0YTogSlNPTi5zdHJpbmdpZnkoY29udGVudClcclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICAkLmFqYXgoZGF0YSlcclxuICAgICAgICAuc3VjY2VzcygocmVzdWx0KSA9PiB7XHJcbiAgICAgICAgICAgIGlmKHJlc3VsdC5Jc1N1Y2Nlc3NmdWwgJiYgdGhpcy5kZXN0aW5hdGlvbiAhPSBudWxsKSB7XHJcbiAgICAgICAgICAgICAgICBpZighIXRoaXMub25TdWJtaXRTdWNjZXNzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5vblN1Ym1pdFN1Y2Nlc3MoKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHdpbmRvdy5sb2NhdGlvbi5ocmVmID0gXCIvXCIrdGhpcy5kZXN0aW5hdGlvbjtcclxuICAgICAgICAgICAgICAgIC8vIHdpbmRvdy5sb2NhdGlvbi5yZXBsYWNlKHRoaXMuZGVzdGluYXRpb24pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSlcclxuICAgICAgICAuZXJyb3IoKCBqcVhIUiwgdGV4dFN0YXR1cywgZXJyb3JUaHJvd24gKSA9PiB7XHJcbiAgICAgICAgICAgIHRoaXMuc2ltcGxlTG9hZGVyLmhpZGVMb2FkZXIoKTtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coYCVjIFJFUVVFU1QgRkFJTEVEOiAke2Vycm9yVGhyb3dufWAsJ2NvbG9yOiByZWQnKTtcclxuICAgICAgICB9KTtcclxuICAgIH1cclxufSIsIi8vIGV4cG9ydCBjb25zdCBzdWJzY3JpYmUgPSB7XHJcbi8vICAgICBsb2NhbGhvc3Q6ICcvY3JtL3Byb2ZpbGUnLFxyXG4vLyAgICAgcHJlcHJvZDogJ2h0dHBzOi8vbWlsa2Etc3VwcG9ydGluZy1wcmVwcm9kLmF6dXJld2Vic2l0ZXMubmV0L3N1cHBvcnRpbmcvY3JtL3Byb2ZpbGUnLFxyXG4vLyAgICAgcHJvZHVjdGlvbjogJ2h0dHBzOi8vbWlsa2Etc3VwcG9ydGluZy5henVyZXdlYnNpdGVzLm5ldC9zdXBwb3J0aW5nL2NybS9wcm9maWxlJ1xyXG4vLyB9XHJcbi8vIGV4cG9ydCBjb25zdCB1blN1YnNjcmliZSA9IHtcclxuLy8gICAgIGxvY2FsaG9zdDogJy9jcm0vdW5zdWJQcm9maWxlJyxcclxuLy8gICAgIHByZXByb2Q6ICdodHRwczovL21pbGthLXN1cHBvcnRpbmctcHJlcHJvZC5henVyZXdlYnNpdGVzLm5ldC9zdXBwb3J0aW5nL2NybS91bnN1YnNjcmliZXByb2ZpbGUnLFxyXG4vLyAgICAgcHJvZHVjdGlvbjogJ2h0dHBzOi8vbWlsa2Etc3VwcG9ydGluZy5henVyZXdlYnNpdGVzLm5ldC9zdXBwb3J0aW5nL2NybS91bnN1YnNjcmliZXByb2ZpbGUnXHJcbi8vIH1cclxuXHJcbmV4cG9ydCBjb25zdCBzdWJzY3JpYmUgPSBgJHtfX1NVUFBPUlRJTkd9L3N1cHBvcnRpbmcvY3JtL3Byb2ZpbGVgO1xyXG5leHBvcnQgY29uc3QgdW5TdWJzY3JpYmUgPSBgJHtfX1NVUFBPUlRJTkd9L3N1cHBvcnRpbmcvY3JtL3Vuc3Vic2NyaWJlcHJvZmlsZWA7IiwiZXhwb3J0IGNsYXNzIHNjcm9sbCB7XHJcbiAgICBjb25zdHJ1Y3Rvcigpe1xyXG4gICAgICAgIHRoaXMuaXNTY3JvbGxpbmcgPSBmYWxzZTtcclxuICAgIH1cclxuXHJcbiAgICBkaXNhYmxlU2Nyb2xsKCl7XHJcbiAgICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignYm9keScpLnN0eWxlLm92ZXJmbG93ID0gXCJoaWRkZW5cIjtcclxuICAgIH1cclxuXHJcbiAgICBlbmFibGVTY3JvbGwoKXtcclxuICAgICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdib2R5Jykuc3R5bGUub3ZlcmZsb3cgPSBcIlwiO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogXHJcbiAgICAqIEBwYXJhbSB7RE9NfSBzZWN0aW9uIERPTSBlbGVtZW50IGFjdCBhcyB0YWdldCBmb3Igc2Nyb2xsIHRvcFxyXG4gICAgICogQHBhcmFtIHtTdHJpbmd8SW50ZWdlcn0gZHVyYXRpb24gVGhlIER1cmF0aW9uIG9mIGFuaW1hdGlvbiAobWlsaXNlY29kcyBvciBzdHJpbmcpIFtkZWZhdWx0ICdzbG93J11cclxuICAgICAqIEBwYXJhbSB7SW50ZWdlcn0gT2Zmc2V0IEFtb3VudCB0byBvZmZzZXQgb24gRE9NIHRvcCBbZGVmYXVsdCAwXVxyXG4gICAgICovXHJcbiAgICBzY3JvbGxUb3Aoc2VjdGlvbiwgZHVyYXRpb24gPSAnc2xvdycsIG9mZnNldCA9IDApIHtcclxuICAgICAgICBjb25zdCAgIHNjcm9sbFBvc3Rpb24gPSAkKHNlY3Rpb24pLmxlbmd0aCA+IDAgPyAkKHNlY3Rpb24pLm9mZnNldCgpLnRvcCArIG9mZnNldCA6IG51bGwsXHJcbiAgICAgICAgICAgICAgICAkcGFnZSA9ICQoXCJodG1sLCBib2R5XCIpO1xyXG5cclxuICAgICAgICAvLyAqIHN0b3AgYW5pbWF0aW9uIGlmIHNjcm9sbCBpcyB0cmlnZ2VyZWQgYnkgdXNlclxyXG4gICAgICAgICRwYWdlLm9uKFwic2Nyb2xsIG1vdXNlZG93biB3aGVlbCBET01Nb3VzZVNjcm9sbCBtb3VzZXdoZWVsIGtleXVwIHRvdWNobW92ZVwiLCBmdW5jdGlvbigpe1xyXG4gICAgICAgICAgICAkcGFnZS5zdG9wKCk7XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIC8vICogQW5pbWF0ZSBzY3JvbGxcclxuICAgICAgICBpZihzY3JvbGxQb3N0aW9uICE9PSBudWxsICYmIHRoaXMuaXNTY3JvbGxpbmcgIT09IHRydWUpIHtcclxuICAgICAgICAgICAgdGhpcy5pc1Njcm9sbGluZyA9IHRydWU7XHJcblxyXG4gICAgICAgICAgICAkcGFnZS5hbmltYXRlKHtcclxuICAgICAgICAgICAgICAgICAgICBzY3JvbGxUb3A6IHNjcm9sbFBvc3Rpb25cclxuICAgICAgICAgICAgICAgIH0sIFxyXG4gICAgICAgICAgICAgICAgICAgIGR1cmF0aW9uLFxyXG4gICAgICAgICAgICAgICAgICAgIGZ1bmN0aW9uKCl7IC8vISBleGVjdXRlZCBvbiBmdW5jdGlvbiBhbmltYXRlIGNvbXBsZXRlXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICRwYWdlLm9mZihcInNjcm9sbCBtb3VzZWRvd24gd2hlZWwgRE9NTW91c2VTY3JvbGwgbW91c2V3aGVlbCBrZXl1cCB0b3VjaG1vdmVcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuaXNTY3JvbGxpbmcgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICk7XHJcbiAgICAgICAgICAgIHRoaXMuaXNTY3JvbGxpbmcgPSBmYWxzZTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn0iLCJpbXBvcnQgeyBzY3JvbGwgfSBmcm9tICcuLi8uLi91dGlscy9kb2N1bWVudFNjcm9sbCc7XHJcblxyXG5jb25zdCBTSU1QTEVfTE9BREVSX0lEID0gXCIjc2ltcGxlXCI7XHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBzaW1wbGVMb2FkZXIge1xyXG4gICAgY29uc3RydWN0b3Iob3B0aW9ucyA9IHt9KSB7XHJcbiAgICAgICAgdGhpcy5kaXNwbGF5ID0gZmFsc2U7XHJcbiAgICAgICAgdGhpcy5zY3JvbGwgPSBuZXcgc2Nyb2xsKCk7XHJcbiAgICAgICAgdGhpcy5jb250YWluZXIgPSAhIW9wdGlvbnMubG9hZGVyU2VsZWN0b3IgJiYgISFkb2N1bWVudC5xdWVyeVNlbGVjdG9yKG9wdGlvbnMubG9hZGVyU2VsZWN0b3IpID8gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihvcHRpb25zLmxvYWRlclNlbGVjdG9yKSA6IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5qcy1sb2FkZXInKTtcclxuICAgICAgICB0aGlzLmxvYWRlciA9ICh0aGlzLmNvbnRhaW5lciAhPT0gbnVsbCkgPyAgdGhpcy5jb250YWluZXIucXVlcnlTZWxlY3RvcihTSU1QTEVfTE9BREVSX0lEKTogbnVsbDtcclxuICAgIH1cclxuXHJcbiAgICBzaG93TG9hZGVyKCkge1xyXG4gICAgICAgIGlmKCF0aGlzLmRpc3BsYXlcclxuICAgICAgICAgICAgJiYgISF0aGlzLmxvYWRlcikge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zY3JvbGwuZGlzYWJsZVNjcm9sbCgpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5sb2FkZXIuc3R5bGUuZGlzcGxheSA9IFwiYmxvY2tcIjtcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5kaXNwbGF5ID0gdHJ1ZTtcclxuICAgIH1cclxuXHJcbiAgICBoaWRlTG9hZGVyKCkge1xyXG4gICAgICAgIGlmKHRoaXMuZGlzcGxheSA9PT0gdHJ1ZSAmJiB0aGlzLmxvYWRlciAhPT0gbnVsbCkge1xyXG4gICAgICAgICAgICB0aGlzLnNjcm9sbC5lbmFibGVTY3JvbGwoKTtcclxuICAgICAgICAgICAgdGhpcy5sb2FkZXIucmVtb3ZlQXR0cmlidXRlKCdzdHlsZScpO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLmRpc3BsYXkgPSBmYWxzZTtcclxuICAgIH1cclxuXHJcbiAgICB1cGRhdGVMb2FkZXIoKSB7XHJcbiAgICAgICAgdGhpcy5sb2FkZXIgPSAodGhpcy5jb250YWluZXIgIT09IG51bGwpID8gIHRoaXMuY29udGFpbmVyLnF1ZXJ5U2VsZWN0b3IoU0lNUExFX0xPQURFUl9JRCk6IG51bGw7XHJcbiAgICB9XHJcblxyXG4gICAgYWRkQ2xhc3MoY2xhc3NlKSB7XHJcbiAgICAgICAgdGhpcy5sb2FkZXIuY2xhc3NMaXN0LmFkZChjbGFzc2UpO1xyXG4gICAgfVxyXG4gICAgcmVtb3ZlQ2xhc3MoY2xhc3NlKSB7XHJcbiAgICAgICAgdGhpcy5sb2FkZXIuY2xhc3NMaXN0LnJlbW92ZShjbGFzc2UpO1xyXG4gICAgfSAgICBcclxufVxyXG5cclxuZXhwb3J0IGNvbnN0IEdsb2JhbExvYWRlciA9IG5ldyBzaW1wbGVMb2FkZXIgKHt9KSIsIlxyXG5pbXBvcnQgeyBOZXdzbGV0dGVyIH0gZnJvbSBcIi4uL3ZpZXcvY29tcG9uZW50cy9uZXdzbGV0dGVyXCI7XHJcbmltcG9ydCB7c3Vic2NyaWJlLCB1blN1YnNjcmliZX0gZnJvbSBcIi4uL21vZGVsL25ld3NsZXR0ZXIvbmV3c2xldHRlci1lbmRwb2ludHNcIjtcclxuaW1wb3J0IHsgQXJyYXlVdGlscyB9IGZyb20gXCIuLi91dGlscy9hcnJheS11dGlsc1wiO1xyXG5cclxuZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignRE9NQ29udGVudExvYWRlZCcsIGZ1bmN0aW9uKGUpIHtcclxuICAgIGNvbnN0ICAgc3ViU2VydmljZSA9IHN1YnNjcmliZSxcclxuICAgICAgICAgICAgdW5zdWJTZXJ2aWNlID0gdW5TdWJzY3JpYmU7XHJcblxyXG4gICAgaWYoZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLmpzLXN1YnNjcmliZS1uZXdzbGV0dGVyJykubGVuZ3RoID4gMCkge1xyXG4gICAgICAgIG5ldyBOZXdzbGV0dGVyKHtcclxuICAgICAgICAgICAgZm9ybVNlbGVjdG9yIDogXCIuanMtc3Vic2NyaWJlLW5ld3NsZXR0ZXJcIixcclxuICAgICAgICAgICAgZGVzdGluYXRpb246ICdpbnB1dFt0eXBlPVwiaGlkZGVuXCJdI3RhcmdldC1nby10by10aGFuay15b3UnLFxyXG4gICAgICAgICAgICBsYWJlbFNlbGVjdG9yIDogXCIuanMtY29uZmlybWF0aW9uLWxhYmVsXCIsXHJcbiAgICAgICAgICAgIGxhYmVsVmFsdWVTZWxlY3RvciA6IFwiLmpzLWNvbmZpcm1hdGlvbi1sYWJlbC12YWx1ZVwiLFxyXG4gICAgICAgICAgICBwcm9maWxlSUQ6IFwibmV3c2xldHRlcl9wYWdlXCIsXHJcbiAgICAgICAgICAgIHRyYW5zYWN0aW9uTmFtZTogWyduZXdzbGV0dGVyX2luJ10sXHJcbiAgICAgICAgICAgIHRhcmdldDogc3ViU2VydmljZSxcclxuICAgICAgICAgICAgb25TdWJtaXRTdWNjZXNzIDogKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgLy8gY29uc29sZS5sb2coXCJvblN1Ym1pdFN1Y2Nlc3NcIilcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG4gICAgaWYoZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLmpzLXVuc3ViLWZvcm0nKS5sZW5ndGggPiAwKSB7XHJcbiAgICAgICAgbmV3IE5ld3NsZXR0ZXIoe1xyXG4gICAgICAgICAgICBmb3JtU2VsZWN0b3IgOiBcIi5qcy11bnN1Yi1mb3JtXCIsXHJcbiAgICAgICAgICAgIGRlc3RpbmF0aW9uOiAnaW5wdXRbdHlwZT1cImhpZGRlblwiXSN0YXJnZXQtZ28tdG8tdGhhbmsteW91JyxcclxuICAgICAgICAgICAgcHJvZmlsZUlEOiBcIm5ld3NsZXR0ZXJfdW5zdWJcIixcclxuICAgICAgICAgICAgdHJhbnNhY3Rpb25OYW1lOiBbJ25ld3NsZXR0ZXJfb3V0J10sXHJcbiAgICAgICAgICAgIGxhYmVsU2VsZWN0b3IgOiBudWxsLFxyXG4gICAgICAgICAgICBsYWJlbFZhbHVlU2VsZWN0b3IgOiBudWxsLFxyXG4gICAgICAgICAgICB0YXJnZXQ6IHVuc3ViU2VydmljZSxcclxuICAgICAgICAgICAgcHJpdmFjeTogMSxcclxuICAgICAgICAgICAgc3Vic2NyaXB0aW9uOiAxLFxyXG4gICAgICAgICAgICBzdWJBdHRyaWJ1dGU6IFwiU3Vic2NyaXB0aW9uXCIsXHJcbiAgICAgICAgICAgIG9uU3VibWl0U3VjY2VzcyA6ICgpID0+IHtcclxuICAgICAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKFwib25TdWJtaXRTdWNjZXNzXCIpXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgIH1cclxuICAgIFxyXG4gICAgaWYoZG9jdW1lbnQucXVlcnlTZWxlY3RvcignaW5wdXRbZGF0YS1zYy1maWVsZC1uYW1lPVwiVmFsdWUtUmVhc29uXCJdJykgIT09IG51bGwpIHtcclxuICAgICAgICBsZXQgcmFkaW9zID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnaW5wdXRbZGF0YS1zYy1maWVsZC1uYW1lPVwiVmFsdWUtUmVhc29uXCJdJyk7XHJcblxyXG4gICAgICAgIGZvcihsZXQgaSA9IDA7IGkgPCByYWRpb3MubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgdmFyIHJhZGlvID0gcmFkaW9zW2ldO1xyXG5cclxuICAgICAgICAgICAgLy8gISBDVFggUlVMRTogT25seSB3aGVuIFwiU29uc3RpZ2VzXCIvXCJPdGhlcnNcIiBpcyBzZWxlY3RlZCBhcyByZWFzb24sIGFsbG93IHVzZXIgdG8gaW5wdXQgdGV4dCByZWFzb25cclxuICAgICAgICAgICAgcmFkaW8uYWRkRXZlbnRMaXN0ZW5lcignY2hhbmdlJywgKGUpPT4ge1xyXG4gICAgICAgICAgICAgICAgbGV0IHRleHRSZWFzb24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuanMtdGV4dC1yZWFzb24nKTtcclxuICAgICAgICAgICAgICAgIC8vIGlmKEFycmF5VXRpbHMuaW5jbHVkZXMoXCJqcy1yZWFzb24tdHJpZ2dlclwiLCByYWRpby5jbGFzc0xpc3QpICYmIHJhZGlvLmNoZWNrZWQpIHtcclxuICAgICAgICAgICAgICAgIGlmKGkgPT0gcmFkaW9zLmxlbmd0aC0xICYmIHJhZGlvLmNoZWNrZWQpIHtcclxuICAgICAgICAgICAgICAgICAgICAvLyBzaG93IHRleHQgcmVhc29uIHt0ZXh0YXJlYX1cclxuICAgICAgICAgICAgICAgICAgICB0ZXh0UmVhc29uLmNsYXNzTGlzdC5yZW1vdmUoJ2hpZGUnKTtcclxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gaGlkZSB0ZXh0IHJlYXNvbiB7dGV4dGFyZWF9XHJcbiAgICAgICAgICAgICAgICAgICAgdGV4dFJlYXNvbi5jbGFzc0xpc3QuYWRkKCdoaWRlJyk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59KTsiXSwic291cmNlUm9vdCI6IiJ9
//# sourceMappingURL=newsletter.min.js.map
